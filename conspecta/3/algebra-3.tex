\documentclass[a4paper]{report}

\usepackage{../mathstemplate}
\usepackage{textcomp}

\date{III семестр, осень 2023 г.}
\title{Алгебра. Неофициальный конспект}
\author{Лекторы: Николай Александрович Вавилов \\ Степанов Алексей Владимирович \and \\ Конспектировал Леонид Данилевич}

\begin{document}

    \shorthandoff{"}
    \maketitle
    Изначально предполагалось, что лекции будет читать Николай Александрович Вавилов.

    13 сентября была прочитана третья лекция.
    Николай Александрович прекрасно выглядел, сообщил о пересдаче в следующем месяце, а после лекции как обычно остался, чтобы отвечать на вопросы.
    Я подошёл с вопросом о том, почему спин полуцелый (да, к лектору по алгебре --- это было упомянуто на лекции с обоснованием того, что $\R P^2$ двулистно накрывает плоскость (может, я ошибаюсь)).
    Николай Александрович что-то говорил про специальный индийский танец с чашей, про привязывание греческого кратера резинками за обе ручки к стенкам с последующим закручиванием, и про спиноры.
    К сожалению, про это я так ничего и не понял --- сложно описывать повороты трёхмерного тела в пространстве, а о спинорах я слышал в первый раз.

    Уже выйдя на улицу, я потом в шутку предложил на следующий день принести греческую чашу и резинки, чтобы Николай Александрович сам всё показал ---  14 сентября была запланирована очередная, четвёртая, лекция.

    Я пришёл на неё за несколько минут до начала, и с удивлением увидел, что у аудитории стоит лишь несколько человек.
    Оказалось, лекцию отменили --- Николай Алесандрович внезапно плохо себя почувствовал, и сообщил об этом администраторам.
    Нам написали, что 14 сентября лекции не будет, и её проведут в другой день.

    А уже вечером того дня до нас сарафанной почтой дошло известие о смерти учителя.
    Мой одногруппник, Лев, поделился чьим-то сообщением с фотографией записи, приписав <<Это правда?>>

    Сначала, кажется, никто не поверил.
    Я увидел текст, и подумал: <<И ведь действительно, сегодня лекции не было. Но он заболел, а не умер, что за глупая шутка>>.
    Потом я проверил, что запись на стене поделившегося человека действительно существует, и в ту же секунду Лев написал, что, похоже, это не шутка.

    Это была не шутка.

    Николай Александрович Вавилов, наш учитель алгебры, прекрасный преподаватель, которого любили, кажется, все, скоропостижно скончался 14 сентября 2023 года.

%    Все последующие лекции прочитаны Алексеем Владимировичем Степановым.
    \tableofcontents
    \newpage
    \setcounter{lection}{0}

    %полилинейная алгебра, теория представлений конечных групп, теория категорий


    \chapter{Полилинейная алгебра}

    \newlection{5 сентября 2023 г.}


    \section{Полилинейные отображение}
    Пусть $R$ --- коммутативное кольцо.
    \definition[Полилинейное отображение]{
        Отображение $\phi: M_1, \times \dots \times M_s \map M$, где $M_1, \dots, M_s, M$ --- $R$-модули, такое, что оно
        \numbers{
            \item Аддитивно по любому аргументу при фиксированных остальных.
            \item Однородно степени $1$ по каждому аргументу (выносится скаляр).
        }
    }
    \examples{
        \item Билинейные формы --- скалярные произведения.
        \item Умножение в алгебре $A \times A \map A$, где $A$ --- алгебра над $R$.
        \item Определитель --- $n$-линейная форма.
    }
    \note{
        Если $M_1, \dots, M_s$ свободны, то $\phi$ определён заданием значений на наборах базисных векторов.
    }
    Обозначим за $L(M_1, \dots, M_s; M)$ множество всех $s$-линейных отображений $M_1 \times \dots \times M_s \map M$.
    На этом множестве можно ввести структуру $R$-модуля:
    \gather{
        (\phi + \psi)(u_1, \dots, u_s) = \phi(u_1, \dots, u_s) + \psi(u_1, \dots, u_s)\\
        (\lambda\phi)(u_1, \dots, u_s) = \lambda \cdot \phi(u_1, \dots, u_s)\\
    }
    Если $R = K$ --- поле, то $\dim(L(M_1, \dots, M_s; M)) = \dim(M_1) \proddots \dim(M_s) \cdot \dim(M)$.

    Тензорные произведения позволяют в некотором смысле сводить полилинейные отображения к линейным.


    \section{Определение тензорного произведения двух модулей}

    \subsection{Мотивация}
    Рассмотрим $X, Y$ --- два множества.
    Хотим построить функцию $\phi: X \times Y \map K$, где $K$ --- поле.

    Рассмотрим пару функций $f: X \map K, g: Y \map K$.
    Как их превратить в одну функцию?
    Надо взять их тензорное произведение!

    \[f\otimes g: X \times Y \map K; (x, y) \mapsto f(x) \cdot g(y)\]
    Это было бы произведение функций, если бы $f$ и $g$ были заданы на одном множестве $X = Y$.

    Функция такого вида --- функция с разделяющимися переменными.

    К сожалению, не все функции имеют такой вид.
    Рассмотрим лучше суммы
    \[f_1 \otimes g_1 + \dots + f_m \otimes g_m: X \times Y \map K\]
    Если $|X|, |Y| < \infty$, то (из сравнения размерностей) равенство $K^{X \times Y} = K^X \otimes K^Y$.

    Получается, $\dim(U \oplus V) = \dim(U) + \dim(V)$, и $\dim(U \otimes V) = \dim(U) \cdot \dim(V)$.

    Мы таким образом сможем отождествить $L(M_1, \dots, M_s, M) = \Hom(M_1 \otimes \dots \otimes M_s; M)$, действительно сведя полилинейные отображения к линейным.

    \subsection{Симметричность}
    \definition[Полилинейное отображение $\phi: M \times \dots \times M \map N$ симметрично] {
        $\phi(\dots, u, \dots, v, \dots) = \phi(\dots, v, \dots, u, \dots)$
    }
    \definition[Полилинейное отображение $\phi: M \times \dots \times M \map N$ антисимметрично] {
        $\phi(\dots, u, \dots, u, \dots) = 0$
    }
    Для таких полилинейных отображений возникнут особые конструкции --- симметрической степени $S^m(M)$ и внешней степени $\bigwedge^m(M)$.

    \subsection{Тензорное произведение двух модулей}
    Пусть $R$ --- коммутативное кольцо.
    \definition[Тензорное произведение $R$-модулей $L, M$]{
        $R$-модуль $L \otimes M$ вместе с билинейным отображением $\psi: L \times M \map L \otimes M$ таким, что

        для любого $R$-модуля $N$, для любого полилинейного $\phi: L \times M \map N$: $\exists! $ $R$-линейное $\eta: L \otimes M \map N$, такое, что диаграмма ниже коммутативна.
        % https://q.uiver.app/#q=WzAsMyxbMCwwLCJMIFxcdGltZXMgTSJdLFsyLDAsIkwgXFxvdGltZXMgTSJdLFsxLDEsIk4iXSxbMCwxLCJcXHBzaSJdLFswLDIsIlxccGhpIiwyXSxbMSwyLCJcXGV0YSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
        \[\begin{tikzcd}[ampersand replacement=\&,row sep=large]
        {L \times M}
              \&\& {L \otimes M} \\
              \& N
              \arrow["\psi", from=1-1, to=1-3]
              \arrow["\phi"', from=1-1, to=2-2]
              \arrow["\eta", dashed, from=1-3, to=2-2]
        \end{tikzcd}\]
    }

    Обозначим пару $(x, y)$ за $x \otimes y$, назовём её \textit{разложимым тензором}.

    Должно выполняться
    \gather{
        (x_1 + x_2) \otimes y = x_1 \otimes y + x_2 \otimes y\\
        x\otimes (y_1 + y_2) = x \otimes y_1 + x \otimes y_2 \\
        x \lambda \otimes y = (x \otimes y)\lambda = x \otimes y \lambda
    }
    Последнее в случае $L$ --- левого модуля, $M$ --- правого модуля, обращается в $x \lambda \otimes y = x \otimes \lambda y$.

    \theorem[Существование тензорного произведения]{
        Для любых $R$-модулей $L, M$ существует $L \otimes M$.
        \provehere{
            Введём $P$ --- свободный модуль на множестве образующих --- множестве пар $(x, y) \in L \times M$.
            Его элементы --- формальные суммы
            \[\sum\limits_{x \in L, y \in M}(x, y)\lambda_{x,y},\qquad\text{где }\lambda_{x,y}\in R,\text{ почти все }0\]
            В $P$ не выполнены соотношения, перечисленные выше, введём их и профакторизуем.

            \[Q = \angles{\arr{c}{(x_1 + x_2, y) - (x_1, y) - (x_2, y)\\
            (x, y_1 + y_2) - (x, y_1) - (x, y_2) \\
            (x \lambda, y) - (x, y)\lambda\\
            (x,y \lambda) - (x,y)\lambda}}\]
            Теперь по определению обозначим $L \otimes M = P / Q$.

            Докажем универсальное свойство.

        %универсальное свойство базиса, по теореме о гомоморфизме пропускается через L \otimes M \map N
        }
    }

    \subsection{Базис тензорного произведения двух модулей}
    Выберем два свободных модуля $L = R^l, M = R^m$.
    Пусть $L = \angles{e_1, \dots, e_l}, M = \angles{f_1, \dots, f_m}$.
    \theorem{
        В качестве базиса $L \otimes M$ можно выбрать \[\arr{c c c}{e_1 \otimes f_1 & \dots & e_1 \otimes f_m \\ \vdots & \ddots & \vdots \\ e_l \otimes f_1 & \dots & e_l \otimes f_m }\]
        \provehere{
            $L \times M \map L \otimes M$ --- отображение, переводящее $(e_i, f_j)$ в $e_i \otimes f_j$.
            Всякое полилинейное $\phi$ задаётся значениями на базисных элементах.
            Значит, надо знать $\phi(e_i, f_j)$. Введём $\eta$ на базисных значениях, положив $\eta(e_i \otimes f_j) = \phi(e_i, f_j)$.
            Понятно, что эти условия необходимы, то есть $\eta$ единственна.
        }
    }
    \corollary{
        $\dim(L \otimes M) = \dim(L) \dim(M)$.
    }
    \newlection{7 сентября 2023 г.}
    Можно определить $U \otimes V \otimes W$ как $(U \otimes V) \otimes W \overset{?}= U \otimes (V \otimes W)$.

    Почему (и можно ли?) считать, что тензорное произведение ассоциативно?
    Коммутативно ли оно?
    Коммутативным тензорное произведение считать не хочется.

    Определим $M_1 \otimes \dots \otimes M_s$ так, что $L(M_1, \dots, M_s, M) = \Hom(M_1, \otimes \dots \otimes M_s, M)$, а потом докажем существование всяких канонических изоморфизмов.


    \section{Тензорное произведение нескольких модулей}
    $R$ --- по-прежнему коммутативное кольцо.

    \definition[Тензорное произведение $M_1 \otimes \dots \otimes M_s$]{
        Модуль $M_1 \otimes \dots \otimes M_s$ вместе с $s$-линейным отображением \begin{align*}
                                                                                      \psi: M_1 \times \dots \times M_s &\map M_1 \otimes \dots \otimes M_s\\(x_1, \dots, x_s) &\mapsto \underbrace{x_1 \otimes \dots \otimes x_s}_{\text{разложимый тензор}}
        \end{align*}такой, что
        $\forall$ $R$-модуля $M, \forall$ полилинейного отображения $ \phi: M_1 \times \dots \times M_s \map M$: $\exists ! \theta: M_1 \otimes \dots \otimes M_s \map M$, такая что диаграмма ниже коммутативна.
        % https://q.uiver.app/#q=WzAsMyxbMCwwLCJNXzEgXFx0aW1lcyBcXGRvdHMgXFx0aW1lcyBNX3MiXSxbMiwwLCJNXzEgXFxvdGltZXMgXFxkb3RzIFxcb3RpbWVzIE1fcyJdLFsxLDEsIk0iXSxbMCwyLCJcXHBoaSJdLFsxLDIsIlxcdGhldGEiLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMCwxLCJcXHBzaSIsMl1d
        \[\begin{tikzcd}[ampersand replacement=\&,row sep=large]
        {M_1 \times \dots \times M_s}
              \&\& {M_1 \otimes \dots \otimes M_s} \\
              \& M
              \arrow["\phi", from=1-1, to=2-2]
              \arrow["\theta"', dashed, from=1-3, to=2-2]
              \arrow["\psi"', from=1-1, to=1-3]
        \end{tikzcd}\]
    }
    \provehere[Доказательство существования]{
        Универсальное свойство базиса и теорема о гомоморфизме опять.

        Возьмём свободный модуль $P = \angles{(x_1, \dots, x_s)}_{x_i \in M_i}$, профакторизуем по подмодулю \[Q = \angles{\arr{c}{(x_1 + x_1', x_2, \dots, x_s) - (x_1, x_2, \dots, x_s) - (x_1', x_2, \dots, x_s)\\\ddots\\(x_1 \lambda, x_2, \dots, x_s) - (x_1, x_2, \dots, x_s)\lambda\\\ddots}}\]

        Обозначим $M_1 \otimes \dots \otimes M_s = P/Q$, где $\psi: M_1 \times \dots \times M_s \map M_1 \otimes \dots \otimes M_s$ есть композиция отображения, переводящего элементы множества $(x_1, \dots, x_s)$ в соответствующие элементы, образующие свободный модуль $P$ и канонической проекции.

        $\theta$ построится единственным образом согласно универсальному свойству фактормодуля.
    }
    \theorem{
        Тензорное произведение ассоциативно с точностью до изоморфизма.
        \provehere{
            \gather{(L \otimes M) \otimes N \leftrightarrow L \otimes M \otimes N \leftrightarrow L \otimes (M \otimes N)\\(x_1 \otimes x_2) \otimes x_3 \leftrightarrow x_1 \otimes x_2 \otimes x_3 \leftrightarrow x_1 \otimes (x_2 \otimes x_3)\qedhere}
        }
    }
    \definition[Тензор]{
        Элемент тензорного произведения.
    }
    \note{
        Всякий тензор представим в виде конечной суммы разложимых тензоров
        \[x_1 \otimes \dots \otimes x_s + y_1 \otimes \dots \otimes y_s + \dots + z_1 \otimes \dots \otimes z_s\]
        и наименьшее количество слагаемых называется \textit{ранг} тензора.
    }

    \subsection{Базис тензорного произведения}
    Предположим, что $M_1, \dots, M_s$ свободны, $(e_1^{j}, \dots, e_{n_j}^j)$ --- базис $M_j$.
    \theorem{
        Тогда $M_1 \otimes \dots \otimes M_s$ --- свободный модуль с базисом $e_{i_1}^1 \otimes e_{i_2}^2 \otimes \dots \otimes e_{i_s}^s$, где $1 \le i_j \le n_j$, $1 \le j \le s$.
        \provehere{
            Аналогично случаю двух тензорных множителей.
        }
    }


    \section{Изоморфизмы тензорного произведения}

    \subsection{Геометрическое определение тензорного произведения}
    <<Берёте вы какую-нибудь книжку по дифференциальным уравнениям, и там на первых страницах написано>>
    \[U \otimes V = L(U^*, V^*; K)\]
    %Локально тривиальные расслоения --- проективные модули (ого)

    \subsection{Определение $\otimes$ через $\Hom$}
    Пусть $U, V, W$ --- свободные модули над $R$ конечного ранга.
    \theorem{
        Имеет место канонический изоморфизм $U \otimes V = \Hom(U^*, V) = \Hom(V^*, U)$.
        \provehere{
            Рассмотрим $u \in U, v \in V$, сопоставим \gather{(u, v) \mapsto (\eta_{u,v}: U^* \map V), \qquad \eta_{u,v}: \theta \mapsto \theta(u) \cdot v}
            Заметим, что $U \times V \map \Hom(U^*, V)$ билинейно, значит, пропускается через тензорное произведение:
            \begin{align*}
                U \otimes V &\map \Hom(U^*, V)\\(u,v)&\mapsto\eta_{u,v}
            \end{align*} определено корректно и $R$-линейно.

            Базис переходит в базис: $e_i \otimes f_j \mapsto \all{e_i^* \mapsto f_j \\ e_h^* \mapsto 0}$, значит, ранги $U \otimes V$ и $\Hom(U^*, V)$ равны, откуда отображение биективно (но только потому, что модули конечного ранга).
        }
    }
    \ok
    \intfact{$\Hom(U \otimes V, W \otimes Z) = \Hom(U, W) \otimes \Hom(V, Z)$ --- докажем, определив тензорное произведение гомоморфизмов.}
    То, что пишется в этом и следующем подразделе --- частные случаи данного факта.

    \subsection{Двойственность для $\otimes$}
    \theorem{
        $(U \otimes V)^* = U^* \otimes V^*$.
        \provehere{
            Пусть $\eta \in U^*, \theta \in V^*$. Сопоставим $(\eta, \theta) \mapsto (u \otimes v \mapsto \eta(u)\cdot \theta(v))$.
            Определение корректно, так как от $\eta$ и от $\theta$ зависит линейно, то есть зависит билинейно от $(\eta, \theta)$, значит, по определению тензорного произведения есть единственное отображение $U^* \otimes V^* \map (U \otimes V)^*$.

            Это изоморфизм, так как отображение инъективно, и размеры базисов совпадают:
            \bullets{
                \item $e_i^* \otimes f_j^*$ --- базис $U^* \otimes V^*$
                \item $(e_i \otimes f_j)^*$ --- базис $(U \otimes V)^*$.\qedhere
            }
        }
    }
    \corollary[Определение $\otimes$ через $\Hom$]{
        $U \otimes V = (U^* \otimes V^*)^* = \Hom(U^* \otimes V^*, R) = L(U^*, V^*; R)$.
    }
    В силу ассоциативности $\otimes$ это верно для любого количества модулей.

    \subsection{Сопряжённость $\otimes$ и $\Hom$}
    \theorem{
        $\Hom(U \otimes V, W) = \Hom(U, \Hom(V, W))$.
    }


    \section{Тензорное произведение линейных отображений}
    Докажем, что тензорное произведение является ковариантным \textit{функтором}~(\ref{functor}) двух аргументов.

    Функтор --- это что-то, что берёт одну вещь, и сопоставляет ей другую вещь, сохраняя морфизмы --- какие-то полезные стрелки.

%    Сопоставим $\vect{\phi: U \map W \\ \psi: V \map Z} \rightsquigarrow (\phi \otimes \psi): U \otimes V \map W \otimes Z$.
%    Нарисовав матрицу тензорного произведения в базисах тензорных сомножителей мы получим кронекеровское произведение матриц.

    \newlection{13 сентября 2023 г.}

    Сопоставим двум линейным отображениям $\phi: U \map W, \psi: V \map Z$ отображение $\phi \otimes \psi: U \otimes V \map W \otimes Z$.
    \definition[Тензорное произведение линейных отображений]{
        Такое отображение, определённое на разложимых тензорах
        \begin{align*}
            \phi \otimes \psi: U \otimes V &\map W \otimes Z \\u \otimes v &\mapsto \phi(u) \otimes \psi(v)
        \end{align*}
    }
    \note{Определение корректно, и продолжается по линейности на все элементы $U \otimes V$}
    \theorem{
        Тензорное произведение билинейно (1-3) и функториально (4-5):
        \numbers{
            \item $(\phi_1 + \phi_2) \otimes \psi = \phi_1 \otimes \psi + \phi_2 \otimes \psi$.
            \item $\phi \otimes (\psi_1 + \psi_2) = \phi \otimes \psi_1 + \phi \otimes \psi_2$.
            \item $\phi \otimes (\lambda\psi) = (\lambda\phi ) \otimes \psi = \lambda(\phi \otimes \psi)$.
            \item $(\phi_2 \otimes \psi_2)\circ(\phi_1 \otimes \psi_1) = (\phi_2 \circ \phi_1) \otimes (\psi_2 \circ \psi_1)$.
            \item $\id_U \times \id_V = \id_{U \otimes V}$
        }
        \provehere{
            Применить обе части к одному и тому же разложимому тензору $u \otimes v \in U \otimes V$.
            По билинейности совпадения на них будет достаточно.

            Например, \multline{((\phi_2 \otimes \psi_2)\circ(\phi_1 \otimes \psi_1))(u \otimes v) = (\phi_2 \otimes \psi_2)((\phi_1 \otimes \psi_1)(u \otimes v)) = \\
                = (\phi_2 \otimes \psi_2)(\phi_1(u) \otimes \psi_1(v)) = \phi_2(\phi_1(u)) \otimes \psi_2(\psi_1(v)) = \\
                = (\phi_2 \circ \phi_1 \otimes \psi_2 \circ \psi_1)(u \otimes v)}
        }
    }
    Таким образом, мы определили билинейное отображение $\Hom(U, W) \times \Hom(V, Z) \map \Hom(U \otimes V, W \otimes Z)$, ему соответствует отображение из тензорного произведения
    \[\Hom(U, W) \otimes \Hom(V, Z) \map \Hom(U \otimes V, W \otimes Z)\]
    \theorem{
        Выше написанное отображение --- изоморфизм (для свободных модулей конечного ранга $U, V, W, Z$).
        При данном изоморфизме разложимому тензору $\phi \otimes \psi$ ставится в соответствие тензорное произведение линейных отображений $\phi \otimes \psi$.
        \provehere{
            Ранги модулей в левой и правой частях равны $\rk(U) \cdot \rk(V)\cdot \rk(W)\cdot \rk(Z)$.
            Обозначим маленькими пронумерованными буковками базис соответствующего кольца.

            Рассмотрев базисные элементы $\phi_{i,h}: u_i \mapsto w_h;\: \psi_{j,k}: v_j \mapsto z_k$ видим, что они отправляются в базисные элементы
            \begin{align*}
                \phi_{i,h}\otimes \psi_{j,k}=\theta_{(i,j),(h,k)}: U \otimes V &\map W \otimes Z\\u_i \otimes v_j &\mapsto w_n \otimes z_k\qedhere
            \end{align*}
        }
    }
    \note{
        Этот изоморфизм обобщает все ранее написанные изоморфизмы, кроме сопряжённости тензорного произведения и $\Hom$.
    }

    \subsection{Матрица тензорного произведения линейных отображений}
    Пусть $(x_{i,j}) = x \in M(m, n, R), (y_{h,k}) = y \in M(p, q, R)$.
    \definition[Тензорное произведение матриц]{
        Блочная матрица \[x \otimes y = \vect{x_{1,1}y & \cdots & x_{1,n}y \\ \vdots & \ddots & \vdots \\ x_{m,1}y & \cdots & x_{m,n}y}\]
        Также данная матрица называется кронекеровским произведением $x$ и $y$.
    }
    \note{
        Вот так, например, выглядит кронекеровское произведение столбцов: \[\vect{x_1 \\ \vdots \\ x_m}\otimes \vect{y_1 \\ \vdots \\ y_n} = \vect{x_1y_1 \\\vdots \\x_1y_n\\\vdots\\\vdots \\ x_m y_1 \\\vdots \\ x_m y_n}\]
    }
    \proposal{\down
    \numbers{
        \item $(x \otimes y) \otimes z = x \otimes (y \otimes z)$.
        \item $(x_1 + x_2) \otimes y = x_1 \otimes y + x_2 \otimes y$.
        \item $x \otimes (y_1 + y_2) = x \otimes y_1 + x \otimes y_2$.
        \item $\lambda x \otimes y = \lambda (x \otimes y) = x \otimes \lambda y$.
        \item $(xz) \otimes (yw) = (x \otimes y) \cdot (z \otimes w)$.
        \item $e_n \otimes e_m = e_{m \cdot n}$.}
    \provehere{
        Пусть $\phi: U \map V, \psi: W \map Z$, причём матрица $\phi$ в базисе $(e_i)$ равна $x$, матрица $\psi$ в базисе $(f_j)$ равна $y$.

        Тогда матрица $\phi \otimes \psi$ в базисе $(e_i \otimes f_j)_{i,j}$, упорядоченном в виде \[e_1\otimes f_1, \dots, e_1 \otimes f_n, \dots, e_m \otimes f_1 \dots, e_m \otimes f_n\] равна $x \otimes y$.

        Все записанные свойства уже доказаны ранее про тензорное произведение линейных отображений.
    }
    }

    \subsection{Кронекеровское произведения и кронекеровская сумма многочленов}
    Пусть $\phi: U \map U, \psi: V \map V$.
    Пусть $u, v$ --- собственные векторы $\phi$ и $\psi$ с числами $\lambda$ и $\mu$ соответственно.
    \[(\phi \otimes \psi)(u \otimes v) = \phi(u) \otimes \psi(v) = \lambda u \otimes \mu v = \lambda \mu(u \otimes v)\]
    Таким образом, если мультимножество собственных чисел $\phi$ --- $(\lambda_1, \dots, \lambda_m)$, а мультимножество собственных чисел $\psi$ --- $(\mu_1, \dots, \mu_n)$, то собственные числа $\lambda\mu$ равны $(\lambda_i\cdot \mu_j)_{i,j}$.

    Всякому многочлену $f \in R[t]$ (со старшим коэффициентом 1) можно сопоставить сопровождающую матрицу
    \[B(f) = (-1)^{n-1}\vect{0 & \dots & \dots & a_0 \\ 1 & & & a_1 \\ & \ddots & &\vdots\\ 0 & & 1 & a_{n-1}}\]

    Таким образом, $\chi(B(f) \otimes B(g))$ --- многочлен, корни которого --- попарные произведения корней $f$ и $g$.
    Этот многочлен обозначается $f \boxtimes g$, и называется \textit{кронекеровским произведением многочленов}.

    Ещё Кронекер определил кронекеровскую сумму.
    \definition[Кронекеровская сумма многочленов $f, g$]{
        $f \boxplus g = \chi(B(f) \otimes e_n + e_m \otimes B(g))$.
    }
    Это многочлен, корни которого --- попарные суммы корней $f$ и $g$.
    \corollary{
        Множество алгебраических чисел образует кольцо.
    }


    \section{Тензорные пространства}
    Пусть $U$ --- модуль (его элементы --- векторы --- $T^1(U)$).
    Можно построить $U^*$ (его элементы --- ковекторы --- $T_1(U)$).

    Дальше можно построить $\Hom(U, U) = U^* \otimes U = T^1_1(U)$.
    \definition[Тензорное пространство типа $(p, q)$]{
        $T^p_q(U) = \underbrace{U \otimes \dots \otimes U}_{p} \otimes \underbrace{U^* \otimes \dots \otimes U^*}_{q}$.

        Число $p$ традиционно называется \textit{контравариантной валентностью}, а $q$ --- \textit{ковариантной валентностью}.
        (Инверсия <<ко>> и <<контра>> произошла из-за слежения не за базисами, а за координатами)
    }

    Координаты элемента тензора $x \in T^p_q(U)$ индексируется $p$ верхними и $q$ нижними индексами.
    Иногда ещё помнят, в каком порядке шли $U$ и $U^*$ в тензорном произведении (и возникают записи вида $x^{\cdot j \cdot}_{k \cdot h}$), но все перестановки канонически изоморфны.

    \definition[Чисто ковариантное тензорное пространство]{$T^0_q(U)$.}
    \definition[Чисто контравариантное тензорное пространство]{$T^p_0(U)$.}
    Иначе ($p,q\ne0$) пространство называют \textit{смешанным}

    Сумму $p + q$ называют \textit{полной валентностью тензора}.

    Перечислим некоторые тензоры маленькой полной размерности.
    \examples[Всё на свете --- тензор]{
        \item $T^0_0(U) = R$ --- скаляры.
        \item $T^1_0(U) = U$ --- векторы.
        \item $T^0_1(U) = U^*$ --- ковекторы.
        \item $T^1_1(U) = U \otimes U^* = \Hom(U, U)$ --- линейные операторы.
        \item $T^2_0(U) = U \otimes U = U^{\otimes 2} = L(U^*, U^*; R)$.
        \item $T^0_2(U) = U^* \otimes U^* = (U \otimes U)^*$ --- билинейные отображения $U \times U \map R$, или просто отображения $U \otimes U \map R$ (также известные природе, как 2-формы).
        \item $T^0_3(U) = U^* \otimes U^* \otimes U^* = L(U,U,U;R)$.
        \item $T^1_2(U) = U \otimes U^* \otimes U^* = \Hom((U^* \otimes U^*)^*, U) = \Hom(U \otimes U, U)$ --- задают на $U$ структуру алгебры с билинейным умножением.
        \note{
            Пусть $A$ --- алгебра над кольцом $R$, $(e_1, \dots, e_n)$ --- базис группы по сложению $A$ (если это свободный $R$-модуль).
            На алгебре задано умножение $\text{mul}: A \times A \map A$.
            \[\text{mul}: e_i, e_j \mapsto e_i \cdot e_j = \sum\limits_{h}x_{i,j}^h e_h\]
            Эти коэффициенты $x_{i,j}^h$ --- \textit{структурные константы} алгебры.
            Тензор $(x_{i,j}^h)$ --- \textit{структурный тензор} алгебры $A$.

            Структурный тензор зависит от выбора базиса, но зависит с точностью до чего-то вроде сопряжения.
        }
        \item $T^2_1(U) = U \otimes U \otimes U^* = \Hom(U, U \otimes U)$. Операция $\Delta: U \map U \otimes U$ --- \textit{копроизведение}, объекты снабжённые копроизведениями --- \textit{коалгебры}.
        \item $T^3_0(U) = U \otimes U \otimes U = U^{\otimes 3}$ --- 3-формы на $U^*$.
        \item Дальше --- больше.
        Дальше идут объекты, с которыми мы ещё не сталкивались, но в науке они встречаются.
        Будут встречаться 4-формы $U \times U \times U \times U \map R$, тернарные алгебры $U \times U \times U \map U$, ещё какие-то структуры --- например, $U \otimes U \map U \otimes U$, что уже и не описать без тензорных произведений.
    }
    \newlection{19 сентября 2023 г.}
    %https://alexei.stepanov.spb.ru --- в том числе конспект
    Пусть $V$ --- свободный $R$-модуль над коммутативным кольцом.

    Пусть $(e_1, \dots, e_n) = e$ --- базис $V$;\ пусть $V^* = \Hom(V, R)$ --- двойственный модуль.

    $V^*$ --- тоже свободный модуль, его базис --- двойственный $e^* = \vect{e^1\\ \vdots\\ e^n}$.
    По определению $e^i(e_j) = \delta_{i,j}$.

    Пусть $e = (e_1, \dots, e_n)$ и $f = (f_1, \dots, f_n)$ --- два базиса $V$.
    Введём матрицу замена от базиса к базису $f = e\cdot \vect{e \rightsquigarrow f}$.

    В первом семестре мы показали, что матрица замены базиса для двойственного пространства --- обратная к данной.
    \proposal{
        Матрица перехода от $e^*$ к $f^*$ равна $(f^* \rightsquigarrow e^*) = (e \rightsquigarrow f)^{-1}$.
        \provehere{
            Равенство $e^i(e_j) = \delta_{i,j}$ в матричном виде выглядит в виде ${\vect{e^1 \\ \vdots \\ e^n} \cdot \vect{e_1 & \cdots & e_n} = E}$.

            Аналогично $\vect{f^1 \\ \vdots \\ f^n} \cdot \vect{f_1 & \cdots & f_n} = E$.

            Домножая первое равенство справа на $(e \rightsquigarrow f)$ и слева на обратную матрицу, получаем \[(e \rightsquigarrow f)^{-1}\vect{e^1 \\ \vdots \\ e^n}\vect{f_1 & \cdots & f_n} = E = \vect{f^1 \\ \vdots \\ f^n} \vect{f_1 & \cdots & f_n}\]

            Так как $f$ --- базис, то есть векторы $f_1, \dots, f_n$ линейно независимы, то $(e \rightsquigarrow f)^{-1}\vect{e^1 \\ \vdots \\ e^n} = \vect{f^1 \\ \vdots \\ f^n}$.
        }
    }
    Теперь рассмотрим $T^p_q(V) = \underbrace{V \otimes \dots \otimes V}_p \times \underbrace{V^* \otimes \dots \otimes V^*}_q$.

    Пусть $x \in T^p_q(V)$.
    \[x = \sum\limits_{\substack{i_1, \dots, i_q \\ j_1, \dots, j_p}} \left(e_{j_1} \otimes \dots \otimes e_{j_p} \otimes e^{i_1} \otimes \dots \otimes e^{i_q}\right) \cdot ([x]_e)^{j_1, \dots, j_p}_{i_1, \dots, i_q}\]
    где $[x]_e$ --- координаты разложения $x$ по базису $e$, которые индексируются $p$ верхними и $q$ нижними индексами.
    \theorem{
        При замене координат базиса координаты разложения меняются следующим образом
        \[([x]_f)^{j_1, \dots, j_p}_{i_1, \dots, i_q} = \sum\limits_{\substack{k_1, \dots, k_p \\ m_1, \dots, m_q}} (\tilde{c})_{i_1, \dots, i_q}^{m_1, \dots, m_q} \cdot ([x]_e)^{k_1, \dots, k_p}_{m_1, \dots, m_q} \cdot (c)_{k_1 \dots k_p}^{j_1 \dots j_p}\]
        где $(\tilde{c})_{i_1, \dots, i_q}^{m_1, \dots, m_q} = \prod\limits_{l = 1}^{q}((f \rightsquigarrow e)^{-1})^{m_l}_{i_l}$ и $(c)_{k_1 \dots k_p}^{j_1 \dots j_p} = \prod\limits_{l=1}^{p}(f \rightsquigarrow e)_{k_l}^{j_l}$.
        \provehere{

            Запишем преобразования базисов $\vect{e_1 & \cdots & e_n} = \vect{f_1 & \cdots & f_n}(f \rightsquigarrow e)$ и $\vect{e^1 \\ \vdots \\ e^n} = (f \rightsquigarrow e)^{-1}\vect{f^1 \\ \vdots \\ f^n}$.

            Отсюда извлекаем $e_r = \sum\limits_{s} f_s (f \rightsquigarrow e)_r^s = \sum\limits_{s} f_s \cdot (c)_r^s$ и $e^s = \sum\limits_{r} (e \rightsquigarrow f)_r^s \cdot f^r = \sum\limits_{r}(\tilde{c})_r^s\cdot f^r$.
            \[x = \sum\limits_{\substack{k_1, \dots, k_p \\ m_1, \dots, m_q}}\left(e_{k_1} \otimes \dots \otimes e_{k_p} \otimes e^{m_1} \otimes \dots \otimes e^{m_q}\right) \cdot ([x]_e)^{k_1, \dots, k_p}_{m_1, \dots, m_q}\]
            Раскрывая $e_i$ и $e^i$ через суммы по базису $f$, действительно получаем
            \[x = \sum\limits_{\substack{i_1, \dots, i_q \\ j_1, \dots, j_p}} \left(\sum\limits_{\substack{k_1, \dots, k_p \\ m_1, \dots, m_q}} (\tilde{c})_{i_1, \dots, i_q}^{m_1, \dots, m_q}\left(f_{j_1} \otimes \dots \otimes f_{j_p} \otimes f^{i_1} \otimes \dots \otimes f^{i_q}\right) \cdot (c)_{k_1, \dots, k_p}^{j_1, \dots, j_p}\cdot ([x]_e)^{k_1, \dots, k_p}_{m_1, \dots, m_q}\right)\]
        }
    }
    \newlection{21 сентября 2023 г.}

    \subsection{Операции над тензорами}
    \bullets{
        \item Как элементы $R$-модуля, тензоры, конечно, можно складывать.
        В координатах сложение происходит покомпонентно.
        \item Аналогично с умножением на скаляр.
        \item Можно определить умножение на тензорах \begin{align*}
                                                         \otimes: T^p_q \times T^{p'}_{q'} &\map T^{p + p'}_{q + q'}\\(v_{1 \dots p} \otimes f^{1\dots q}), (v'_{1 \dots p'} \otimes f'^{1 \dots q'})&\mapsto v_{q\dots p} \otimes v'_{1\dots p'}\otimes f^{1 \dots q} \otimes f'^{q \dots q'}
        \end{align*}
        Несложно проверить, что умножение билинейно (то есть дистрибутивно).
        \item Сворачивание (не путать со свёрткой) --- от англ. contraction (а отнюдь не convolution).
        Зададим сворачивание на разложимых тензорах.
        \begin{align*}
            C_r^s: T^p_q(V) &\map T^{p - 1}_{q - 1}(V)\\
            (v_1 \otimes \dots \otimes v_p \otimes f^1 \otimes \dots \otimes f^q) &\mapsto (v_1 \otimes \dots \otimes \hat{v_s} \otimes \dots \otimes v_p \otimes f^1 \otimes \dots \otimes \hat{f^r} \otimes \dots \otimes f^q)f^r(v_s)
        \end{align*}
        В координатном виде сворачивание записывается в виде $([C_r^s(x)]_e)^{i_1, \dots, \hat{i}_r, \dots, i_p}_{j_1, \dots, \hat{j}_s, \dots j_q} = \sum\limits_{h}([x]_e)^{i_1, \dots, h, \dots, i_p}_{j_1, \dots, h, \dots j_q}$ где при суммировании $h$ стоит сверху на месте $r$, снизу --- на месте $s$.
        \examples[Сворачивание]{
            \item Пусть $A \in T^1_1(V)$ --- эндоморфизм $V$.
            Если $A$ --- ранга 1, то есть $A = v \otimes \phi$, то $C^1_1(v \otimes \phi) = \phi(v)$.
            Это в точности взятие следа, что может быть записано в координатном виде:
            \gather{
                v = \vect{e_1 & \dots & e_n}\vect{v^1 \\ \vdots \\ v^n}\quad\phi = \vect{\phi_1 & \dots & \phi_n}\vect{e^1 \\ \vdots \\ e^n}\\
                C^1_1(v \otimes \phi) = C^1_1\vect{\phi_1 v^1 & \dots & \phi_n v^1 \\ \vdots & \ddots & \vdots \\ \phi_n v^1 & \dots & \phi_n v^n} = \sum\limits_{i = 1}^{n}\phi_i v^i = \phi(v)
            }
            \item Пусть $A, B \in T^1_1(V)$, то есть $\End(V)$.
            Тензорное произведение $A \otimes B \in T^2_2(V)$.

            Что такое $C_1^2(A \otimes B)$?
            Это элемент $T^1_1(V)$, то есть эндоморфизм пространства $V$.

            Пусть $A = (v\otimes \phi), B = (u \otimes \psi)$.
            \[C_1^2(A \otimes B) = C_1^2(v \otimes \phi) \otimes (u \otimes \psi) = C^2_1(v \otimes u \otimes \phi \otimes \psi) = \phi(u)(v \otimes \psi)\]
            Применение $C^2_1(A \otimes B)$ к некоторому $w \in V$ выдаст $\phi(u)(v \otimes \psi)(w) = v \cdot \phi(u)\psi(w)$, что в точности есть результат применения композиции $AB$ к $w$.
            Таким образом, $C^2_1$ соответствует умножению матриц.
        }
    }


    \section{Тензорная алгебра}
    Заинтересуемся <<наименьшей алгеброй (ассоциативной, с единицей), в которую можно вложить $V$>>.
    Умножение на алгебре зададим как выше, тензорно, валентность произведения равна сумме валентностей множителей.

    В $R$-алгебре с единицей должны присутствовать все скаляры, выполнено вложение $R \hookrightarrow A$.
    Дальше просто по условию выполнено вложение $V \hookrightarrow A$.
    Так как произведение двух элементов $V$ --- контравариантный тензор валентности 2, то такие элементы тоже лежат в $A$.
    И так далее.
    Итого, зададим
    \[T(V) \coloneqq \bigoplus\limits_{n = 0}^{\infty}V^{\otimes n} = R \oplus V \oplus V^{\otimes 2} \oplus \dots\]

    На \textit{однородных элементах} (элементах $V^{\otimes n}$ для некоего $n \in \N$) умножение определено, как описано выше.
    Дальше, умножение продлевается по линейности на все элементы $T(V)$.

    Что означает, что алгебра должно быть наименьшей?
    Сформулируем универсальное свойство.

    С точки зрения теории категорий отображения из модуля в алгебру рассматривать нельзя.
    Для этого обозначим за $\mathcal{F}(A)$ модуль, на котором построена данная алгебра (забыли про умножение).
    Этот $\mathcal{F}$ --- \textit{забывающий функтор}.

    На самом деле, функторы переводят не только объекты из одной категории в другую, но и стрелки.
    Гомоморфизму алгебр $\phi: A \map B$ соответствует гомоморфизм модулей $\mathcal{F}(\phi): A \map B$.

    Потребуем, чтобы для любой алгебры $B$ и для любого гомоморфизма модулей $\psi: V \map \mathcal{F}(B)$ выполнялось условие: $\exists! \phi: A \map B$ --- гомоморфизм алгебр, такой, что диаграмма коммутативна.
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJWIl0sWzEsMCwiXFxtYXRoc2Nye0Z9KEEpIl0sWzEsMSwiXFxtYXRoc2Nye0Z9KEIpIl0sWzAsMiwiXFxwc2kiLDJdLFsxLDIsIlxcbWF0aHNjcntGfShcXHBoaSkiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMCwxLCJcXHRleHR7aW59IiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XV0=
    \[\begin{tikzcd}[ampersand replacement=\&]
          V \& {\mathcal{F}(A)} \\
          \& {\mathcal{F}(B)}
          \arrow["\psi"', from=1-1, to=2-2]
          \arrow["{\mathcal{F}(\phi)}", dashed, from=1-2, to=2-2]
          \arrow["{\text{in}}", hook, from=1-1, to=1-2]
    \end{tikzcd}\]
    \theorem{
        Для так построенной тензорной алгебры $T(V)$ в качестве $A$ выполняется выше описанное универсальное свойство.
        \provehere[Доказательство моего собственного приготовления, то есть не верьте]{
            Если такое $\psi$ найдётся, то $\forall v \in V: \psi(v) = \phi(v)$, а так как $V$ --- множество образующих $\mathcal{F}(T(V))$, как алгебры, то $\psi$ единственно.
            Проверим, что $\psi$ существует.

            Пусть $B$ --- произвольная $R$-алгебра, $\psi: V \map \mathcal{F}(A)$ --- гомоморфизм модулей.

            Определим полилинейное \begin{align*}
                                       \theta_n: \underbrace{V \times \dots \times V}_{n} &\map \mathcal{F}(B)\\(v_1 \otimes \dots \otimes v_n)&\mapsto \phi(v_1) \proddots \phi(v_n)
            \end{align*} на разложимых тензорах.
            Согласно универсальному свойству тензорного произведения, для него найдётся единственное линейное отображение $\eta_n: V^{\otimes n} \map \mathcal{F}(B)$.

            Зададим $\mathcal{F}(\psi): \mathcal{F}(T(V)) \map \mathcal{F}(B)$ на прямых слагаемых в соответствии с $\eta_n$, дальше оно продлевается по линейности.

            Осталось проверить, что $\psi: T(V) \map B$ --- гомоморфизм алгебр, то есть сохраняет умножение.
            Это достаточно проверять на разложимых тензорах, так как умножение билинейно.
            На разложимых же тензорах это очевидно: \[\psi(v_1 \otimes \dots \otimes v_n) \cdot \psi(u_1 \otimes \dots \otimes u_m) = \phi(v_1)\proddots \phi(v_n)\cdot\phi(u_1)\proddots \phi(u_m) = \psi(v_1 \otimes \dots \otimes v_n \otimes u_1 \otimes \dots \otimes u_m)\]
        }
    }


    \section{Градуированные алгебры}
    Пусть $(N, +)$ --- аддитивный коммутативный моноид.
    Часто $N = \N_0$.

    \definition[Градуированная $R$-алгебра]{
        Такая $R$-алгебра $A$, которая раскладывается в прямую сумму $R$-модулей $A_n$.
        \[A = \bigoplus\limits_{n \in N}A_n\]
        причём умножение удовлетворяет свойствам $A_n \cdot A_m \le A_{n + m}$.
    }
    \definition[Однородный элемент $x \in A$]{
        Элемент $x \in \bigcup\limits_{n \in N}A_n$.
    }
    Рассмотрим произвольный элемент $a \in A$.
    Он разложим в сумму однородных элементов, которые называются \textit{однородными компонентами элемента} $a$.

    При построении базиса Грёбнера на кольце многочленов $\Ff[t_1, \dots, t_k]$ вводится градуировка $\N_0^k$, моному $t_1^{n_1} \proddots t_k^{n_k}$ ставится в соответствие $(n_1, \dots, n_k) \in \N_0^k$.

    Также часто встречаются $\Z/2\Z$ градуировки: $A = A_0 \oplus A_1$, где $A_0$ --- подалгебра, а $A_1$ --- подмодуль, такой, что $A_1 \cdot A_1 \le A_0$.
    Например, алгебры Клиффорда.
    \newlection{26 сентября 2023 г.}
    \lemma{
        Пусть $A = \bigoplus\limits{_n \in N}A_n$ --- $N$-градуированная алгебра.
        Пусть $I \normeq A$ --- двусторонний идеал.
        Следующие условия эквивалентны
        \numbers{
            \item $I = \bigoplus\limits_{n \in N}(A_n \cap I)$.
            \item $\forall a \in I$ однородные компоненты $a$ лежат в $I$.
            \item $I$ порождён некоторым множеством однородных элементов.
            \item Проекция $A \map A/I$ является гомоморфизмом $N$-градуированных алгебр (то есть в том числе утверждается, что $A/I$ --- $N$-градуированная алгебра).
        }
        \provebullets{
            \item[$(1)\iff(2)$] И (1), и (2) записываются в виде $\forall a \in I: \exists \{a_n\}$: $a_n \in I \cap A_n$ и $a = \sum\limits_{n \in N}a_n$.
            \item[$(2) \then (3)$] Для $a \in I$ обозначим за $s_a$ набор однородных компонент $a$.
            Согласно $(2)$ $s_a \subset I$, тогда $\angles{\bigcup\limits_{a \in I}s_a} = I$.

            Если $I$ конечно порождён, то можно выбрать объединение $s_a$ для всех образующих $I$, тогда найдётся и конечная система однородных образующих.
            \item[$(3) \then (2)$] Рассмотрим $\forall a \in I$.
            Из условия на порождение получаем $a = x_1 \lambda_1 + \dots + x_n \lambda_n$, где $x_i \in I$ --- однородные.
            Каждый $\lambda_i$ является конечной суммой однородных координат, таким образом, а произведение однородных однородно.
            \item[$(1) \then (4)$] Для всяких модулей верно, что $A/I = \frac{\bigoplus A_n}{\bigoplus I_n} = \bigoplus \frac{A_n}{I_n}$.
            Проекция отображает $a \in A_n$ в $a + I_n$, действительно она уважает градуировку.
            \item[$(4) \then (2)$] Рассмотрим $a \in I$, пусть $a = \sum\limits_{n \in N}a_n$, почти все $a_n = 0$.

            Тогда для гомоморфизма редукции $\rho: \rho(a) = \sum\limits_{n \in N}\rho(a_n)$, где $\rho(a_n) \in A_n/I_n$, но так как это 0, то $a_n \in I_n$.
        }
    }
    \ok
    Пусть $\phi: N \map N'$ --- гомоморфизм моноидов, $A$ --- $N$-градуированная алгебра.

    Тогда $A = \bigoplus\limits_{n \in N}A_n = \bigoplus\limits_{n' \in N'}\left(\bigoplus\limits_{n \in \phi^{-1}(n')}A_n\right)$, то есть $A$ можно превратить в $N'$-градуированную алгебру.

    \example{
        Построим <<общую матрица с определителем 1>>: $\vect{x_{1,1} & \cdots & x_{n,n}\\\vdots&\ddots&\vdots\\x_{n,1}&\cdots&x_{n,n}}$.

        Чтобы определитель был 1, мы рассматриваем эту матрицу над кольцом \[A \coloneqq \Z[x_{1,1}, \dots, x_{n,n}]/(\det(x) - 1)\]

        Эта матрица обладает универсальным свойством: $\forall R, \forall a \in SL_n(R): \exists! \phi: A \map R: SL_n(\phi)(x) = a$.
        $SL_n$ --- функтор, который в частности сопоставляет стрелке $\phi: A \map R$ стрелку $SL_n(\phi): SL_n(A) \map SL_n(R)$ покомпонентным применением $\phi$.

        Так как $\Z[x_{1,1}, \dots, x_{n,n}]$ --- $\N_0$-градуированная алгебра, а $\det(x) - 1$ --- многочлен с однородными компонентами степени $n$ и $0$, то $A$ --- $\Z/n\Z$-градуированная алгебра.
    }
    \definition[Антикоммутативная $\Z/2\Z$-градуированная $R$-алгебра]{
        Такая алгебра, что $\forall a \in A_n, b \in A_m: ab = (-1)^{mn}\cdot ba$.
        Дополнительно потребуем, чтобы $2 \in \Reg R$, тогда $\forall a \in A_1: a^2 = 0$.

        Также такие алгебры называют \textit{градуировано-коммутативными}.
    }
    \definition[Антисимметричное отображение $B: V \times V \map U$]{
        Такое отображение, что $B(x, y) = -B(y, x)$ и $B(x, x) = 0$.
        Если $B$ --- билинейно, то достаточно второго условия, а если $2 \in \Reg R$, то можно обойтись и первым.
    }


    \section{Построение симметрической и внешней алгебр}
    Тензорное пространство (пусть полностью контравариантное) валентности $n$ соответствует однородным многочленам степени $n$ от некоммутирующих переменных.

    В симметрической алгебре мы введём соотношения о коммутировании переменных.
    Для этого профакторизуем по соответствующему идеалу $I_S = \angles{x \otimes x \middle| x \otimes x \in V}\normeq T(V)$.
    \definition[Симметрическая алгебра]{
        $S(V) \coloneqq T(V)/I_S$
    }
    Если $V$ --- свободный $R$-модуль с базисом мощности $n$, то $S(V) \cong R[x_1, \dots, x_n]$~(\ref{s_is_poly}).

    В пару к симметрической алгебре построим <<антисимметрическую>>.
    Здесь переменные будут \textit{антикоммутировать}, $x \otimes y = -y \otimes x$.
    В характеристике 2 это то же самое, что и $x \otimes x = 0$ для любого $x \in V$, а в общем случае условие равенства квадрата нулю сильнее.

    Определим идеал $I_{\wedge} = \angles{x \otimes y - y \otimes x \middle| x, y \in V} \normeq T(V)$.

    \definition[Внешняя алгебра или алгебра Грассмана]{
        $\bigwedge(V) \coloneqq T(V)/I_{\wedge}$
    }
    Если $V$ --- свободный $R$-модуль с базисом мощности $n$, то эта алгебра конечномерна над $R$.
    Всякий разложимый тензор, где какие-то два множителя совпадают, равен нулю, так как из условия следует $x \otimes y = -y \otimes x$.
    Если в разложимом тензоре какие-то две компоненты равны, то переставляя множители, их можно сделать соседними, после чего тензор оказывается равным нулю.

    $V$ вкладывается как в $S(V)$, так и в $\bigwedge(V)$ --- ядро композиции $V \hookrightarrow T(V) \map S(V)$ нулевое, так же как и у $V \hookrightarrow T(V) \map \bigwedge(W)$ (подмодуль, по которому происходит факторизация, содержит только элементы степени хотя бы 2).

    \theorem{
        Для любой \textbf{коммутативной} алгебры $A$, для любого гомоморфизма $R$-модулей $\phi: V \map A$ найдётся единственный гомоморфизм $R$-алгебр $\eta: S(V) \map A$, такой, что диаграмма коммутирует.
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJWIl0sWzEsMCwiVChWKSJdLFsxLDEsIkEiXSxbMiwwLCJTKFYpIl0sWzAsMSwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMCwyLCJcXHBoaSIsMl0sWzEsMywiXFxyaG8iXSxbMywyLCJcXGV0YSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFsxLDIsIlxccHNpIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
        \[\begin{tikzcd}[ampersand replacement=\&]
              V \& {T(V)} \& {S(V)} \\
              \& A
              \arrow[hook, from=1-1, to=1-2]
              \arrow["\phi"', from=1-1, to=2-2]
              \arrow["\rho", from=1-2, to=1-3]
              \arrow["\eta", dashed, from=1-3, to=2-2]
              \arrow["\psi", dashed, from=1-2, to=2-2]
        \end{tikzcd}\]
        \provehere{
            По гомоморфизму $\phi: V \map A$ найдётся единственный гомоморфизм $R$-алгебр $\psi: T(V) \map A$ (универсальное свойство тензорного произведения).

            Так как $\psi: T(V) \map A$ бьёт в коммутативную алгебру, то \[\psi(x \otimes y) = \psi(x) \cdot \psi(y) = \psi(y) \cdot \psi(x) = \psi(y \otimes x)\]
            поэтому образующие $I_S$ лежат в $\Ker(\psi)$.
            Таким образом, $\psi$ пропускается через фактор, а так как $\rho$ --- редукция по $I_S$ --- эпиморфизм, то $\eta$ единственно.
        }
    }
    \theorem{
        Для любой градуировано коммутативной $\Z/2\Z$-градуированной $R$-алгебры $A$, и для любого гомоморфизма $R$-модулей $\phi: V \map A_1$ ($A_1$ --- однородная компонента $A$ с индексом 1) найдётся единственный гомоморфизм $\eta: \bigwedge(V) \map A$, такой, что диаграмма коммутирует.
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJWIl0sWzEsMCwiVChWKSJdLFsxLDEsIkEiXSxbMiwwLCJcXGJpZ3dlZGdlKFYpIl0sWzAsMSwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMCwyLCJcXHBoaSIsMl0sWzEsMiwiXFxwc2kiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMSwzLCJcXHJobyJdLFszLDIsIlxcZXRhIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
        \[\begin{tikzcd}[ampersand replacement=\&]
              V \& {T(V)} \& {\bigwedge(V)} \\
              \& A
              \arrow[hook, from=1-1, to=1-2]
              \arrow["\phi"', from=1-1, to=2-2]
              \arrow["\psi", dashed, from=1-2, to=2-2]
              \arrow["\rho", from=1-2, to=1-3]
              \arrow["\eta", dashed, from=1-3, to=2-2]
        \end{tikzcd}\]
        \provehere{
            По гомоморфизму $\phi: V \map A$ найдётся единственный гомоморфизм $R$-алгебр $\psi: T(V) \map A$ (универсальное свойство тензорного произведения).

            Так как $\psi: T(V) \map A$ бьёт в антикоммутативную $\Z/2\Z$-градуированную $R$-алгебру, то $\forall x \in V$: \[\psi(x \otimes x) = \psi(x) \cdot \psi(x) = -\psi(x) \cdot \psi(x) = -\psi(x \otimes x)\]
            Так как $2 \in \Reg R$, то $\psi(x \otimes x) = 0$;
            поэтому образующие $I_{\wedge}$ лежат в $\Ker(\psi)$.
            Таким образом, $\psi$ пропускается через фактор, а так как $\rho$ --- редукция по $I_\wedge$ --- эпиморфизм, то $\eta$ единственно.
        }
    }
    \ok
    Итак, $I_S = (x \otimes y - y \otimes x)$.
    \note{
        $I_S \cap V^{\otimes n}$ --- подмодуль в $V^{\otimes n}$, порождённый элементами вида \[(x_1 \otimes \dots \otimes y \otimes z \otimes \dots \otimes x_{n - 2}) - (x_1 \otimes \dots \otimes z \otimes y \otimes \dots \otimes x_{n - 2})\] где $y$ и $z$ на одном и том же месте в одном и том же кортеже $x_1 \otimes \dots \otimes x_{n-2}$.}
    \begin{definition_env}[$n$-я симметрическая степень $V$]
        Фактормодуль $V^{\otimes n}/\left(I_S \cap V^{\otimes n}\right)$.
    \end{definition_env}
    Умножение в симметрической алгебре традиционно обозначается точкой, что, как мы впоследствии увидим~(\ref{s_is_poly}), неслучайно.
    Рассмотрим \begin{align*}
                   \phi: \underbrace{V \times \dots \times V}_{n} &\map S^n(V)\\(v_1, \dots, v_n) &\mapsto \overline{v_1 \otimes \dots \otimes v_n} \equiv v_1 \proddots v_n
    \end{align*}
    $\phi$ полилинейно и симметрично.
    \theorem[Универсальное свойство $n$-й симметрической степени]{
        $\forall R$-модуля $M$ и симметричного полилинейного отображения $\underbrace{V \times \dots \times V}_{n} \map M: \exist! \psi: S^n(V) \map V$, такое что диаграмма коммутативна.
        % https://q.uiver.app/#q=WzAsMyxbMCwwLCJWIFxcdGltZXMgXFxkb3RzIFxcdGltZXMgViJdLFsyLDAsIlNebihWKSJdLFsxLDEsIk0iXSxbMCwxXSxbMCwyLCJcXHBoaSIsMl0sWzEsMiwiXFxwc2kiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
        \[\begin{tikzcd}[ampersand replacement=\&, column sep=small]
        {V \times \dots \times V}
              \&\& {S^n(V)} \\
              \& M
              \arrow[from=1-1, to=1-3]
              \arrow["\phi"', from=1-1, to=2-2]
              \arrow["\psi", dashed, from=1-3, to=2-2]
        \end{tikzcd}\]
        \provehere{
            Пусть $\text{in}: V \times \dots \times V \map V^{\otimes n}$
            Согласно универсальному свойству тензорного произведения найдётся $\eta: V^{\otimes n} \map M$, такое, что $\phi = \eta \circ \text{in}$.
            Из симметричности $\phi$ \[\forall a \in V^{\otimes k}, b \in V^{\otimes n - 2 - k}: \eta(a \otimes x \otimes y \otimes b) = \eta(a \otimes y \otimes x \otimes b)\] то есть образующие лежат в ядре $\eta$, и $\eta$ пропускается через фактор.
        }
    }
    Аналогично определяется $n$-я внешняя степень
    \[\bigwedge\!\!{}^n(V) \bydef V^{\otimes n}/I_n = V^{\otimes n}/\angles{a \otimes x \otimes x \otimes b \middle| x \in V, a \in V^{\otimes k}, b \in V^{\otimes n - 2 - k}}\]
    \theorem[Универсальное свойство внешней $n$-й степени]{
        $\forall R$-модуля $M$ и антисимметричного полилинейного отображения $\phi: V \times \dots \times V \map M: \exist! \psi: \bigwedge^n(V) \map V$, такое что диаграмма коммутативна.
        % https://q.uiver.app/#q=WzAsMyxbMCwwLCJWIl0sWzIsMCwiXFxiaWd3ZWRnZV5uKFYpIl0sWzEsMSwiTSJdLFswLDFdLFswLDIsIlxccGhpIiwyXSxbMSwyLCJcXHBzaSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
        \[\begin{tikzcd}[ampersand replacement=\&]
              V \&\& {\bigwedge^n(V)} \\
              \& M
              \arrow[from=1-1, to=1-3]
              \arrow["\phi"', from=1-1, to=2-2]
              \arrow["\psi", dashed, from=1-3, to=2-2]
        \end{tikzcd}\]
        \provehere{
            Пусть $\text{in}: V \times \dots \times V \map V^{\otimes n}$
            Согласно универсальному свойству тензорного произведения найдётся $\eta: V^{\otimes n} \map M$, такое, что $\phi = \eta \circ \text{in}$.
            Из антисимметричности $\phi$ \[\forall a \in V^{\otimes k}, b \in V^{\otimes n - 2 - k}: \eta(a \otimes x \otimes x \otimes b) = 0\]то есть образующие лежат в ядре $\eta$, и $\eta$ пропускается через фактор.
        }
    }
    \newlection{28 сентября 2023 г.}
    $I_\wedge, I_S \normeq T(V)$, где $I_{\wedge} = \angles{x \otimes y - y \otimes x \middle| x, y \in V}, I_s = \angles{x \otimes x \middle| x \otimes x \in V}$.

    \gather{S(V) = T(V)/I_S\qquad\bigwedge(V) = T(V)/I_\wedge\\
    S^n(V) = V^{\otimes n}/\angles{a (x \otimes y - y \otimes x) b \middle | x, y \in V, a \in V^{\otimes k}, b \in V^{\otimes n - k - 2}} \\
    \bigwedge\!\!{}^n(V) = V^{\otimes n}/\angles{a (x \otimes x) b \middle | x \in V, a \in V^{\otimes k}, b \in V^{\otimes n - k - 2}}}

    Операция в $S(V)$ пишется $\cdot$, как обычное умножение, операция в $\bigwedge(V)$ пишется $\wedge$.

    \ok
    Пусть $V$ --- свободный модуль.
    Какие базисы у $S^n(V)$ и $\bigwedge^n(V)$?

    Пусть $(x_1, \dots, x_m)$ --- базис $V$.

    Зададим отображение $f$ из базиса в произвольную коммутативную алгебру.
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXHt4XzEsIFxcZG90cywgeF9uXFx9Il0sWzEsMCwiViJdLFsyLDAsIlMoVikiXSxbMSwxLCJBIl0sWzEsMywiXFxleGlzdHMgISBcXHBoaSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFsyLDMsIlxcZXhpc3RzICEgXFxwc2kiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMCwzLCJmIiwyXSxbMCwxXSxbMSwyLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dXQ==
    \[\begin{tikzcd}[ampersand replacement=\&]
    {\{x_1, \dots, x_n\}}
          \& V \& {S(V)} \\
          \& A
          \arrow["{\exists ! \phi}", dashed, from=1-2, to=2-2]
          \arrow["{\exists ! \psi}", dashed, from=1-3, to=2-2]
          \arrow["f"', from=1-1, to=2-2]
          \arrow[from=1-1, to=1-2]
          \arrow[hook, from=1-2, to=1-3]
    \end{tikzcd}\]
    Тогда существует и единственно $\psi: S^n(V) \map A$ --- гомоморфизм алгебр, а это универсальное свойство кольца многочленов.\label{s_is_poly}

    Таким образом, $S^n(V) \cong R[x_1, \dots, x_m]_{\deg = n}$.
    Можно явно выписать базис.
    Кстати, отсюда видно, почему в $S(V)$ умножение обозначают точкой --- как и в случае обычных переменных.
    \ok
    Элементарная комбинаторика (так как $x_i \wedge x_j = -x_j \wedge x_i$, то соседние переменные в разложимом тензоре можно менять местами, меняя знак; если в одном разложимом тензоре две переменные $x_i$ для какого-то $i$, то он равен нулю) показывает, что $\bigwedge^n(V) = \angles{x_{i_1} \wedge \dots \wedge x_{i_n}\middle|1 \le i_1 < \dots < i_n \le m}$.
    \proposal{
        Это не просто система образующих, а базис $\bigwedge^n(V)$.
        \provehere{
            Надо проверить линейную независимость.
            Пусть $I = \{i_1, \dots, i_n\}$, где $i_1 < i_2 < \dots < i_n$.
            Обозначим $x_{i_1} \wedge \dots \wedge x_{i_n} \eqqcolon x_I$.
            Обозначим $\{1, \dots, n\} \eqqcolon [n]$.

            Предположим наличие линейной зависимости:
            \[\sum\limits_{I \subset [m],|I| = n}x_{I}\alpha_I\]
            Домножим равенство на $x_{[m]\sm J}$, получим $\pm \alpha_J x_{[m]}$.

            Отсюда хочется доказать, что $\alpha_J = 0$ (и мы получим, что всякая линейная зависимость тривиальна), но для этого надо показать, что $x_J \ne 0$.
            Как ни странно, это сделать не очень просто.

            Одним из способов является воспользоваться универсальным свойством внешнего произведения.
            Найдём антисимметричное полилинейное отображение $\underbrace{V \times \dots \times V}_{m} \map R$.
            По счастливому стечению обстоятельств $\dim V = m$, поэтому такое отображение мы знаем, это --- определитель.

            Так как базис $V$ состоит из линейно независимых векторов, то $\det(e_1, \dots, e_m) \ne 0$.
            Но согласно универсальному свойству внешнего произведения $\det$ пропускается через фактор, а тогда из условия $\det(e_1 \wedge \dots \wedge e_m) \ne 0$ следует и само условие $e_{[m]} = e_1 \wedge \dots e_m \ne 0$.
        }
    }
    \note{Обозначения из доказательства $x_{i_1} \wedge \dots \wedge x_{i_n} \eqqcolon x_I$, $\{1, \dots, n\} \eqqcolon [n]$ будут повсеместно встречаться и далее.}


    \section{Другое определение симметрической и внешней алгебр}
    Если кольцо $R$ является $\Q$-алгеброй (то есть разрешается делить на все ненулевые целые), то можно дать другое определение симметрической и внешней алгебрам.
    Введём действие $S_n \curvearrowright V^{\otimes n}$: \begin{align*}
                                                              S^n \times V^{\otimes n}&\map V^{\otimes n}\\\pi, (x_1 \otimes \dots \otimes x_n) &\mapsto x_{\pi(1)} \otimes \dots \otimes x_{\pi(n)}
    \end{align*}
    продолженное так по линейности на все элементы $V^{\otimes n}$.

    Тензор $x \in V^{\otimes n}$ назовём \textit{симметрическим}, если $\forall \pi \in S_n: \pi(x) = x$.
    Все симметрические тензоры образуют подмодуль $\tilde{S}^n(V) \le V^{\otimes n}$, который изоморфен $S^n(V)$.
    Более того, если $R$ --- $Q$-алгебра, то можно ввести умножение данных симметрических тензоров.

    Проблема в том, что по умолчанию произведение симметрических тензоров --- необязательно симметрический тензор, переменные можно переставлять только <<внутри множителей>>.

    Для того, чтобы избежать этой проблемы, введём \textit{симметризацию} $\text{Sym}: V^{\otimes n} \map \tilde{S}^n(V)$.
    Также хочется, чтобы симметризация была проектором на $\tilde{S}^n(V)$, то есть $\forall x \in \tilde{S}^n(V): \text{Sym}(x) = x$.
    Для этого мы её определим так: \begin{align*}
                                       \text{Sym}:V^{\otimes n} &\map \tilde{S}^n(V)\\x &\mapsto \frac{1}{n!}\sum\limits_{\pi \in S_n}\pi(x)
    \end{align*}
    \intfact{$\text{Sym}$ является проектором на $\tilde{S}^n(V)$.
    Умножение \begin{align*}
                  \tilde{S}^n(V),\tilde{S}^k(V)&\map\tilde{S}^{n+k}(V)\\x, y &\mapsto \text{Sym}(x \otimes y)
    \end{align*} коммутативно и ассоциативно.
    С данной операцией $\bigoplus\limits_{n \ge 0}\tilde{S}^n(V)$ становится алгеброй с единицей.
    }
    \ok
    Для внешней алгебры можно действовать также, определив действие $S_n \curvearrowright V^{\otimes n}$: \begin{align*}
                                                                                                              S^n \times V^{\otimes n}&\map V^{\otimes n}\\\pi, (x_1 \otimes \dots \otimes x_n) &\mapsto \sgn(\pi) \cdot x_{\pi(1)} \otimes \dots \otimes x_{\pi(n)}
    \end{align*}и положив $\tilde{\bigwedge}^n(V) \le V^{\otimes n}$, подмодулем, инвариантным относительно данного действия.
    Для умножения введём \begin{align*}
                             \text{Alt}: V^{\otimes n} &\map \tilde{\bigwedge}\!\!{}^n(V)\\x &\mapsto \frac{1}{n!}\sum\limits_{\pi \in S_n}\sgn(\pi)\cdot\pi(x)
    \end{align*}
    \intfact{$\text{Alt}$ является проектором на $\tilde{\bigwedge}^n(V)$.
    Умножение \begin{align*}
                  \tilde{\bigwedge}\!\!{}^n(V),\tilde{\bigwedge}\!\!{}^k(V)&\map\tilde{\bigwedge}\!\!{}^{n+k}(V)\\x, y &\mapsto \text{Alt}(x \otimes y)
    \end{align*} антикоммутативно и ассоциативно.
    С данной операцией $\bigoplus\limits_{n \ge 0}\tilde{\bigwedge}^n(V)$ становится антикоммутативной $\Z/2\Z$-градуированной алгеброй с единицей.
    }

    \newlection{3 октября 2023 г.}


    \section{Вычисления в алгебре Грассмана}
    Пусть $A \in M(m, n, R)$. $I \subset [m], J \subset[m]$,
    Обозначим за \begin{align*}
                     A^I& \text{ подматрицу, состоящую из строк с номерами из }I\\ A_J& \text{ подматрицу, состоящую из столбцов с номерами из }J\\A^I_J& = (A^I)_J = (A_J)^I
    \end{align*}
    \note{
        Базисом внешней алгебры являются $e_I = e_{i_1} \wedge \dots \wedge e_{i_k}$, где $I = \{i_1, \dots, i_k\}$, причём $i_1 < \dots < i_k$.

        \[e_{j_1}\wedge \dots\wedge e_{j_n} = \pm e_J,\text{ где знак --- количество беспорядков (инверсий) в $j_1, \dots, j_n$}\]
    }

    Рассмотрим алгебру Грассмана $\bigwedge(V)$.
    \lemma{\label{calculations_in_grassman}
    Пусть $(u_1, \dots, u_n)C = (v_1, \dots, v_m)$, где $C \in M(n, m, R)$, $u_i, v_j \in V$.
    Интересным случаем является $m \le n$, иначе в обеих частях равенства стоят нули. Утверждается, что
        \[v_{[m]} \coloneqq v_1 \wedge \dots \wedge v_m = \sum\limits_{|I| = m, I \subset [n]}u_{I}\det (C^I)\]
        где $C^I$ --- подматрица $C$, берутся строки с номерами из $I$.
        \provebullets{
            \item Сначала предполагаем, что $(u_i)$ являются базисом $\bigwedge^k(U)$, причём $m = n$.

            Тогда $v_{[m]} \in \bigwedge^m (V) = \angles{ u_{[m]} }$, то есть $v_{[m]} = u_{[m]} \cdot \alpha(C)$, где коэффициент $\alpha$ зависит от матрицы $C$.
            Таким образом, этот коэффициент можно рассматривать, как отображение $\alpha: M(n, R) \map R$.

            Несложно видеть полилинейность, антисимметричность и нормированность $\alpha$, то есть это определитель.

            \item Теперь пусть $m < n$, но $(u_i)$ --- всё ещё базис $V$.
            Тогда $\defset{u_{I}}{I \subset [n], |I| = m}$ --- базис $\bigwedge^m(V)$ и $v_{[m]} = \sum\limits_{I}u_I \alpha_I$.

            Зафиксируем $J \subset [n], |J| = m$. Определим $U \le V$, как подмодуль, натянутый на $\defset{u_j}{j \in J}$.
            Определим проекцию на $U$: $\overline{\cdot}: V \map U, u_i \mapsto \all{u_i, &i \in J \\ 0,& i \notin J}$.
            Чтобы найти коэффициент перед $u_J$, домножим выражение $v_j$ через $u_i$ на матрицу проекции на $U$ (применим надчёркивание):
            \[(\overline{u}_1, \dots, \overline{u}_n)C = (\overline{v}_1, \dots, \overline{v}_m) \qquad\iff\qquad (u_{j_1}, \dots, u_{j_m})C^J = (\overline{v}_1, \dots, \overline{v}_m)\]
            Из предыдущего пункта находим $u_J \det(C^J) = v_{[m]}$.

            \item Теперь докажем общий случай.
            Пусть $M$ --- свободный модуль с базисом $(e_1, \dots, e_n)$, пусть $(f_1, \dots, f_m) \coloneqq (e_1, \dots, e_n)C$. Согласно предыдущему пункту
            \[f_{[m]} = f_1 \wedge \dots \wedge f_m = \sum\limits_{I\subset[n],|I| = m}e_I \det C^I\]
            Согласно универсальному свойству базиса $\exists! L: M \map V: L(e_i) = u_i$.

            $(v_1, \dots, v_m) = (u_1, \dots, u_n)C = (L(e_1), \dots, L(e_n))C = (L(f_1), \dots, L(f_m))$. Применяем $\bigwedge^k(L)$ к $f_1 \wedge \dots \wedge f_m$:
            \[v_{[m]} = L(f_1) \wedge \dots \wedge L(f_m) = \sum\limits_{I}L(e)_{I}\det (C^I) = \sum\limits_{I}u_I \det (C^I)\]
        }
    }
    \corollary[Теорема Бине-Коши]{
        Пусть $R$ --- коммутативное кольцо, $A \in M(m, n, R), C \in M(n, m, R)$.
        Полезным случаем является $m \le n$, иначе обе части будут точно нулями. Утверждается, что
        \[\det(A \cdot C) = \sum\limits_{I \subset [n],|I| = m}\det(A_I)\det(C^I)\]
        \provehere{
            Пусть $V$ --- свободный правый модуль ранга $m$ с базисом $\vect{e_1 & \dots & e_m}$.

            Положим $\vect{u_1 & \cdots & u_n} = \vect{e_1 & \cdots & e_m}A$; далее положим $\vect{v_1 & \cdots & v_m} = \vect{u_1 & \cdots & u_n}C$.

            Согласно~(\ref{calculations_in_grassman}): $v_1 \wedge \dots \wedge v_m = \sum\limits_{I \subset [n], |I| = m}u_I \det(C^I)$.

            Дальше раскрывая $\vect{u_{i_1} & \cdots & u_{i_m}} = \vect{e_{1} & \cdots & e_{m}}A_I$, получаем \[v_{[m]} = \sum\limits_{I \subset [n], |I| = m}u_I \det(C^I) = \sum\limits_{I \subset [n], |I| = m}e_{[m]}\det(A_I) \det(C^I)\]
            Сравнивая с тем, что $\vect{v_1 & \cdots & v_m} = \vect{e_1 & \cdots & e_m}\cdot (AC)$, получаем равенство определителей.
        }
    }
    \theorem[Разложение по нескольким столбцам]{\label{eps_def}
    Рассмотрим блочную матрицу $(B | C)$, где $B \in M(n, k, R), C \in M(n, n - k, R)$.
    Утверждается, что
        \[\det\left(B|C\right) = \sum\limits_{|I| = k}{\eps_I}\cdot \det\left(B^I\right)\det\left(C^{[n]\sm I}\right)\]
        где $\eps_I$ --- знак перестановки ниже (пусть $I = \{i_1 < \cdots < i_k\}; J \coloneqq [n] \sm I = \{j_1 < \cdots < j_{n - k}\}$).
        \[\eps_I = \sgn\vect{1&&\cdots&\cdots&&n\\i_1& \dots& i_k& j_1& \dots& j_{n - k}} = (-1)^{\sum\limits_{i = 1}^{k}(i_s - s)}\]
        \provehere{
            Пусть $B = (e_1, \dots, e_n)B = (b_1, \dots, b_k)$, $C = (e_1, \dots, e_{n})C = (c_1, \dots, c_{n-k})$.
            Посчитаем $b_1 \wedge \dots \wedge  b_k \wedge c_1 \wedge \dots \wedge c_{n - k}$.

            С одной стороны, это равно $e_{[n]} \cdot \det(B | C)$.

            С другой стороны, внешнее произведение ассоциативно: \[(b_1 \wedge \dots b_k) \wedge (c_1 \wedge \dots \wedge c_{n-k}) =\left(\sum\limits_{I \subset [n], |I| = k}e_I \det\left(B^I\right)\right)\wedge\left(\sum\limits_{J \subset [n], |J| = n-k}e_J \det\left(C^J\right)\right) \]
            Так как произведение $e_I \wedge e_J$ не обнуляется только если $I \sqcup J = [n]$, то
            \[(b_1 \wedge \dots b_k) \wedge (c_1 \wedge \dots \wedge c_{n-k}) =\left(\sum\limits_{I \subset [n], |I| = k}e_I \wedge e_{[n]\sm I} \det\left(B^I\right)\det\left(C^{[n]\sm I}\right)\right) \]
            Теперь осталось вычислить $e_I \wedge e_{[n]\sm I}$. Это равняется $\eps_I \cdot e_{[n]}$, где $\eps_I$ --- знак перестановки \[\vect{1&&\cdots&\cdots&&n\\i_1& \dots& i_k& j_1& \dots& j_{n - k}}\]
            Нетрудно видеть, что индексы $i$ упорядочены по возрастанию, $j$ --- тоже, инверсии в данной перестановки образуют только пары $(i_l, j_m)$.
            Индекс $i_l$ образует инверсию с меньшими $j$, таких имеется $i_l - l$.
            В $\Z/2\Z$: $\sum\limits_{l = 1}^{k}(i_l - l) = \sum\limits_{l = 1}^{k}(i_l) + \sum\limits_{l = 1}^{k}i_l + \frac{l(l + 1)}{2}$
        }
    }

    \subsection{Внешняя степень матричного представления}
    \note{
        Всякому отображению $L: U \map V$ соответствует единственное линейное
        \begin{align*}
            \bigwedge\!\!{}^k (L): \bigwedge\!\!{}^k(U) &\map \bigwedge\!\!{}^k(V)\\u_1 \wedge \dots \wedge u_k &\mapsto L(u_1) \wedge \dots \wedge L(u_k)
        \end{align*}
        Это является иллюстрацией того, что всякое хорошая конструкция, задающееся универсальным свойством, является функтором (действует и на морфизмах).
        \provehere{
        % https://q.uiver.app/#q=WzAsNCxbMCwwLCJVIFxcdGltZXMgXFxkb3RzIFxcdGltZXMgVSJdLFsxLDAsIlxcYmlnd2VkZ2VeayhVKSJdLFswLDEsIlZcXHRpbWVzIFxcZG90cyBcXHRpbWVzIFYiXSxbMSwxLCJcXGJpZ3dlZGdlXmsoVikiXSxbMCwyLCJMIiwyXSxbMiwzXSxbMCwxXSxbMCwzXSxbMSwzLCJcXGJpZ3dlZGdlXmsoTCkiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
            \[\begin{tikzcd}[ampersand replacement=\&]
            {U \times \dots \times U}
                  \& {\bigwedge^k(U)} \\
                  {V\times \dots \times V} \& {\bigwedge^k(V)}
                  \arrow["L"', from=1-1, to=2-1]
                  \arrow[from=2-1, to=2-2]
                  \arrow[from=1-1, to=1-2]
                  \arrow[from=1-1, to=2-2]
                  \arrow["{\bigwedge^k(L)}", dashed, from=1-2, to=2-2]
            \end{tikzcd}\]
            Композиция, бьющая $U \times \dots \times U \map \bigwedge^k(V)$ антисимметрична и полилинейна, значит, согласно универсальному свойству внешней алгебры найдётся единственная стрелка $\bigwedge^k(L):\bigwedge^k(U)\map\bigwedge^k(V)$.
            Часто её обозначают просто $L$, в программировании это называется \textit{полиморфизмом} --- зависимость стрелки от передающихся ей аргументов.
        }
    }

    Пусть $L: V \map V$ линейно, $V = \angles{e_1, \dots, e_n}$ --- свободный модуль.
    Обозначим матрицу $L$ в базисе $e$ за $[L]_e$.
    Базису $e$ модуля $V$ соответствует базис $\bigwedge^k e = \defset{e_I}{I \subset [n]}$.

    Изучим связь матрицы $[L]_e$ и матрицы $[\bigwedge^k(L)]_{\bigwedge^k(e)}$.
    \note{ Если $L$ обратим, то $\bigwedge^k\left(L^{-1}\right) = (\bigwedge L)^{-1}$.    }

    Пусть $J \subset [n], |J| = k$.
    $L(e_{j_1}) = (e_1, \dots, e_n)([L]_e)_{*,j_1}$, таким образом $L(e_{j_1}, \cdots, e_{j_k}) = (e_1, \dots, e_n)([L]_e)_J$.
    \[L(e_{j_1}) \wedge \dots \wedge L(e_{j_k}) = \sum\limits_{I \subset [n],|I| = k}e_{I}\det([L]_e)^I_J\]
    Таким образом, мы получили следующий результат:
    \lemma{\label{elements-of-wedge-matrix}
    Элемент матрицы $(\bigwedge^k L)_{\bigwedge^k e}$ в строке $I$ и столбце $J$ равен минору $\det\left(\left([L]_e\right)^I_J\right)$.
    }
    \newlection{5 октября 2023 г.}
    Конечно, подобным образом можно записать некоторую формулу, выражающую элементы матрицы $\bigwedge^k(L)$.

    Например, элементы обратной к любой матрице над коммутативным кольцом равны соответствующим алгебраическим дополнениям, поделённым на определитель.
    Сейчас будет найдено более короткое выражение для этих элементов.
    \note{
        Всё, что мы собираемся доказать над полем --- полиномиальные равенства, поэтому они верны для всех колец (полиномиальные равенства сохраняются при взятии подколец и факторов) --- все кольца являются факторкольцом кольца многочленов (если кольцо очень большое, то и элементов очень много).
        Более того, можно доказать над $\R$, так как $\R$ содержит $\Z[t_i|i \in \N]$ --- всякое полиномиальное равенство содержит конечное число переменных.
    }
    Поэтому можно думать, что $L: V \map V$ --- автоморфизм векторного пространства.
    Выберем базис $V = \angles{e_1, \dots, e_n}$, в нём $A \coloneqq [L]_e$ --- матрица $L$.
    Обозначим за $\bigwedge^k A$ матрицу оператора $\bigwedge^k L$ в базисе $\bigwedge^k e$.
    \theorem{
        Пусть $I, J \subset [n]$.
        Тогда имеет место следующая формула для элементов матрицы $\bigwedge^k A^{-1}$:
        \[\left(\bigwedge\!\!{}^k A^{-1}\right)^I_J = \det\left((A^{-1})^I_J\right) = (-1)^{\eps_I + \eps_J}\frac{1}{\det A}A^{[n] \sm J}_{[n]\sm I}\]
        $\eps_I$ и $\eps_J$ определены здесь~(\ref{eps_def})
        \provehere{
            Пусть $B$ --- матрица $\bigwedge A^{-1}$ в базисе $\bigwedge^k e$.
            Cогласно~(\ref{elements-of-wedge-matrix}), для $I, J \subset [n]; |I| = |J| = k$:
            \[(B^{-1})_I^J = \det\left(\left(A^{-1}\right)_I^J\right)\]
            \ldots

%            $L$ индуцирует эндоморфизм внешней алгебры
%            \[\bigwedge\!\!{}^k(L): \bigwedge\!\!{}^k(V) \map \bigwedge\!\!{}^k(V)\]
%            В $\bigwedge^k(V)$ имеется базис $\bigwedge^k(e) \coloneqq \defset{e_J}{J \subset [n]}$.
%            Обозначим $\bigwedge^k A \coloneqq (\bigwedge^k L)_{\bigwedge^k e} \in M(\binom{n}{k}, K)$.
%
%            В позиции $(I, J)$ матрицы $\bigwedge^k A$ стоит минор $\det(A^I_J)$:
%            \[\bigwedge\!\!{}^k(L)(e_{j_1} \wedge \dots \wedge e_{j_k}) = L(e_{j_1})\wedge \dots \wedge L(e_{j_k}) = \sum\limits_{I \subset [n], |I| = k}e_I A^I_J\]
%
%            Рассмотрим два подпространства $\bigwedge^{n - k}(V) \cong (\bigwedge^k V)^*$.
%
%            Построить изоморфизм $\phi: \bigwedge^{n - k}(V) \cong (\bigwedge^k V)^*$ можно так: пусть $x \in \bigwedge^{n - k}(V), y \in \bigwedge^k(V)$.
%            Посчитаем $x \wedge y = e_{[n]} \cdot \lambda$, и положим $\phi(x)(y) = \lambda$.
%            ($\phi(x)$ отображает $y$ в координату перед $e_{[n]}$ у $x \wedge y$).
%            Изоморфизм, увы, всё равно получился не канонический --- зависит от выбора базиса в $\bigwedge^n(V)$.
%
%            Пусть $I \subset [n], |I| = n-k, J = [n] \sm I$.
%            Заметим, что изоморфизм $\phi$ переводит базисный элемент $e_I \in \bigwedge^{n - k}(V)$ в базисный элемент $f^I \coloneqq e^J$ (определённый на базисе стандартно: $e^{I_1}(e_{I_2}) = \delta_{I_1,I_2}$)
%
%            Их размерности равны, можно ввести базисы, пронумерованные $I \subset [n], |I| = k$:
%            \gather{\bigwedge\!\!{}^k(V) = \angles{e_I = e_{i_1} \wedge \dots \wedge e_{i_k}}\text{\quad и \quad}\angles{f^I = e_J = e_{j_1} \wedge \dots \wedge e_{j_{n-k}}},\\\quad\text{где }I = \{i_1, \dots, i_k\} = [n] \sm J = [n] \sm \{j_1, \dots, j_{n-k}\}}
%            Иными словами, $f^I = (-1)^{\eps_I} \cdot e_{[n]\sm I}$, где $\eps_I$ определено здесь~(\ref{eps_def}).
%
%            Расположим базисные векторы $f^I$ в столбец, обозначим его $f \coloneqq (f^I)_{I \subset [n]}$.
%            Базисные векторы $e$ расположим в строку $e$, которую обозначим $e \coloneqq (e_I)_{I \subset [n]}$.
%
%            Тогда $f \cdot e = E \cdot e_{[n]}$.
%
%            Теперь рассмотрим $\bigwedge(L): \bigwedge(V) \map \bigwedge(V)$.
%
%            На доске было написано
%            \[\bigwedge L (\bigwedge\!\!{}^k e) = \bigwedge^k L (\bigwedge\!\!{}^k e) = (\bigwedge^k e)(\bigwedge^k A)\]
%            \[\bigwedge L(f) = \bigwedge\!\!{}^{n - k}L(f) = f \cdot B\]
%            \[\bigwedge\!\!{}^{n - k}L(f_I) = (-1)^{\eps_I}L(j_1)\wedge \dots \wedge L(e_{j_{n-k}}) = (-1)^{\eps_I}\sum\limits_{|J| = k}e_{[n]\sm J}A^{[n]\sm J}{[n]\sm I} = \sum\limits_{|J| = k}(-1)^{\eps_I + \eps_J}A^{[n]\sm J}_{[n]\sm I}\]
%            $B_{(J,I)} = (-1)^{\eps_I + \eps_J}A^{[n]\sm J}_{[n]\sm I}$.

        % B^t \cdot f^t \cdot e \cdot \bigwedge^k A = E \cdot e_{[n]}\cdot \det A
        % (B^t \bigwedge^k A) = E \cdot \det A
        }
    }


    \section{Грассманиан}

    $\P^n \bydef \defset{(x_0, \dots, x_n) \sm (0, \dots, 0)}{x_i \in F}/\sim$, где $(x_0, \dots, x_n) \sim (\lambda x_0, \dots, \lambda x_n)$ для $\lambda \in F$.
    Множество прямых.

    \definition[Грассманиан]{
        $\Gr_k(V)$ --- множество $k$-мерных подпространств в пространстве $V$. $\Gr_k^n \coloneqq \Gr_k(F^n)$.
    }
    $\Gr_1^n = \P^{n - 1}$.

    Соотношения Плюккера, многообразие Грассмана --- чтобы задать алгебраическую топологию, введём систему полиномиальных уравнений.

    $\dim V = n, U \le V, \dim U = k$.
    Выберем базис $(u_1, \dots, u_k)$ и другой базис $(w_1, \dots, w_k)$. $w = u(u \rightsquigarrow w)$.

    $u_1 \wedge \dots \wedge u_k \cdot \det C = w_1 \wedge \dots \wedge w_k \in \bigwedge(V)$.
    \begin{align*}
        \gamma: \Gr_k(V)&\map \P(\bigwedge^k(V))\\\angles{u_1, \dots, u_k} &\mapsto [u_1 \wedge \dots \wedge u_k]
    \end{align*}
    \lemma{
        $\gamma$ инъективно.
    }
    Чтобы задать полиномиальные уравнения, запишем однородные многочлены.

    Соотношения Плюккера: $\forall L, M: L = (l_1, \dots, l_{k - 1}) \subset [n], M = (m_1, \dots, m_{k + 1}) \subset [n]$.
    \[\sum\limits_{i = 1}^{k + 1}(-1)^{i + \phi(L, m_i)}x_{l \cup \{m_i\}} \cdot x_{M \sm \{m_i\}} = 0\]
    $m_i \in L \then x_{L \cup \{m_i\}} \coloneqq 0$.

    $\phi(L, m_i)$ --- количество тех $l_j$, которые больше $m_i$.

    Точки $x$ с такими однородными координатами лежат в $\Image(\gamma)$ $\iff$ выполнены соотношения Плюккера


    \chapter{Теория представлений конечных групп}


    \newlection{12 октября 2023 г.}


    \section{Теорема Жордана --- Гёльдера}
    Рассмотрим ряд подмодулей $\{0\} = M_0 \le \dots \le M_m= M$.

    Теорема Жордана --- Гёльдера говорит о том, что такой ряд в некотором смысле единственный.
    Для начала, определим, в каком смысле понимать эту единственность.
    Для этого рассмотрим второй ряд $\{0\} = N_0 \le \dots \le N_n = M$
    \definition[Ряды $M_i$ и $N_j$ эквивалентны]{
        Равны наборы факторов соседних: $n = m$ и $\exists \sigma \in S_n: M_i /M_{i - 1} \cong N_{\sigma(i)}/N_{\sigma(i) - 1}$
    }
    \definition[Ряд без повторений]{
        $\forall i: M_{i - 1} \ne M_i$.
    }
    \definition[Простой модуль]{Модуль, в котором нет собственных подмодулей.}
    \definition[Неуплотняемый ряд $M_i$]{
        Все факторы простые: $M_i \le K \le M_{i + 1} \iff \any{K = M_i \\ K = M_{i + 1}}$, то есть $M_{i + 1}/M_i$ прост.
    }
    \definition[Композиционный ряд]{Неуплотняемый ряд без повторений}
    \definition[Артинов модуль]{
        Модуль, удовлетворяющий условию обрыва убывающих цепей (для подмодулей), DCC.
    }
    \definition[Нётеров модуль]{
        Модуль, удовлетворяющий условию обрыва возрастающих цепей (для подмодулей), ACC.
    }
    Согласно лемме Цорна в любом непустом наборе подмодулей артинова модуля есть минимальный элемент, в нётеровом модуле --- максимальный.
    \proposal{
        В модуле $M$ есть композиционный ряд $\iff$ модуль $M$ и артинов, и нётеров.
        \provewthen{
            Построим композиционный ряд по индукции. $\{0\} = M_0 \lneq M_1$, где $M_1$ выбирается, как минимальный элемент (существует из-за артиновости) в множестве $\defset{N \le M}{M_0 \le N}$.
            Таким образом, строится цепочка $M_0 \lneq M_1 \lneq \dots \lneq M_n \lneq \cdots$.
            Данная цепочка за счёт нётеровости обрывается, то есть $\exists n \in \N: M_n = M$
        }{
            Пусть модуль не артинов или не нётеров.
            Тогда существует сколь угодно длинная цепочка из подмодулей.
            Но длина любого ряда не превосходит длины композиционного~(\ref{length}).
        }
    }
    \theorem{
        У любых двух рядов существует их общее уплотнение.
        \provehere{
            Пусть даны два ряда $\{0\} = M_0 \le M_1 \le \dots \le M_m = M$ и $\{0\} = N_0 \le N_1 \le \dots \le N_n = M$.

            Определим $M'_{i,j} = (M_i + N_j) \cap M_{i + 1}$ для $0 \le i < m, 0 \le j \le n$.

            Определим $N'_{j,i} = (N_j + M_i) \cap N_{j + 1}$ для $0 \le j < n, 0 \le i \le m$.
            Тогда
            \[\frac{M'_{i,j+1}}{M'_{i,j}} = \frac{(M_i + N_{j+1}) \cap M_{i + 1}}{(M_i + N_j) \cap M_{i + 1}} \overset?\cong \frac{(N_j + M_{i + 1}) \cap N_{j + 1}}{(N_j + M_i) \cap N_{j + 1}} = \frac{N'_{j,i + 1}}{N'_{j,i}}\]
            \indentlemma{\label{plus_is_not_distributive_by_cap}
            Если $A \le B$, то $(A + X) \cap B = A + X \cap B$.
            }{
                Так как $A \le (A + X) \cap B$, и $X \cap B \subset (A + X) \cap B$, то $(A + X \cap B) \le (A + X) \cap B$.

                В другую сторону, рассмотрим $a + x = b \in (A + X) \cap B$. Тогда $x = b - a$, то есть $x \in X \cap B$, и $a + x \in A + X \cap B$.
            }
            \indentlemma[О бабочке]{
                Пусть $A \le B \le M$ и $C \le D \le M$.
                Тогда утверждается, что
                \[\frac{(A + D) \cap B}{(A + C) \cap B} \cong \frac{B \cap D}{A \cap D + B \cap C} \cong\frac{(B + C) \cap D}{(A + C) \cap D}\]
            }{
                При замене $B \leftrightarrow D, A \leftrightarrow C$ среднее не меняется, а левое изменяется на правое.
                Значит, достаточно доказать первый знак изоморфности.

                \[\frac{A + D \cap B}{A + C \cap B} = \frac{(A + C \cap B) + D \cap B}{A + (C \cap B)} \underset{\text{теорема Нётер об изоморфизме}}\cong \frac{D \cap B}{(A + C \cap B) \cap D \cap B}\]
                Осталось показать, что $(A + C) \cap B \cap D = A \cap D + B \cap C$.
                Используя лемму~(\ref{plus_is_not_distributive_by_cap}), получаем $((A + C) \cap B) \cap D = (A + C \cap B) \cap D = A \cap D + C \cap B$.
            }
            Применяя лемму о бабочке, получаем, что искомая изоморфность фактормодулей (отмеченная вопросиком) действительно имеет место.
        }
    }
    \theorem[Жордан --- Гёльдер]{
        Любые два композиционных ряда без повторений эквивалентны.
        \provehere{
            Построим общее уплотнение данных рядов.
            Так как ряды неуплотняемы, то уплотнение только добавляет нуль-факторы.
        }
    }
    \corollary{\label{length}
    Длина любого ряда без повторений не больше длины композиционного ряда.
    }
    \definition[Длина модуля]{
        Длина композиционного ряда данного модуля.
    }
    \corollary[Теорема Ремака --- Крулля --- Шмидта]{
        Если $M = \bigoplus\limits_{i = 1}^{n}M_i$, где $M_i$ --- простые, то $\{M_i\}$ определено однозначно с точностью до перестановки.
    }
    \note{
        Данная теорема также будет доказана в другой общности с использованием техники характеров:~(\ref{Krull–Schmidt-Remak-theorem})
    }
    \proposal{
        Пусть $M$ --- артинов модуль.
        Тогда $M = \bigoplus\limits_{i = 1}^{n}M_i$ $\iff \forall N \le M: \exists N': N \oplus N' = M$.
        \provewthen{
            Рассматриваем модуль $M$. Если он не простой, то $\exists N, N': N \oplus N' = M$.
            Дальше ветвимся относительно $N, N'$ (если $L \le N$, то $\exists L': L \oplus L' = M$, откуда $L \oplus (L' \cap N) = N$, то есть посылка теоремы верна и для $N,N'$).

            Из-за артиновости дерево ветвления конечно (в бесконечном дереве есть бесконечная ветвь).
        }{
            Выберем максимальное $k \le n$, такое, что после перенумерации $\left(\bigoplus\limits_{i = 1}^{k}M_i\right) \cap N = \{0\}$.
            Положим $M' \coloneqq \bigoplus\limits_{i = 1}^k M_i$.
            Из максимальности $\forall j > k: \left(M' \oplus M_j\right) \cap N = \{0\}$.

            Докажем, что $M = M' \oplus N$.
            Достаточно доказать, что $\forall j > k: M_j \le M' \oplus N$.

            В силу максимальности $k$: $N' \coloneqq N \cap (M' \oplus M_j) \ne \{0\}$.
            Выберем $x \in N' \sm \{0\}$.
            Он раскладывается в сумму $x = m' + y$, где $m' \in M', y \in M_j$.

            $y \ne 0$, так как $N \cap M' = \o$.
            Устроим проекцию $\pi: M' \oplus M_j \map M_j$, заметим, что $\pi(x) = y \ne 0$, отсюда $\pi(N')$ нетривиально.
            Так как образ модуля --- подмодуль, то $\pi(N') \le M_j$. Из простоты $M_j: \pi(N') = M_j$.
        }
    }
    \newlection{17 октября 2023 г.}


    \section{Немножко фактов про кольца}
    Кольца, как и модули, тоже бывают артиновы и нётеровы, в них ACC и DCC --- условия на цепочки идеалов.
    \precaution{
        Артиновость слева и справа --- разные вещи.
        Кольцо $\vect{\Q & \R \\ 0 & \R}$ справа артиново, слева --- не артиново и даже не нётерово.
    }
    Так как идеал в кольце является подмодулем, то для поля $F$: $F[G]$ является артиновым (хотя бы из соображений размерности).

    Пусть $R$ --- некоммутативное кольцо.
    Радикал Джекобсона не выделить прямым слагаемым, но точную формулировку того, как и когда конкретно он мешает, я не уловил.

    \definition[Регулярный $R$-модуль]{$R$ как модуль над $R$.}
    Следует различать левый и правый регулярные $R$-модули.
    \proposal{
        Пусть $r \in R$.
        Следующие условия эквивалентны.
        \bullets{
            \item[(1L)] $r$ лежит в любом максимальном левом идеале.
            \item[(1R)] $r$ лежит в любом максимальном правом идеале.
            \item[(2L)] $r$ можно исключить из любой системы образующих левого регулярного $R$-модуля.
            \item[(2R)] $r$ можно исключить из любой системы образующих правого регулярного $R$-модуля.
            \item[(3L)] $\forall x \in R: 1 + xr$ обратимо слева.
            \item[(3R)] $\forall x \in R: 1 + rx$ обратимо справа.
            \item[(4L)] $\forall x \in R: 1 + xr$ двусторонне обратим.
            \item[(4R)] $\forall x \in R: 1 + rx$ двусторонне обратим.
            \item[(5)] $\forall x, y \in R: 1 + xry$ обратим.
        }
        \provehere{
            Как уверяет лектор, $3L \then 4L$ --- сложный трюк, остальное --- более простые упражнения.
        }
    }
    \definition[Радикал Джекобсона]{
        Множество $r \in R$, удовлетворяющих пунктам леммы выше. Обозначается $\Rad(R) = \text{JRad}(R)$.
    }
    $\Rad(R)$ --- двусторонний идеал, как пересечение левых идеалов, и как пересечение правых иделаов.
    \proposal[Радикальность радикала]{
        $\Rad(R/\Rad(R)) = \{0\}$.
    }
    \theorem{
        Если $R$ --- артиново кольцо, то $\exists n \in \N: \Rad(R)^n = 0$.
        Таким образом, в артиновых кольцах $\Rad(R)$ --- нильпотентный идеал.
    }
    \note{
        Напоминание: $A, B \normeq R \then AB \bydef \defset{\sum\limits_{i = 1}^{n}x_i y_i}{n \in \N, x_i \in A, y_i \in B} \normeq R$.

        Так, если $A = B = (x, y) \normeq \Ff_2[x, y]$, то $AB = (x^2, y^2, xy) \normeq \Ff_2[x, y]$.

        Можно заметить, что $AB$ не совпадает с множеством произведений $xy, (x\in A, y \in B)$, ни тем более с множеством квадратов элементов $A$.
    }
    Если $\Rad(R) \ne \{0\}$, то регулярный модуль не является вполне приводимым.

    Предположим, что $R = \Rad(R) \oplus M$.
    Тогда $R = M$, так как все элементы радикала можно выкинуть из системы образующих.

    Таким образом, радикал никогда не выделяется прямым слагаемым.
    \definition[Полупростое кольцо]{$\Rad(R) = \{0\}$.}
    \theorem[Веддербарн --- Артин]{
        Если $R$ --- полупростое артиново кольцо (эквивалентно, классически полупростое), то $R = \bigoplus_{i = 1}^{n}M_{k_i}(D_i)$, где $D_i$ --- тела.
        \provehere{
            Схема доказательства
            \numbers{
                \item $I$ --- нильпотентный правый идеал $\exists a, x \in I: (a^2 - a)x = 0, ax \ne 0$.
                \item Любой правый идеал содержит идемпотент.
                \item Любой двусторонний идеал содержит центральный идемпотент $\then$ выделяется прямым слагаемым.
                \item $R$ --- прямая сумма простых колец без двусторонних идеалов.
                \item $R$ --- простое, $I$ --- минимальный правый идеал $\then \exists n \in \N: R \cong I^{\oplus n}$, как $R$-модуль.
                \item $R \cong \End_R(I^{\oplus n}) \cong M(n, D)$, где $D = \End_R(I)$.
            }
        }
    }
    \proposal{
        Если $R = \bigoplus\limits_{i = 1}^{n} R_i$, $M$ --- левый $R$-модуль, то $M = \bigoplus\limits_{i = 1}^{n}R_i \cdot M$.
        Если $M$ --- простой, то все слагаемые, кроме одного, равны нулю.
    }
    Таким образом, если $R$ --- полупростое артиново кольцо, то можно интересоваться только модулями над матричными кольцами над телами.

    Никаких конечных тел над алгебраически замкнутым полем нет (представим в матричном виде, теорема Кэли --- Гамильтона, минимальный многочлен $x - \alpha$).
    \proposal{
        Пусть $M$ --- простой левый модуль над $M(k, D)$, где $D$ --- тело.
        Тогда $M \cong D^k$.
    }
    Используя теорему Веддербарна --- Артина $\sum\limits_{i = 1}^{n}k_i^2 = \dim F[G] = |G|$.
    Это мы также докажем впоследствии, используя технику характеров~(\ref{sum-of-squares-theorem}).

    \lemma{
        Если $D$ --- конечномерная алгебра без делителей нуля (например, тело) над алгебраически замкнутым полем $F$, то $D \cong F$.
        \provehere{
            Пусть $a \in D$. Устроим \begin{align*}
                                         \psi: F[t] \map D \\ t \mapsto a
            \end{align*} $\Ker(\psi) \ne \{0\}$, так как $\dim_F(F[t]) = \infty$, но $\dim_F(D) < \infty$.
            Тогда $F[t]/\Ker(\psi) \cong \Image(\psi)$ без делителей нуля.

            Таким образом, $\Ker(\psi)$ --- простой идеал, но кольцо многочленов евклидово, поэтому это максимальный идеал.

            $\Ker(\psi) = p \cdot F[t]$, где $p$ неприводим, тогда $p(t) = t - \alpha$ и $F[a] = F[t]/(p) \cong F$.

            Тогда если $a \in 1_A \cdot F$, то $D = 1_D \cdot F = F$.
        }
    }
    \newlection{7 сентября 2016 г.}
    % Представления конечных групп, полилинейная алгебра, теория категорий, гомологическая алгебра.
    Чаще всего у нас будут иметься предположения о конечности группы $|G| < \infty$ и алгебраической замкнутости базового поля $\overline{K} = K$.

    Пусть $\chr(K) = p$.
    Случай $p \notdivs |G|$ более простой, о нём говорит \textit{теория обыкновенных представлений}.

    Другой случай $p \divs |G|$ изучает \textit{теория модулярных представлений}.


    \section{Три с половиной языка}
    Есть несколько эквивалентных языков, чтобы говорить о представлениях групп.
    \bullets{
        \item Линейные представления $G$ над $R$.
        \item Линейные действия $G$ на $R$-модулях.
        \item Модули над $R[G]$, где $R[G]$ --- групповая алгебра $G$ над $R$.
        \item Частный случай линейных представлений --- матричные представления (на свободных $R$-модулях с фиксированным базисом).
    }
    Эквивалентность данных языков установлена Эмми Нётер в 1926 году.

    \subsection{Линейные представления группы $G$}
    Пусть $R$ --- коммутативное ассоциативное кольцо с единицей (обычно поле).
    Коммутативность нужна для того, чтобы работать с матрицами было приятно.

    Пусть $V$ --- $R$-модуль (скоро станет векторным пространством, или по крайней мере свободным модулем конечного ранга).
    \definition[Линейное представление группы $G$ над $R$ с модулем представления $V$]{
        Гомоморфизм $\pi: G \map GL(V) = \Aut_R(V)$ --- в \textit{полную линейную группу модуля}.
    }
    Обычно образ $g$ при действии $\pi$ обозначается $\pi_g$, чтобы не плодить скобок.

    Здесь $\pi$ --- представление (representation), и $V$ --- модуль представления (presentation module).

    Свойствами гомоморфизма являются
    \bullets{
        \item $\pi_h \cdot \pi_g = \pi_{hg}$. В частности, $\pi_e = \id$ и $\pi_{g^{-1}} = \pi_g^{-1}$.
    }

    \subsection{Линейные действия}
    Если $G$ действует просто на $V$, как на множестве, то задано отображение
    \begin{align*}
        G \times V &\map V \\ g,x&\mapsto gx
    \end{align*}
    со свойством внешней ассоциативности $(hg)x = h(gx)$.

    Если дано представление, то действие можно определить так:
    \begin{align*}
        G \times V &\map V \\ g,v &\mapsto \pi_g(v) = gv
    \end{align*}
    Это действие, так как $\pi$ --- гомоморфизм.
    При этом, получилось не просто действие, а линейное действие: $\forall u, v \in V, \lambda \in R$:
    \bullets{
        \item $\pi_g(u + v) = \pi_g(u) + \pi_g(v)$ \quadили же\quad $g(u + v) = gu + gv$
        \item $\pi_g(\lambda u) = \lambda \pi_g(u)$ \quadили же\quad $g(\lambda u) = \lambda gu$.
    }
    Обратно, если задано действие $G \curvearrowright V$ то ему можно сопоставить представление
    \begin{align*}
        \pi: G &\map GL(V) \\ g &\mapsto (v \mapsto gv)
    \end{align*}
    \fact{Таким образом, линейные представления --- то же самое, что и линейное действие.}

    \subsection{Структура $R[G]$ модуля над каким-то $R$-модулем}
    Здесь будет существенно, что группа конечна.

    Помним, что групповая алгебра $R[G]$ --- это алгебра, элементы которой интерпретируются как $\sum\limits_{g \in G}a_g g$, $a_g \in R$.
    \precaution{
        Не стоит путать групповую алгебру с алгеброй функций $R^G$ --- двойственной к групповой алгебре.
        Элементы алгебры функций --- $\sum\limits_{g \in G}a_g \delta_g$, где функция \[\delta_g(h) = \delta_{g,h} = \all{1,&g = h \\ 0,&g \ne h}\]
    }
    Сумма и произведение элементов $R[G]$ определены в виде
    \gather{
        \sum\limits_{g \in G}a_g g + \sum\limits_{g \in G}b_g g = \sum\limits_{g \in G}(a_g + b_g)g \\
        \left(\sum\limits_{g \in G}a_g g\right) \cdot \left(\sum\limits_{h \in G}b_h h\right) = \sum\limits_{h, g \in G}(a_gb_h)g = \sum\limits_{f \in G}\left(\sum\limits_{h \in G}a_h b_{h^{-1}f}\right)f \\
    }
    Линейному действию $G \curvearrowright V$ сопоставим действие $R[G] \curvearrowright V$, определённое в виде
    \[\left(\sum\limits_{g \in G}a_g g\right) v = \sum\limits_{g \in G}a_g (gv)\]
    Можно проверить, что данная формула задаёт на $V$ структуру левого $R[G]$-модуля.

    Поскольку $G \hookrightarrow R[G]$, то верно и обратное --- $R[G]$-модуль определяет линейное действие $G$ на $V$.

    \subsection{Глоссарий терминов}
    \begin{tabular}{|c|c|}
        \hline
        Представление                               & Модуль                                              \\\hline
        Факторпредставление                         & Фактормодуль                                        \\\hline
        Сплетающий оператор (intertwining operator) & Гомоморфизм                                         \\\hline
        Неприводимое представление                  & Простой модуль (у которого ровно два подмодуля)     \\\hline
        Неразложимое представление                  & Неразложимый (в прямую сумму) модуль                \\\hline
        Эквивалентность                             & Изоморфизм                                          \\\hline
        Инвариантное подпространство                & Инвариантное подпространство                        \\\hline
        Полная приводимость                         & Полупростота (прямая сумма конечного числа простых) \\\hline
    \end{tabular}

    В дальнейшем мы будем предполагать, что $V = R^n$ --- свободный модуль конечного ранга.
    Над полем, очевидно, достаточно считать, что $\dim(V) < \infty$.
    \definition[Конечномерное линейное представление над $K$]{
        Представление, в котором модуль представления конечномерен.
    }
    Если зафиксировать $e_1, \dots, e_n$ --- базис $V$, то $V = R^n$ и $GL(R^n) = GL(n, R)$.

    Здесь линейные операторы --- матрицы.

    В этом случае можно определять $\pi: G \map GL(n, R)$.
    Это \textit{матричное представление}.

    \ok
    Матрица записывается $x = (x_{i,j})_{1 \le i,j \le n}$.
    В данной главе нас больше всего будет волновать след $\sum\limits_{i}x_{i,i}$.

    Работая в матрицах, придётся не забывать, что мы используем их с точностью до сопряжения.
    С другой стороны, считать что-то в матрицах легче.

    \definition[Степень представления]{
        Ранг модуля представления. Обозначают $\deg(\pi)$.
    }
    Пусть $n = \deg(\pi)$, где $\pi: G \map GL(n, R)$.
    Тогда $\pi_g = ((\pi_g)_{i,j})_{1 \le i,j \le n}$.

    Коэффициенты матрицы $\pi_g$ обозначают $\pi_{i,j}(g) \in R$, опять же чтобы не плодить скобок.
    $\pi_{i,j}$ здесь --- матричный элемент представления $\pi$ в позиции $(i,j)$.


    \section{Сплетающие операторы}
    Пусть $\pi:G \map GL(U), \rho: G \map GL(V)$ --- два представления.

    \definition[Сплетающий оператор (гомоморфизм) $\phi$ между $\pi$ и $\rho$]{
        Для любого $g \in G$ диаграмма коммутативна.
        % https://q.uiver.app/#q=WzAsNSxbMCwxLCJnIFxcaW4gRyJdLFsxLDIsIlxccmhvX2c6IFYiXSxbMSwwLCJcXHBpX2c6IFUiXSxbMiwwLCJVIl0sWzIsMiwiViJdLFswLDFdLFswLDJdLFsyLDEsIlxccGhpIiwwLHsib2Zmc2V0IjotNH1dLFszLDQsIlxccGhpIiwyXSxbMSw0XSxbMiwzXV0=
        \[\begin{tikzcd}[ampersand replacement=\&]
              \& {\pi_g: U} \& U \\
              {g \in G} \\
              \& {\rho_g: V} \& V
              \arrow[from=2-1, to=3-2]
              \arrow[from=2-1, to=1-2]
              \arrow["\phi", shift left=4, from=1-2, to=3-2]
              \arrow["\phi"', from=1-3, to=3-3]
              \arrow[from=3-2, to=3-3]
              \arrow[from=1-2, to=1-3]
        \end{tikzcd}\]
    }
    Иными словами (на языке действий, а не представлений) $\pi_g(u) \bydef gu, \rho_g(v) \bydef gv$ и коммутативность диаграммы значит $G$-\textit{эквивариантность}
    \[\phi(gu) = g\phi(u)\]
    Таким образом, сплетающий оператор --- в точности гомоморфизм $R[G]$-модулей:
    \[\phi\left(\sum\limits_{g \in G}a_g g\cdot  u\right) = \sum\limits_{g \in G}\phi(a_g g \cdot u) = \sum\limits_{g \in G}a_g\phi(g \cdot u) = \sum\limits_{g \in G}a_g g \phi(u) = \left(\sum\limits_{g \in G}a_g g\right) \phi(u)\]
    Мы определили то, что далее будет называться \textit{категорией представлений} --- объекты и морфизмы между ними.

    В случае, когда $\phi$ --- \textit{изоморфизм} модулей оно называется \textit{эквивалентностью}.
    Далее всюду будем смотреть на представления с точностью до эквивалентности.
    \newlection{7 сентября 2016 г.}


    \section{Изоморфизм представлений}
    Пусть $\pi: G \map GL(U), \rho: G \map GL(V)$ --- два представления.

    Элементу $g$ соответствует левый квадрат, но так как $\phi$ обратимо, то его коммутативность равносильна коммутативности правого квадрата
    % https://q.uiver.app/#q=WzAsOCxbMCwwLCJVIl0sWzAsMSwiViJdLFsxLDAsIlUiXSxbMSwxLCJWIl0sWzMsMCwiVSJdLFszLDEsIlYiXSxbNCwxLCJWIl0sWzQsMCwiVSJdLFswLDEsIlxccGhpIl0sWzAsMiwiXFxwaV9nIl0sWzEsMywiXFxyaG9fZyJdLFsyLDMsIlxccGhpIiwyXSxbNSw2LCJcXHJob19nIl0sWzQsNywiXFxwaV9nIl0sWzUsNCwiXFxwaGleey0xfSIsMl0sWzcsNiwiXFxwaGkiLDJdXQ==
    \[\begin{tikzcd}[ampersand replacement=\&]
          U \& U \&\& U \& U \\
          V \& V \&\& V \& V
          \arrow["\phi", from=1-1, to=2-1]
          \arrow["{\pi_g}", from=1-1, to=1-2]
          \arrow["{\rho_g}", from=2-1, to=2-2]
          \arrow["\phi"', from=1-2, to=2-2]
          \arrow["{\rho_g}", from=2-4, to=2-5]
          \arrow["{\pi_g}", from=1-4, to=1-5]
          \arrow["{\phi^{-1}}"', from=2-4, to=1-4]
          \arrow["\phi"', from=1-5, to=2-5]
    \end{tikzcd}\]
    Получаем соотношение сопряжения $\rho_g = \phi \circ \pi_g \circ \phi^{-1}$.

    Выбрав базисы в $U, V$ получаем два гомоморфизма $G \map GL(n, R)$, таких, что найдётся обратимая матрицы $x \in GL(n, R)$:
    \[\forall g \in G: x \pi_g x^{-1} = \rho_g\]
    Эти представления эквивалентны.


    \section{Подпредставление}
    Пусть $\pi: G \map GL(V)$, где $V$ --- $R$-модуль, $U \le V$.
    \definition[$U$ --- $G$-подмодуль]{
        $R[G]$-подмодуль в $V$, или же $G$-инвариантное подпространство.
    }
    Требование об отсутствии $G$-подмодулей в случае кольца $R$ не выполняется практически никогда --- в кольце много идеалов.
    Далее предполагаем, что $R = K$ --- поле.

    \definition[Неприводимое представление $\pi: G \map GL(V)$]{
        $V \ne \{0\}$ и в $V$ нет нетривиальных $G$-инвариантных подпространств.
        Иначе представление называется \textit{приводимым}.
    }
    Если представление приводимо ($U \le V$ --- $G$-инвариантное подпространство), то в $U$ найдётся базис $e_1, \dots, e_m$, он дополняется до базиса $V$.

    В этом базисе для любого $g$:
    \[\pi_g = \vect{\arr{c|c}{* & * \\\hline 0 & *}}\]
    Матрицы такого вида образуют \textit{стандартную параболическую подгруппу}.
    \definition[$m$-я стандартная параболическая подгруппа $P_m \le GL(n, K)$]{
        \[P_m \bydef \defset{\vect{\arr{c|c}{a & b \\\hline 0 & c}}}{a \in GL(m, K), c \in GL(n - m, K), M \in M(m, n - m, K)},\text{ где }1\le m\le n\]
    }
    \note{
        Неприводимость представления --- свойство не самого представления, а свойство образа $\Image(\pi) = \pi(G) = \defset{\pi_g}{g \in G}$.
    }
    Пусть $\pi: G \map GL(V)$ --- представление, $U \le V$ --- $G$-подмодуль.
    \definition[Подпредставления]{
        \begin{align*}
            \pi_U: G &\map GL(U)\\g &\mapsto (\pi_g)\Big|_U
        \end{align*}
    }
    \precaution{
        Не путать с \textit{ограничением} представления $\pi$ на подгруппу $H \le G$. Ограничение обозначается $\restricted_H^G(\pi) = \pi\Big|_H: H \map GL(V)$.
    }


    \section{Лемма Шура}
    Пока $G$ --- произвольная группа, $K$ --- любое поле.
    \lemma[Лемма Шура --- 1]{
        Пусть $U, V$ --- неприводимые $G$-модули, $\phi: U \map V$ --- гомоморфизм $G$-модулей.
        Тогда $\phi = 0$, либо $\phi: U \cong V$.
        \provehere{
            $\Ker(\phi)$ --- $G$-подмодуль в $U$.
            $\forall u \in U: \phi(u) = 0 \then \forall g \in G: \phi(gu) = g \phi(u) = 0$, то есть $gu \in \Ker(\phi)$.

            Но таких подмодулей только два.
            \bullets{
                \item Если $\Ker(\phi) = \{0\}$, то $\phi$ --- мономорфизм (инъекция).
                \item Если $\Ker(\phi) = U$, то $\phi \equiv 0$.
            }
            $\Image(\phi) \le V$ --- $G$-подмодуль. В самом деле, $v \in \Image(\phi) \then \exists u \in U: \phi(u) = v \then \forall g \in G: g\phi(u) = \phi(gu) \in \Image(\phi)$.

            Но таких подмодулей только два.
            \bullets{
                \item Если $\Image(\phi) = \{0\}$, то $\phi \equiv 0$.
                \item Если $\Image(\phi) = V$, то $\phi$ --- эпиморфизм (сюръекция).
            }
            Если $\phi \ne 0$, то $\phi$ --- одновременно мономорфизм и эпиморфизм, то есть изоморфизм.
        }
    }
    \corollary[Лемма Шура --- 2]{
        Пусть $K$ --- поле, $U, V$ --- неприводимые $G$-модули над $K$.
        Тогда если $U \ncong V$, то множество сплетающих операторов между $U$ и $V$ $\Hom_G(U, V) = \Hom_{K[G]}(U, V) = 0$.

        Иначе если $U \cong V$, то $\Aut_G(U)$ --- тело (любой автоморфизм либо равен нулю, либо обратим).
    }
    Теперь дополнительно предположим, что $K$ --- алгебраически замкнутое поле, и что $\dim U, \dim V < \infty$.
    \lemma[Лемма Шура --- 3]{
        Если $U, V$ --- неприводимые конечномерные $G$-модули над $K$, а $\phi \in \Hom_{K[G]}(U, V)$, то
        \bullets{
            \item Либо $\phi \equiv 0$.
            \item Либо $\phi: U \cong V$, и тогда $\phi = \lambda \id$ (где $\lambda \in K$) --- гомотетия.
        }
        \provehere{
            Любому скаляру $\lambda \in K$ можно сопоставить сплетающий оператор \begin{align*}
                                                                                     \lambda \id_U: U &\map U\\u & \mapsto \lambda u
            \end{align*}
            Из $G$-линейности $g(\lambda u) = \lambda (gu)$. При $\lambda \ne 0$: $\lambda \id$ --- автоморфизм.

            Если $\phi: U \map U$ --- $G$-эндоморфизм, то условие алгебраической замкнутости значит в точности то, что $\forall \phi: \exists \lambda \in K$ --- собственное число:
            \[\exists u \in U \sm \{0\}: \phi(u) = \lambda u\]
            Отсюда $(\phi - \lambda \id_U)(u) = 0$.
            Но тогда $\phi - \lambda \id_U$ --- $G$-эндоморфизм $U$ с ненулевым ядром. Тогда $\phi - \lambda \id_U = 0$.
        }
    }


    \section{Факторпредставление}
    Пусть $\pi: G \map GL(V)$ --- представление, $U$ --- $G$-подмодуль.
    Тогда $\pi_g$  в подходящем базисе имеют вид
    \[\vect{\arr{c|c}{\pi_g\Big|_{U} & * \\\hline 0 & \pi_g\Big|_{V/U}}}\]
    $\pi_g\Big|_{V/U}: G \map GL(V/U)$.
    Фактормодуль $V/U = \defset{v + U}{v \in V}$ состоит из смежных классов, параллельных $U$.
    \[g(v + U) = gv + U\text{, так как $U$ --- $G$-подмодуль.}\]
    \definition[Факторпредставление $\pi$ по инвариантному подпространству $U \le V$]{
        Выше полученное $\pi\Big|_{V/U}$.
    }
    \fact{
        Матрица факторпредставления --- в точности правый нижний блок, натянутый на базисные векторы $e_{m + 1}, \dots, e_n$.
    }
    \ok
    Рассмотрим группу $P_m = \defset{\vect{a & b \\ 0 & c}}{a \in GL(m, R), c \in GL(n - m, R)}$.
    Это группа:
    \[\vect{a_1 & b_1 \\ 0 & c_1}\vect{a_2 & b_2 \\ 0 & c_2} = \vect{a_1 a_2 & a_1 b_2 + b_1 c_2 \\ 0 & c_1 c_2}\qquad\text{и}\qquad\vect{a & b \\ 0 & c}^{-1} = \vect{a^{-1} & -a^{-1}bc^{-1} \\ 0 & c^{-1}}\]
    $L_m = \defset{\vect{a & 0 \\ 0 & c}}{a \in GL(m, R), c \in GL(n - m, R)}$ --- подгруппа Л$\acute{\text{е}}$ви.

    Здесь ещё полезно вспомнить
    $U_m = \defset{\vect{e & b \\ 0 & e}}{b \in M(m, n - m, R)}$.

    Отображение \begin{align*}
                    P_m &\map L_m\\\vect{a & b \\ 0 & c} &\mapsto \vect{a & 0 \\ 0 & c}
    \end{align*}
    является гомоморфизмом!


    \section{Прямая сумма представлений. Неразложимые представления}
    Пусть $\pi: G \map GL(U), \rho: G \map GL(V)$ --- два представления одной и той же группы на разных модулях.

    \definition[Прямая сумма представлений]{
        \begin{align*}
            \pi \oplus \rho: G &\map GL(U \oplus V)\\ g &\mapsto (\pi \oplus \rho)_g
        \end{align*}
        где $(\pi \oplus \rho)_g \bydef ((u,v)\mapsto(\pi_g(u), \rho_g(v)))$
    }
    Если $U, V$ --- свободные модули, то в качестве базиса прямой суммы можно взять объединение базисов $U$ и $V$.
    В этом базисе матрица $\pi \oplus \rho$ --- это прямая сумма матриц $\pi$ и $\rho$.

    \note{
        Если не только модули разные, но и группы разные, то двум представлениям $\pi: H \map GL(U), \rho: G \map GL(V)$ можно сопоставить наружную прямую сумму --- представление группы
        $H\times G$ --- прямого произведения групп.
        \begin{align*}
            \pi \boxplus \rho: H \times G \map GL(U \oplus V)\\(h,g)\mapsto \underbrace{(\pi \boxplus \rho)_{(h,g)}}_{\pi_h \oplus \rho_g}
        \end{align*}
    }
    Обычная прямая сумма представлений $\pi \oplus \rho$ --- это ограничение $\restricted_{\Delta(G)}^{G \times G}(\pi \boxplus \rho)$, где $\Delta(G)$ --- диагональ.
    \ok
    Если $U$ --- $G$-инвариантное подпространство в $V$, то когда $\pi$ раскладывается в прямую сумму?

    Если $R = K$ --- поле, то у любого подпространства $U$ найдётся дополняющее (необязательно $G$-инвариантное) подпространство $W: V = U \oplus W$.

    Если $W$ тоже $G$-инвариантно, то $\pi = \pi\Big|_U \oplus \pi\Big|_W$.
    \newlection{14 сентября 2016 г.}
    $G$ --- конечная группа, $K$ --- поле характеристики $p \notdivs |G|$.
    Позже даже будем предполагать $p = 0$.

    И, конечно, все представления конечномерны.


    \section{Усреднение по конечной группе}

    \subsection{Усреднение векторов}
    Пусть $\pi: G \map GL(V)$, $V = K^n$.
    Найдём инвариантные элементы.
    \definition[Инвариантные элементы]{
        \[V^G = \defset{v \in V}{\forall g \in G: \pi_g(v) = v} \le V\]
    }
    Построим (сюръективную) проекцию $V \map V^G$.

    Так как группа конечная, то по ней можно усреднять.
    Устроим \begin{align*}
                \phi: V & \map V^G \\ v &\mapsto \frac{1}{|G|}\sum\limits_{g \in G} gv
    \end{align*}
    Тогда $\forall v \in V: \phi(v) \in V^G$:
    \[h \phi(v) = h \frac{1}{|G|}\sum\limits_{g \in G}gv = \frac{1}{|G|}\sum\limits_{g \in G}(hg)v = \phi(v)\]
    Из-за усреднения, то есть деления на $|G|$, также верно, что $\forall v \in V^G: \phi(v) = v$.

    \subsection{Усреднение линейных отображений}
    Пусть $\pi: G \map GL(U), \rho: G \map GL(V)$ --- представления.

    Тогда утверждается, что $\Hom_K(U, V)$ несёт структуру линейного представления группы $G$.
    Иными словами, сопоставим $\pi, \rho \rightsquigarrow \Hom(\pi, \rho)$.
    \begin{align*}
        \Hom(\pi, \rho): G & \map GL(\Hom(U, V)) \\ g &\mapsto (\phi \mapsto \rho_g \phi \pi_g^{-1})
    \end{align*}
    Здесь $\Hom(\pi, \rho)_g$ получается из коммутативного квадрата
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJVIl0sWzAsMSwiViJdLFsxLDAsIlUiXSxbMSwxLCJWIl0sWzAsMiwiXFxwaV9nIl0sWzEsMywiXFxyaG9fZyJdLFswLDEsIlxccGhpIl0sWzIsMywiXFxIb20oXFxwaSwgXFxyaG8pX2coXFxwaGkpIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
    \[\begin{tikzcd}[ampersand replacement=\&]
          U \& U \\
          V \& V
          \arrow["{\pi_g}", from=1-1, to=1-2]
          \arrow["{\rho_g}", from=2-1, to=2-2]
          \arrow["\phi", from=1-1, to=2-1]
          \arrow["{\Hom(\pi, \rho)_g(\phi)}", dashed, from=1-2, to=2-2]
    \end{tikzcd}\]
    Таким образом, два представления дали новое представление, теперь уже на множестве не строк или столбцов, а на множестве матриц.

    Так как $\Hom$ по отношению к $U$ контравариантен, то $\pi_g$ возводится в степень $-1$.
    По отношению к $V$ же $\Hom$ ковариантен и для $\rho_g$ не берётся обратный.

    Теперь мы можем усреднять уже сами линейные отображения.
    \definition[Усреднение линейного отображение]{
        \begin{align*}
            \Hom_K(U, V) &\map \Hom_K(U, V)^G \\ \phi & \mapsto \frac{1}{|G|}\sum\limits_{g \in G}\rho_g \phi \pi_g^{-1}
        \end{align*}
    }
    Образ состоит из элементов $\defset{\phi \in \Hom_K(U, V)}{\forall g \in G: \rho_g \phi \pi_g^{-1} = \phi} = \Hom_{K[G]}(U, V)$.
    В дальнейшем вместо $\Hom_K(U, V)$ будем писать $\Hom(U, V)$, вместо $\Hom_{K[G]}(U, V)$ --- $\Hom_G(U, V)$.


    \section{Теорема Машке}
    $G$ --- конечная группа, $K$ --- поле характеристики $p \notdivs |G|$.
    Все представления конечномерны.
    \definition[Вполне приводимое представление]{
        Для любого $G$-инвариантного подпространства $U \le V$: $\exists G$-инвариантное дополнение $W$.
        Иными словами, $K[G]$ полупроста (что?).
    }
    \theorem{
        В данных условиях все представления вполне приводимы.
        \provehere{
            Для $G$-инвариантного подпространства $U \le V: \exists W$ --- какое-то (необязательно $G$-инвариантное) дополняющее подпространство: $U \oplus W = V$.

            Мы не умеем усреднять подпространства, поэтому поступим так.
            Всякое подпространство --- образ или ядро какого-то линейного отображения.
            А линейные отображения усреднять мы только что научились.

            Положим в качестве $\phi: V \map V$ проектор $V$ на $U$ вдоль $W$.
            Усреднив $\phi$:
            \[\phi_0 = \frac{1}{|G|}\sum\limits_{g \in G}\pi_g \phi \pi_g^{-1}\]
            Утверждается, что $\phi_0$ --- проектор на $U$ вдоль $W_0 \coloneqq \Ker(\phi_0)$, причём $W_0$ $G$-инвариантно.

            Проверим, что $\Image(\phi) \le U$. $\forall v \in V$:
            \[\phi_0(v) = \frac{1}{|G|}\sum\limits_{g \in G}\pi_g \underbrace{\phi(\pi_g^{-1}(v))}_{\in U} \in U\]
            Так как $\phi$ $U$-инвариантно, то $\forall u\in U$:
            \[\phi_0(u) = \frac{1}{|G|}\sum\limits_{g \in G}\pi_g \phi(\pi_g^{-1}(u)) = \pi_g \pi_g^{-1}u = u\]
            Таким образом, $\phi$ --- проектор на $U$.

            Осталось проверить, что $W_0 \coloneqq \Ker(\phi_0)$ --- $G$-инвариантное подпространство. $\forall h \in G, v \in W_0$:
            \[\phi_0(\pi_h(v)) = \pi_h\phi_0(v) = \pi_h(0) = 0\text{, то есть $\pi_h(v) \in \Ker(\phi_0)$.}\]
            Применяя теорему о размерности ядра и образа, и тот факт, что $\Ker(\phi)\cap \Image(\phi) = \{0\}$ (используем, что $\phi^2 = \phi$) получаем $V = U \oplus W_0$.
        }
    }
    \note[Относительно разницы между проекцией и проектором]{
        Если $V = U \oplus W$, то $\phi: V \map U$ --- проекция на $U$ параллельно $W$, определена так: $\phi(u + w) = u$.

        Проектор --- это отображение $\phi: V \map V$, которое также переводит $\phi(u + w) = u$.
        Различие состоит в области значений.
    }
    \corollary{
        В условиях теоремы Машке имеет место полная приводимость: неприводимые представления совпадают с неразложимыми представлениями.

        Любое конечномерное представление равняется прямой сумме неприводимых.
    }
    Таким образом,
    \bullets{
        \item Задачи теории обыкновенных представлений свелись к классификации неприводимых представлений $G$ над $K$, и
        \item К разложению любого представления в прямую сумму неприводимых.
    }
%    \intfact[Теорема Ремака --- Крулля --- Шмидта]{
%        Если $V$ --- артинов и нётеров модуль, то разложение на неразложимые единственно (с точностью до порядка и изоморфизма).
%        \[V = M_1 \oplus \dots \oplus M_s = N_1 \oplus \dots \oplus N_t\]
%        влечёт $s = t$ и $\exists \sigma \in S_t: M_i \cong N_{\sigma(i)}$.
%    }


    \section{Унитаризуемость}
    Пусть $K = \C, V = \C^n$.
    \theorem[Теорема Машке над $\C$]{\label{uni}
    Для люого представления конечной группы $G$ над $\C: \exists G$-инвариантное положительно определённое эрмитово скалярное произведение.
    \provehere[Доказательство теоремы Машке над $\C$]{
        Вспомним про эрмитово скалярное произведение $B: V \times V \map \C$ --- полуторалинейное и эрмитовски симметричное ($B(u,v) = \overline{B(v, u)}$).

        Дополнительно можно считать, что $\forall v \in V: B(v, v)\ge 0$, причём $B(v,v) = 0 \iff v = 0$.
        Это классическое эрмитово (унитарное) скалярное произведение, превращающее $V$ в гильбертово пространство.
        \[B\left(\vect{u_1 \\ \vdots \\ u_n},\vect{v_1, \\ \vdots \\ v_n}\right) = \overline{u_1}v_1 + \dots + \overline{u_n}v_n\]

        Пусть $\pi: G \map GL(\C^n) = GL(n, \C)$.
        Научимся усреднять скалярное, чтобы действие элементов группы сохраняло скалярное произведение.
        Скалярное произведение $B$ \textit{унитарно}, если $\forall u, v \in V: B(gu, gv) = B(u, v)$.

        Хотим, чтобы $\pi$ било в $U(n, \C) \bydef \defset{x \in GL(n, \C)}{\overline{x}^t x = e = x \overline{x}^t}$ --- классическую унитарную группу.
        Здесь $\overline{x}^t$ обычно обозначается $x^*$ --- эрмитовски сопряжённая матрица к $x$.
        Кстати, $U(n, \C)$ --- компактная группа относительно комплексной топологии.

        Переписав унитарность в терминах матрицы Грама (которая равна $e$), получаем именно, что образ $\pi$ должен лежать в $U(n, \C)$.
        \[B_0(u, v) \coloneqq \frac{1}{|G|}\sum\limits_{g \in G}B(\pi_g (u), \pi_g (v))\]
        $B_0$ --- полуторалинейная эрмитова положительно полуопределённая форма.

        Теперь относительно $B_0$ все операторы $\pi_h$ ($h \in G$) унитарны.
        \[B_0(\pi_h(u),\pi_h(v)) = \frac{1}{|G|}\sum\limits_{g \in G}B(\pi_{gh}(u), \pi_{gh}(v)) = B_0(\pi_h(u), \pi_h(v))\]
    }}
    \corollary{
        Любое представление конечной группы над $\C$ унитаризуемо, то есть эквивалентно унитарному: $\rho: G \map U(n, \C)$.

        В унитарном представлении ортогональное дополнение к $G$-инвариантному подпространству само $G$-инвариантно.
        В частности, отсюда вытекает теорема Машке предыдущего параграфа над $\C$.
        \provehere{
            Если $U$ --- $G$-инвариантное подпространство в $V$, $B$ --- $G$-инвариантное положительно определённое эрмитово скалярное произведение на $V$, то $U^\perp$ тоже $G$-инвариантно и $U \oplus U^\perp = V$.
            В самом деле $\forall u \in U, v \in U^\perp$:
            \[B(u, \pi_g(v)) = B(\underbrace{\pi_g^{-1}(u)}_{\in U}, v) = 0\]
        }
    }
    \newlection{14 сентября 2016 г.}
    Всё, касающееся усреднения, можно обобщить на компактные группы с усреднением по мере Хаара --- вместо суммирования и взятия среднего берётся интеграл.
    Это называется \textit{гармонический анализ}.


    \section{Характеры Фробениуса}
    В дальнейшем все характеры будут именно характерами Фробениуса.

    Пусть $\pi: G \map GL(V)$ --- конечномерное представление конечной группы над полем $K$, которое вскоре будет характеристики 0.

    Выберем базис $e_1, \dots, e_n$.
    При фиксированном базисе представление на самом деле является матричным.
    \[\tr(x) = x_{1,1} + \dots + x_{n,n} = \lambda_1 + \dots + \lambda_n\]
    где $\lambda_1, \dots, \lambda_n$ --- собственные числа $x$.
    Они, вообще говоря, могут не лежать в базовом поле, но их сумма лежит.

    Сопоставим представлению $\pi: G \map GL(n, K)$ \textit{характер Фробениуса представления} $\pi$.
    \begin{align*}
        \chi_\pi: G \map K \\ g \mapsto \tr(\pi_g)
    \end{align*}
    \numbers{
        \item Характер зависит только от класса эквивалентности $\pi$.
        Два эквивалентных представления имеют равные характеры.
        \item Характер не обязательно является гомоморфизмом!
        \item Для двух представлений $\pi: G \map GL(U); \quad \rho: G \map GL(V)$ можно определить $\pi \oplus \rho: G \map GL(U \oplus V)$.
        \[(\pi \oplus \rho)_g(u, v) = (\pi_g(u), \rho_g(v))\]
        $\chi_{\pi \oplus \rho} = \chi_\pi + \chi_\rho$, так как $\tr\vect{\arr{c|c}{x & 0 \\\hline 0 & y}} = \tr(x) + \tr(y)$.
        \item $\chi_{\pi \otimes \rho} = \chi_\pi \cdot \chi_\rho$, так как $\tr(x \otimes y) = \tr(x)\cdot\tr(y)$, об этом см~(\ref{further-constructions}).
        \item Пусть $\pi \equiv 1$ --- главное представление. $\chi(\pi) = \dim(V) = \deg(\pi)$, так как $\tr\vect{1 & & 0 \\ & \ddots & \\ 0 & & 1} = n$.
        \item Характер является \textit{центральной функцией} на $G$.
        \definition[Центральная функция (функция класса)]{
            Функция, постоянная на классах сопряжённых элементов.
        }
        Иными словами, $h \sim_G g \then \chi_{\pi}(h) = \chi_{\pi}(g)$.
        Тогда так как $\exists f \in G: h = f^{-1}gf$, то $\pi_h = \pi_f^{-1}\pi_g \pi_f$.
        \item Пусть $g \in G, |G| = m < \infty$.
        Тогда $(\pi_g)^m = e$. Значит, все собственные числа любой матрицы $\pi_g$ являются корнями $m$-й степени из единицы.
        \[\chi_\pi(g) \in F\left(\!\!\sqrt[m]{1}\right)\text{, где $F$ --- простое подполе в $K$, то есть }\all{\Ff_p,&\chr(K) = p > 0 \\ \Q,&\chr(K) = 0}\]
        Если $\chr(K) = 0$, то $\chi_{\pi}(g) \in \A$, где $\A$ --- целые алгебраические числа (сумма корней из единицы лежит там, так как каждый корень из единицы лежит там, и $\A$ --- кольцо).

        Над полем же комплексных чисел $\frac1\omega = \overline{\omega}$. Если $K \le \C$, то $\chi_\pi(g^{-1}) = \overline{\chi_\pi(g)}$.

        С другой стороны, $\chi_{\pi}(g^{-1})$ --- характер \textit{двойственного представления}.
        \definition[Двойственное к $\pi: G \map GL(V)$ представление]{
            Левое представление $\pi^*: G \map GL(V^*)$. Для $\eta \in V^*, v \in V$:
            \[((\eta)\pi_g^*)(v) = \eta(\pi_g(v))\]
        }
        Чтобы писать операторы слева, то $\pi$ сопоставляем
        \begin{align*}
            \pi^*: G &\map GL(n, K) \\ g & \mapsto \pi_g^{-t}
        \end{align*}
        $\tr(x^t) = \tr(x)$, поэтому $\chi_{\pi^*}(g) = \chi_\pi(g^{-1})$.
        \corollary{
            Над $K \le \C: \chi_{\pi^*} = \overline{\chi_\pi}$.
        }
        Таким образом, если построено над $\C$ представление, у которого не все характеры вещественные, сразу строится сопряжённое --- другое неприводимое (двойственное и обычное представления неприводимы одновременно) --- представление.
        \item Пусть $K \le \C$. Тогда $\forall g \in G: \abs{\chi_\pi(g)} \le n = \chi_\pi\left(1_G\right)$, так как характер --- сумма корней из единицы.
        \item $\chi_{\Hom(\pi,\rho)} = ?$
        \item $\chi_{\bigwedge^m(\pi)} = \dots$. В частности, $\chi_{\bigwedge^2}(\pi) = \frac12(\chi_\pi(g)^2 - \chi_{\pi}(g^2))$. Дискретная теория вероятностей --- применение теории представлений конечных групп, поэтому эта штука похожа на дисперсию.
        \item $\chi_{S^m(\pi)} = ?$. В частности, $\chi_{S^2}(\pi) = \frac12(\chi_\pi(g)^2 + \chi_{\pi}(g^2))$.
        Можно удостовериться, что так как $S^2(\pi) \oplus \bigwedge^2(V) = V \otimes V$, то $\chi_{\bigwedge^m(\pi)} + \chi_{S^m(\pi)} = \chi(\pi\otimes\pi)$.
    }
    \intfact[Теорема Фробениуса]{
        Пусть $\chr K = 0$. Тогда $\pi \sim \rho \iff \chi_\pi = \chi_\rho$.
        \provehere{Будет доказана с использованием соотношения Шура (соотношения ортогональности).}
    }
    \counterexample[В теореме Фробениуса важна нулевая характеристика]{
        Пусть $\chr(K) = p > 0$.
        Существует главное представление $1_G: \arr{ccc}{G & \map & K^* \\ g & \mapsto & 1}$.

        Но если взять $\pi = \underbrace{1_G \oplus \dots \oplus 1_G}_{p + 1}$, то $\chi_{\pi} = \chi(1_G)$.
    }


    \section{Представления абелевых групп. Лемма Шура}
    Пусть группа $G$ --- конечная абелева группа ($[G, G] = \{1\}, |G| < \infty$).

    Пусть $K$ --- алгебраически замкнутое поле, $\chr(K) = 0$.
    Так как все характеры лежат в $\A$, то достаточно считать, например, что $K = \C$.
    \lemma[Лемма Шура]{
        Любое неприводимое представление конечной абелевой группы над алгебраически замкнутым полем одномерно.
        \provehere{
            Пусть $h, g \in G$. Тогда $\pi_h \cdot \pi_g = \pi_{gh} = \pi_{hg} = \pi_g \cdot \pi_h$.
            Таким образом, $\forall h \in G: \pi_h$ --- сплетающий оператор для $\pi$.

            Но $\pi$ неприводимо, тогда $\forall h \in G: \pi_h$ --- гомотетия.
            Но тогда все одномерные подпространства $G$-инвариантны, и из неприводимости $\deg(\pi) = 1$.
        }
    }
    \corollary{
        Если $\pi$ --- неприводимое представление $G$ над $K$, то одномерный характер --- в точности само представление: $\pi = \chi_{\pi}: G \map K^* = GL(1, K)$.
    }
    \counterexample{
        Если поле не замкнуто, то лемма Шура, конечно, неверна. Не существует одномерного представления $C_4$ над $\R$, так как над $\R$ нет первообразного корня четвёртой степени из 1.
    }

    \subsection{Классификация циклических групп}
    Пусть $C_n = \angles{g} = \{g^0, g^1, \dots, g^{n - 1}\}$.
    Построим таблицу, где столбцы отвечают элементам группы, строки --- характерам.

    Рассмотрим для примера $C_2, C_3, C_4$.
    \[\begin{array}{c|cc}
          C_2    & 1 & -1 \\\hline
          \chi_0 & 1 & 1  \\
          \chi_1 & 1 & -1
    \end{array} \qquad
    \begin{array}{c|ccc}
        C_3    & 1 & g        & g^2      \\\hline
        \chi_0 & 1 & 1        & 1        \\
        \chi_1 & 1 & \omega   & \omega^2 \\
        \chi_2 & 1 & \omega^2 & \omega   \\
    \end{array} \qquad
    \begin{array}{c|cccc}
        C_4    & 1 & g  & g^2 & g^3 \\\hline
        \chi_0 & 1 & 1  & 1   & 1   \\
        \chi_1 & 1 & i  & -1  & -i  \\
        \chi_2 & 1 & -1 & 1   & -1  \\
        \chi_3 & 1 & -i & -1  & i   \\
    \end{array}\]
    Так как в $C_n$: $g^n = 1$, то для всякого представления $\pi$: $(\chi_\pi(g))^n = \pi(g)^n = \pi(g^n) = 1$.
    Отсюда сразу восстанавливаются остальные элементы, и получается, что $\chi_i(g^j) = \omega^{ij}$, где $\omega$ --- произвольный фиксированный первообразный корень $n$-й степени из единицы.

    Полученная матрица --- \textit{матрицы дискретного преобразования Фурье}.

    \subsection{Классификация представлений произвольных конечных абелевых групп}
    Расклассифицировав таким образом представления всех циклических абелевых группы, мы, на самом деле, классифицировали вообще представления всех конечных абелевых групп.

    Воспользуемся теоремой о классификации всех конечнопорождённых абелевых групп, всякая конечная абелева группа --- прямая сумма циклических групп.

    Ссылаясь на
    \intfact{
        Групповая алгебра $K[H \times G]$ есть $K[H] \otimes_K K[G]$~(\ref{khtimesg}).
    }
    мы можем получить следующее.
    Пусть \[\arr{c}{\chi: H \map K^* \\ \theta: G \map K^*} \text{ --- два характера. Тогда }\chi\otimes \theta \underset{\text{у нас всё одномерно}}= \chi\theta: \arr{ccc}{H \times G &\map& K^*\\(h,g)&\mapsto&\chi(h)\theta(g)}\]
    Таким образом, все характеры абелевой группы получаются перемножением всевозможных характеров циклических слагаемых из прямой суммы.

    \example{
        \item Рассмотрим простейшую нециклическую группу $V = \underset{\ni h}{C_2} \oplus \underset{\ni g}{C_2} = \{1, h, g, hg\}$.
        Для неё таблица характеров
        \[\begin{array}{c|c}
              & \arr{cccc}{1 & h & g & hg} \\\hline
              \arr{c}{\chi_0 \\ \chi_1 \\\chi_2 \\\chi_3} & \arr{cc|cc}{1 & 1 & 1 & 1 \\ 1 & -1 & 1 & -1 \\\hline 1 & 1 & -1 & -1 \\ 1 & -1 & -1 & 1}
        \end{array} = \vect{1 & 1 \\ 1 & -1} \otimes \vect{1 & 1 \\ 1 & -1}\]
    }

    \subsection{Одномерные представления любых конченых групп}
    Разумеется, все одномерные представления неприводимы.

    Таким образом, описать одномерные представления --- часть задачи.

    Мы умеем описывать представления абелевых групп.
    Для произвольной группы $G \rightsquigarrow G^{\ab} \bydef G/[G,G]$.

    Чтобы для группы получить представление, исходя из факторгруппы, надо воспользоваться \textit{инфляцией}:
    пусть $H \normeq G$.
    \gather{\pi: G/H \map GL(V) \\ \downarrow \\ \arr{cccc}{\tilde{\pi}: &G &\map& GL(V)\\&g &\mapsto& \pi(g + H)}}
    Поскольку приводимость зависит только от образа, то инфляция неприводимого представления неприводима.

    Если абелианизация нетривиальна, то таким образом получаются какие-то нетривиальные представления.
    \theorem{
        Пусть $K$ --- алгебраически замкнутое поле, $\chr(K) = 0$. Тогда у конечной группы $G$ имеется $\abs{G/[G,G]}$ различных (не эквивалентных) одномерных представлений (и они являются инфляциями неприводимых одномерных представлений $G/[G,G]$).
        \provehere{
            Только что было предъявлено $|G/[G,G]|$ таких представлений.
            Обратно, если $\tilde{\pi}: G \map GL(1, K) = K^*$ --- какое-то представление, то $[G, G] \le \Ker(\tilde{\pi})$ --- это отображение в абелеву группу.

            Тогда $\tilde{\pi}$ соответствует его дефляция $\pi: G/H \map GL(1, K) = K^*$.
        }
    }
    \newlection{21 сентября 2016 г.}


    \section{Формулировка теоремы Бернсайда --- Фробениуса, первые примеры}
    $G$ --- конечная группа, $K$ --- алгебраически замкнутое поле, $\chr(K) = 0$.
    На самом деле, результаты верны для поля разложения группы $G$, такого, что $\chr(K) \notdivs |G|$).

    Пусть $\pi_1, \dots, \pi_s$ --- все различные (неэквивалентные) неприводимые представления $G$ над $K$.
    Пусть $n_1, \dots, n_s$ и $\chi_1, \dots, \chi_s$ --- степени и характеры $\pi_1, \dots, \pi_s$ соответственно.
    \intfact[Теорема Бернсайда --- Фробениуса]{\down
    \numbers{
        \item $s$ --- количество классов сопряжённых элементов группы $G$.
        \item $|G| = n_1^2 + \dots + n_s^2$ (sum of squares formula)
        \item $n_i \divs |G|$, что может быть усилено до $n_i \divs |G : C(G)|$, или даже до $n_i \divs |G : A|$, где $A \normeq G$ --- произвольная нормальная подгруппа.
        Более того, $n_i \le |G : A|$, где $A \le G$ --- произвольная абелева подгруппа (но уже необязательно делит).
    }
    }

    \subsection{Представления неабелевых групп}
    Маленькими неабелевыми группами являются $S_3 = D_3$, $D_4$, $Q_8$.

    Все представления $D_n$ одномерны или двумерны, а с представлениями $S_n$ всё совсем не так просто, на сегодняшний день про них известно всё, но это очень большая непростая история.

    Пусть имеется перестановочное действие $G \curvearrowright X$.
    Тогда ему соответствуют линейное действие на функциях $X \map K$: $G \curvearrowright K^X = \left\{\sum\limits_{x \in X}a_x \delta_x\right\}$, или на формальных комбинациях: $G \curvearrowright \left\{\sum\limits_{\substack{x \in X\\\text{почти все $a_x$ нули}}}a_x x\right\}$.

    Несмотря на то, что эти записи вылядят идентичными (в случае конечного $X$), они различаются --- различаются действием $G$.

    На функции $f: X \map K$ элементы $g \in G$ действуют так: $(fg)(x) = f(gx)$.
    Но так как речь о левых действиях, то $(g^{-1}f)(x) = f(gx)$.

    Обозначим $\bigoplus\limits_{x \in X}Kx = K[X]$ за множество формальных комбинаций $X$ с коэффициентами из $K$.

    Действие $G$ переставляет базис данного векторного пространства над $K$, и перестановке базиса отвечает линейное действие на $\bigoplus\limits_{x \in X}Kx$.

    Оказывается, из примера действия группы самой на себе сдвигами (трансляциями) получаются все представления групп.

    Рассмотрим левое регулярное представление $G \curvearrowright G$:
    \begin{align*}
        G \times G &\map G \\ g,x &\mapsto gx
    \end{align*}
    Ему соответствует линейное действие $G \curvearrowright K[G]$.

    Действие $S_n$, переставляющее базисные элементы $V$ ($\dim V = n$) не является неприводимым.
    \examples[Представления неабелевых групп]{
        \item $S_n \curvearrowright [n]$. Если $(e_1, \dots, e_n)$ --- базис $K^n$, то имеется естественное линейное действие $S_n \curvearrowright K^n$, $\sigma e_i = e_{\sigma(i)}$.

        Действие не неприводимо: здесь есть одномерное инвариантное подпространство $U = K(e_1 + \dots + e_n)$.
        Согласно теореме Машке у данного подпространства есть инвариантное дополнение $W$.
        Если подумать, то окажется, что $W = K(e_1 - e_2) + \dots + K(e_{n - 1} - e_n) = \defset{\sum\limits a_i e_i}{\sum\limits a_i = 0}$.

        $S_n$ действует на $W$, это \textit{стандартное представление} $\sigma$.
        \intfact{В характеристике нуль $\sigma$ неприводимо.
        }
        \item Конкретизируем: рассмотрим $S_3$.
        $[S_3, S_3] = A_3$. $|S_3 / [S_3, S_3]| = 2$. Таким образом, у $S_3$ два одномерных представления --- главное (единица $1_{S_3}$) и ещё одно (знак $\sgn: S_3 \map K^*$).

        Сопряжённых классов у $S_3$ три --- тип единицы (1,1,1), тип транспозиции (1,2), тип 3-цикла (3).
        Порядка классов оттуда --- 1, 3, 2 соответственно.

        Неприводимых представлений будет столько же, сколько и классов --- три. Используя sum of squares theorem, можно узнать степень третьего представления. $6 = n_1^2 + n_2^2 + n_3^2 = 1^2 + 1^2 + x^2 \then x = 2$ (ещё можно использовать, что $x \in \N$ --- число, делящее индекс центра).

        $K(e_1 - e_2) + K(e_2 - e_3)$ под действием $S_3 = \angles{(12), (23)}$ преобразуется в себя под действием матриц $(12) \mapsto \vect{-1 & 1 \\ 0 & 1}; (23) \mapsto \vect{1 & 0 \\ 1 & -1}$.
        Это ещё одно неприводимое представление $S_3$.
        При нём 3-цикл $(123)$ переходит в $\vect{0 & -1 \\ 1 & -1}$, и считая следы этих матриц, мы можем построить таблицу характеров.
        \[\begin{array}{c|ccc}
              & 1 & (13) & (123) \\\hline 1 & 1 & 1 & 1 \\ \sgn & 1 & -1 & 1 \\ \chi_{\sigma} & 2 & 0 & 1
        \end{array}\]
        У этой таблицы есть множество замечательных свойств, но они будут выведены позднее.
        \item Группа $Q_8$ задаётся копредставлением $\angles{i,j,k\middle| i^2 = j^2 = k^2 = ijk = -1} = \{\pm 1, \pm i, \pm j, \pm k\}$ (при условии $(-1)^2 = 1$).
        $|Q| = 8 = 2^3$, то есть $Q$ --- 2-группа. $C(Q) = \{\pm 1\}$.
        Таким образом, у неё четыре одномерных представления.
        Классов сопряжённых элементов в данной группе пять: $Q_8 = \{1\} \sqcup \{-1\} \sqcup \{\pm i\} \sqcup \{\pm j\} \sqcup \{\pm k\}$.
        \[\begin{array}{c|ccccc}
              & 1 ~(1) & -1 ~(1) & \pm i ~(2) & \pm j ~(2) & \pm k ~(2) \\\hline 1 & 1      & 1       & 1         & 1         & 1          \\
              \chi_1 & 1      & 1       & -1         & -1          & 1         \\
              \chi_2 & 1      & 1       & -1          & 1         & -1         \\
              \chi_3 & 1      & 1      & 1          & -1          & -1          \\
              \chi_4 & 2      & -2      & 0          & 0          & 0
        \end{array}\]
        В скобках в первой строке пишется количество элементов в соответствующем классе сопряжённых.

        Последнему представлению соответствуют матрицы Паули, которые построил Кэли: $\H = \defset{\vect{z & w \\ -\overline{w} & \overline{z}}}{z, w \in \C}$ при выборе базиса $\{1, i\}$ в $\C$ получает базис
        \[\vect{1 & 0 \\ 0 & 1} \quad \vect{i & 0 \\ 0 & -i} \quad \vect{0 & 1 \\ -1 & 0} \quad \vect{0 & i \\ i & 0}\]
        (Данное представление точное, поэтому неприводимое --- у всех одномерных представлений $-1$ лежит в ядре).
        Это и есть образы $1, i, j, k$ при неком двумерном представлении $Q_8$.
        \definition[Точное представление (faithful representation) $\pi: G \map GL(n, K)$]{$\Ker(\pi) = 1$.}
        \item Теперь посмотрим на диэдральную группу $D_n= \angles{x, y\middle|x^2 = y^2 = (xy)^n = 1}$ при $n = 4$.

        $D_4 = \{1, x, y, xy, yx, xyx, yxy, xyxy = yxyx\}$.
        Образующие отвечают симметриям квадрата относительно диагонали и серединного перпендикуляра к стороне.

        $C(D_4) = \{1, xyxy = yxyx\}$. Снова $D_4/C(D_4) = V$. Здесь таблица характеров такая
        \[\begin{array}{c|ccccc}
              & 1 ~(1) & xyxy = yxyx ~(1) & \{x, yxy\} ~(2) & \{y, xyx\} ~(2) & \{xy, yx\} ~(2) \\\hline
              1      & 1      & 1                & 1               & 1               & 1               \\
              \chi_1 & 1      & 1                & -1              & -1              & 1               \\
              \chi_2 & 1      & 1                & -1              & 1               & -1              \\
              \chi_3 & 1      & 1                & 1               & -1              & -1              \\
              \chi_4 & 2      & -2               & 0               & 0               & 0
        \end{array}\]
        Последняя строка получена, как точное представление --- симметрии квадрата в $\R^2$.
        \[x \mapsto \vect{1 & 0 \\ 0 & -1} \quad y \mapsto \vect{0 & 1 \\ 1 & 0}\]
        И хотя таблицы характеров $D_4$ и $Q_8$ одинаковы, но группы неизоморфны, и различие заключается в том, что у $D_4$ есть двумерное представление над $\R$, а у $Q_8$ нет.
    }


    \section{Соотношения ортогональности Шура (лемма Шура в матричной форме)}
    Пусть $\pi: G \map GL(U), \rho: G \map GL(V)$ --- два неприводимых представления группы $G$ над одним и тем же полем $K$.

    Пусть $\phi: U \map V$ --- произвольное $K$-линейное отображение.
    Сопоставим ему усреднение \[\phi_0 = \frac{1}{|G|}\sum\limits_{g \in G}\rho_g \phi \pi_g^{-1}\] это уже $K[G]$-линейное отображение, или сплетающий оператор.

    Пусть теперь $K$ алгебраически замкнуто, $\chr(K) = 0$ (на самом деле достаточно, чтобы характеристика не делила порядок группы).
    \lemma[Лемма Шура]{\down
    \bullets{
        \item Если $U \ncong V$, то $\phi_0 = 0$.
        \item Если же $\pi = \rho$ (в частности, $U = V$), то тогда $\phi_0$ --- гомотетия с коэффициентом $\frac{\tr(\phi_0)}{\dim V} = \frac{\tr(\phi)}{\dim V}$.}
    \provehere{
        $\phi_0 = \vect{\lambda & \cdots & 0 \\ \vdots&\ddots &\vdots \\ 0 & \cdots & \lambda}$, а при $\pi = \rho$ матрица сопрягается (и след не меняется).
    }
    }
    Выберем в $U$ базис $u_1, \dots, u_m$ и в $V$ базис $v_1, \dots, v_n$.
    Базисом линейных отображений $U \map V$ являются $\phi_{i,j}: \arr{ccc}{U &\map& V\\u_h &\mapsto& \all{v_i,&h = j \\ 0,&h \ne j}}$.
    Матрица $\phi_{i,j}$ в данных базисах равна $e_{i,j}$.
    \newlection{21 сентября 2016 г.}
    Подставим в качестве $\phi = e_{i,j} \in M(n, m, K)$.

    Для представлений $\pi$ и $\rho$ в данных базисах определены \textit{матричные элементы}
    \begin{align*}
        \pi_{i,j}: G \map K \\ g \mapsto \pi(g)_{i,j}
    \end{align*}
    и аналогично для $\rho$:
    \begin{align*}
        \rho_{k,l}: G \map K \\ g \mapsto \rho(g)_{k,l}
    \end{align*}

    Усредним $\phi = e_{i,j}$, получится некое $\phi_0$.
    Ранее записанная лемма Шура говорит о том, что либо $\phi_0 = 0$, либо там почти все элементы равны нулю, а остальные равные $\frac{\tr(\phi)}{\dim V}$.

    Получается следующая теорема (для неприводимых представлений)
    \theorem[Соотношения ортогональности Шура]{\label{schur-orthogonality}\down
    \numbers{
        \item Если $\pi \nsim \rho$, то $\forall i,j,k,l: \frac{1}{|G|}\sum\limits_{g \in G}\pi_{i,j}(g)\rho_{k,l}(g^{-1}) = 0$.
        \item Если $\pi = \rho$, то $\frac{1}{|G|}\sum\limits_{g \in G}\pi_{i,j}(g)\pi_{k,l}(g^{-1}) = \frac{1}{\deg(\pi)}\delta_{i,l}\delta_{j,k}$.
    }
    Для поля $\C$ можно устроить эрмитово скалярное произведение $C: K^G \times K^G \map \C$
        \[C(\chi, \theta) = \frac{1}{|G|}\sum\limits_{g \in G}\chi(g)\overline{\theta(g)}\]
        Чаще всего мы будем вычислять скалярное произведение от характеров.

        Тогда теорема говорит о том, что все матричные элементы $\pi_{i,j}$ для всех неприводимых представлений $\pi$ образуют ортогональный базис пространства $\C^G$ относительно скалярного произведения $C$.
        Для компактных групп это называется теоремой Петера --- Вейля.
        \provehere{Написано выше.}
    }


    \section{Первое соотношение ортогональности}
    Пусть $\chi, \theta \in K^G$.
    Определим уже не эрмитовское, а симметрическое скалярное произведение
    \[B(\chi, \theta) = \frac{1}{|G|}\sum\limits_{g \in G}\chi(g)\theta(g^{-1})\]
    \lemma{Оказывается, что если $\chi, \theta$ --- \textbf{характеры} конечномерных представлений над $\C$, то $C(\chi, \theta) = B(\chi, \theta)$.
    Тем не менее, это разные скалярные произведения (одно эрмитово, другое симметрическое).

    \provehere{
        В самом деле, если $\pi$ --- унитарное представление, то $\pi_g^{-1} = \overline{\pi_g}^t$.
        Любое представление эквивалентно унитарному (теорема Машке над $\C$).

        Пусть $\Image(\pi) \in U(n, \C)$.
        Тогда $B(\pi_{i,j}, \pi_{k,l}) = \frac{1}{|G|}\sum\limits_{g \in G}\pi_{i,j}(g)\pi_{k,l}(g^{-1}) = \frac{1}{|G|}\sum\limits_{g \in G}\pi_{i,j}(g)\overline{\pi_{l,k}(g)} = C(\pi_{i,j}, \pi_{l,k})$.
        В частности, пусть $(\pi^{(m)})_{1 \le m \le s}$ --- все неприводимые представления.
        Тогда набор \[\defset{\pi_{i,j}^{(m)} \cdot \sqrt{\deg (\pi^{(m)})}}{1 \le m \le s, 1 \le i, j \le \deg \pi^{(m)}}\] ортонормирован.

        Осталось заметить, что характер --- сумма собственных чисел (которые корни из единицы), стоящих на диагонали, а для корней из единицы $\omega: \overline{\omega} = \omega^{-1}$.
    }}
    \theorem[Первое соотношение ортогональности]{
        Если $\chi, \theta$ --- характеры неприводимых представлений, то $B(\chi, \theta) = \delta_{\chi,\theta}$.
        \provehere{
            Используем~(\ref{schur-orthogonality}). Положим $\chi = \pi_{1,1} + \dots + \pi_{n,n}$ и $\theta = \rho_{1,1} + \dots + \rho_{n,n}$.

            Если $\pi \nsim \rho$, то всегда $B(\pi_{i,i}, \rho_{j,j}) = 0$.

            Если же $\pi \sim \rho$, то можно сопрячь матрицу не меняя след, считаем, что $\pi = \rho$.
            Тогда $B(\chi, \theta) = \underbrace{\frac{1}{\deg(\pi)} + \cdots + \frac{1}{\deg(\pi)}}_{\deg(\pi)} = 1$.
        }
    }
    Вспомним, что характеры постоянны на классах сопряжённости, иначе говоря, \textit{центральные функции} на $G$.
    \corollary{
        Характеры неприводимых представлений линейно независимы.

        \provehere{
            Напишем линейную зависимость $\lambda_1 \chi_1 + \cdots + \lambda_t \chi_t$.
            По очереди скалярно перемножая с $\chi_i$, получаем $\lambda_iB(\chi_i, \chi_i) = 0$, откуда все коэффициенты в зависимости нулевые.
        }
    }
    \corollary{
        Количество различных неприводимых характеров не превосходит количество классов сопряжённых элементов.
        \provehere{
            Прямо следует из линейной независимости.
        }
    }

    Дальше уже $\chr(K) = 0$, в последющих следствиях не подойдёт не делящая порядок группы.

    \corollary{
        Пусть $\pi$ --- любое представление $G$.
        Тогда кратность вхождения неприводимого $\pi_i$ в $\pi$ равна $B(\chi_{\pi}, \chi_i)$ (где $\chi_i \bydef \chi_{\pi_i}$).
        \provehere{
            По теореме Машке $\pi$ есть сумма неприводимых представлений:
            \[\pi = \pi_1^{\oplus m_1} \oplus \dots \oplus \pi_t^{\oplus m_t}\]
            Следовательно, $\chi_\pi = m_1 \chi_1 + \dots + m_t \chi_t$.
        }
    }
    \corollary[Теорема Ремака --- Крулля --- Шмидта]{\label{Krull–Schmidt-Remak-theorem}
    Разложение представления на неприводимые определено однозначно с точностью до изоморфизма.
    }
    \note{
        Теорема доказывается в гораздо меньшей общности, чем она верна, и используются сильно более сильными средствами, чем те, которые нужны, но что поделать.
    }
    \corollary[Теорема Фробениуса]{
        $\pi \sim \rho$, если $\chi_\pi = \chi_\rho$. Ещё раз отметим, что это верно \textbf{только в характеристике нуль}.
        \provehere{Всякое неприводимое представление входит в $\pi$ и $\rho$ с равной кратностью.}
    }
    \corollary{
        $\forall$ представления $\pi: B(\chi_\pi, \chi_\pi) = 1 \iff \pi$ неприводимо.
        \provehere{
            Пусть $\pi = \pi_1^{\oplus m_1} \oplus \dots \oplus \pi_t^{\oplus m_t}$.
            Отсюда следует, что $B(\chi_\pi, \chi_\pi) = m_1^2 + \dots + m_t^2$.
        }
    }
    \corollary[Ортогональность первой строке таблицы характеров]{
        Если $\chi \ne 1$ --- характер неприводимого представления, то $\sum\limits_{g \in G}\chi_g = 0$.
    }

    \precaution{Основной ошибкой начинающих является то, что при подсчёте $B(\chi, \theta) = \sum\limits_{g \in G}\chi(g)\theta(g^{-1})$ взятие обратного забывается.
    Всякому классу сопряжённых элементов $C \subset G$ можно сопоставить другой класс $C^{-1} \subset G$, и в общем случае совсем необязательно, что $C = C^{-1}$.
    }


    \section{Разложение представление на неприводимые. Sum of squares formula}
    \label{sum-of-squares-theorem}
    Рассмотрим регулярное представление $G$ --- действие $G$ слева на групповой алгебре.
    \begin{align*}
        \text{reg}: G \curvearrowright K[G] &\map K[G]\\ g, \sum\limits_{h \in G}a_h h &\mapsto a_h gh
    \end{align*}
    Посчитаем характер данного представления.

    Пусть $G \curvearrowright X$ --- действие.
    С ним связано линейное представление на пространстве с базисом $X$ $\pi: G \curvearrowright K[X]$.
    \theorem[Fixed points formula]{
        $\chi_\pi(g) = |\Fix_X g|$ (где $\Fix_X g = \defset{x \in X}{gx = x}$).
        \provehere{
            Матрицы, в которые отправляются элементы $G$ --- матрицы-перестановки.
            След такой матрицы равен количеству единичек на диагонали, то есть количеству неподвижных точек.
        }
    }
    \corollary{
        $\chi_{\text{reg}} = |G| \cdot \delta_{g,1_G}$.
        \provehere{
            Только единица оставляет какие-то элементы на месте, и для неё все точки неподвижны.
        }
    }
    Пусть $K$ --- алгебраически замкнутое поле, $\chr(K) = 0$.
    \theorem{
        Каждое неприводимое представление $\pi_i$ группы $G$ входит в разложение регулярного с кратностью $n_i = \deg(\pi_i)$.
        \[\text{reg} = \pi_1^{\oplus n_1} \oplus \dots \oplus \pi_s^{n_s}\]
        \provehere{
            Вычислим $B(\chi_{\text{reg}, \chi_i}) = \sum\limits_{g \in G}\chi_{\text{reg}}(g)\chi_i(g^{-1}) = \frac{1}{|G|}\cdot |G| \cdot \chi_i(1) = n_i$.
        }
    }
    \note{
        Это же следует и из теоремы Веддербарна --- Артина, причём даже не в характеристике нуль.
        В матричном кольце $M(n, K)$ ровно $n$ неприводимых подмодулей --- столбцы $K^n$ (?)
    }
    \corollary{
        $|G| = n_1^2 + \cdots + n_t^2$.
        \provehere{
            Регулярное представление раскладывается в сумму $n_1$ неприводимых степени $n_1$, $n_2$ неприводимых степени $n_2$, \ldots
        }
    }
    \corollary{
        Функции $\pi^{(i)}_{j,k}$ образуют базис пространства $K^G$.
        \provehere{
            Они линейно независимы, и их количество равно $|G| = \dim_K(K^G)$.
        }
    }


    \section{Второе соотношение ортогональности (для столбцов)}
    Будем рассматривать представления $G$ над $\C$.

    Пусть $\chi_1, \dots, \chi_t$ --- характеры неприводимых представлений.

    В первой соотношении были фиксированы две строки таблицы характеров, и суммирование было по столбцам.
    Сейчас сделаем наоборот.

    \theorem{
        Пусть $h, g \in G$, предположим, что нам уже известно, что $s = t$. \[\sum\limits_{i = 1}^{t}\chi_i(h)\overline{\chi_i(g)} = \all{|C_G(g)|,&g \sim h \\ 0,& g \nsim h}\]
        \provehere{
            Пусть $1, g_2, \dots, g_s$ --- представители классов сопряжённых элементов, $\chi_1, \dots, \chi_s$ -- различные неприводимые характеры.

            Составим матрицу $A = (a_{i,j})_{1 \le i,j \le s}$, где $a_{i,j} = \sqrt{\left|g_j^G\right|}\cdot \chi_i(g_j)$.

            Обозначим $m_h \coloneqq |g_h^G|$.
            Первое соотношение ортогональности выглядит так: $\frac{1}{|G|}\sum\limits_{h = 1}^{s}m_h\chi_i(g_h)\overline{\chi_j(g_h)} = \delta_{i,j}$

            Если для матрицы $A \in M(n, \C)$ обозначить за $A^*$ её эрмитовски сопряжённую $A^* \bydef \overline{A}^t$, то видно, что из первого соотношения ортогональности $\frac{1}{|G|}A \cdot A^* = E$.
            Отсюда сразу получается $\frac{1}{|G|}A A^* = e$.
            \[\frac{1}{|G|}\sum\limits_{h = 1}^{s}\sqrt{\abs{g_i^G}\cdot\abs{g_j^G}}\cdot \overline{\chi_h(g_i)}\chi_h(g_j) = \frac{1}{|G|}\sqrt{\abs{g_i^G}\cdot\abs{g_j^G}}\sum\limits_{h = 1}^{s}\overline{\chi_h(g_i)}\chi_h(g_j) = \delta_{i,j}\]
            При $i \ne j$ получаем $\sum\limits_{h = 1}^{s}\overline{\chi_h(g_i)}\chi_h(g_j) = 0$, иначе $i = j$, и так как $|g_i^G| = |G : C_G(g_i)|$, то $\frac{|g_i^G|}{|G|} = \frac{1}{|C_G(g^G)|}$, то получается искомая формула.
        }
    }
    \newlection{28 сентября 2016 г.}


    \section{Усреднение с весом (averaging with weight)}
    Раньше все усреднения использовали меру Хаара --- все элементы группы имели одинаковый вес $\forall g \in G: \mu(g) = \frac{1}{|G|}$.

    Оказывается, можно проделать то же самое для гораздо более широкого класса мер.

    Пусть $\phi \in \Hom(U, V)$.
    Усредним его с помощью $f$, получив $G$-инвариантное $\phi_f$.
    В качестве $f$ здесь могут выступать центральные функции, поясним это ниже.

    Рассмотрим пространство центральных функций на $G$: $cf_K(G) \bydef \defset{f \in K^G}{ \forall g, h \in G: f(h^g) = g(h)}$.

    Также рассмотрим представление $\pi: G \map GL(V)$.
    Пусть $f \in cf_K(G)$.

    Определим усреднение $\pi_{(f)} = \frac{1}{|G|}\sum\limits_{g \in G}f(g)\pi_g$.
    \note{
        Если $f$ --- необязательно центральная функция, то при отождествлении $G^K$ и $K[G]$ ($\delta_g \leftrightarrow g$) получаем, что $\pi_{(g)} = \pi_g$.
    }
    \lemma{Утверждается, что $\pi_{(f)}\in \End_{K[G]}(V)$, то есть $\pi_{(f)}$ коммутирует со всеми $\pi_g$.
    \provehere{
        Проверим, что $\forall g \in G: \pi_g \pi_{(f)} = \pi_{(f)}\pi_g$.

        \[\forall x \in G, u \in V: \pi_{(f)}(xu) = \frac{1}{|G|}\sum\limits_{g \in G}f(g)\underbrace{}_{xx^{-1}}g(xu) = x\frac{1}{|G|}\sum\limits_{g \in G}f(xgx^{-1})(x^{-1}gx)u = x \pi_{(f)}(u)\]
    }}
    \note{
        Обратное тоже верно в таком смысле: если для любого представления усреднение по функции $f$ --- $G$-инвариантно, то усреднение производится по центральной функции.
    }
    \lemma{
        Пусть $f \in cf(G)$, пусть $\pi$ --- неприводимое представление $G$ над алгебраически замкнутым полем $K$, $\chr K = 0$.
        Положим $\deg \pi = n$.

        Тогда $\pi_{(f)}$ --- гомотетия с коэффициентом $\frac{1}{n}B(f, \chi_{\pi^*})$.
        \provehere{
            $\pi_{(f)}$ --- гомотетия по лемме Шура. Посчитаем коэффициент $\lambda = \frac{\tr\left(\pi_{(f)}\right)}{n}$ гомотетии.
            \[\lambda = \frac{1}{n}\frac{1}{|G|}\sum\limits_{g \in G}f(g)\underbrace{\tr(\pi_g)}_{\chi_{\pi}(g)} = \frac{1}{n}\frac{1}{|G|}\sum\limits_{g \in G}f(g)\cdot\chi_{\pi^*}(g^{-1})\]
        }
    }


    \section{Количество неприводимых представлений конечной группы}
    Как обычно, $K$ алгебраически замкнуто, $\chr(K) = 0$ (на самом деле верно и для поля разложения, $\chr(K)\notdivs|G|$).
    \theorem{
        Количество неприводимых различных (неэквивалентных) представлений $G$ над $K$ равно количеству классов сопряжённых элементов в $G$.
        \provehere{
            Пусть $c_1, \dots, c_s$ --- классы сопряжённых элементов, $\pi_1, \dots, \pi_t, \chi_1, \dots, \chi_t$ --- неприводимые представления и их характеры соответственно.
            Характеры --- ортонормированная система функций, по отношению к билинейной форме $B$, и они являются центральными функциями.

            Базис $cf_K(G)$ --- характеристические функции классов сопряжённости $\delta_{c_i}: x \mapsto \all{1,&x \in c_i \\ 0,&x \notin c_i}$.

            Так как $\chi_1, \dots, \chi_t$ линейно независимы, то $t \le s$.

            Чтобы доказать, что $t = s$, надо убедиться, что $\chi_1, \dots, \chi_t$ --- полная ортонормированная система, то есть нет никакой ненулевой центральной функции, ортогональной всем $\chi_t$.
            \[\forall f \in cf_K(G): B(f, \chi_i) = 0 \overset{?}\then f = 0\]
            Пусть $\forall i: B(f, \chi_i) = 0$. Тогда при усреднении получаем $\forall i: (\pi_i)_{(f)} = 0$.

            Так как каждое представление раскладывается в прямую сумму неприводимых, то вообще любое представление усредняется в ноль, например, регулярное $\text{reg}: G \map GL(K[G])$.
            Пусть $(e_g)_{g \in G}$ --- базис $K[G]$.
            Таким образом, $\text{reg}_{(f)}(e_1) = \frac{1}{|G|}\sum\limits_{g \in G}f(g)\text{reg}_g(e_1) = \frac{1}{|G|}\sum\limits_{g \in G}f(g)e_g$.
            Но так как $e_g$ --- базис, то все коэффициенты равны нулю.

            Действительно, $f$ оказалась равна нулю, откуда $\chi_i$ --- полная система, и $s = t$.
        }
    }
    \newlection{19 октября 2016 г.}


    \section{Дальнейшие конструкции над представлениями}
    \bullets{\label{further-constructions}
    \item Тензорное произведение представлений

    Пусть $\pi: G \map GL(U), \rho: G \map GL(V)$ --- два представления одной группы.
        \[(\pi, \rho)\rightsquigarrow\pi \otimes\rho: \arr{ccc}{G &\map& GL(U \otimes V)\\g&\mapsto&\pi_g \otimes_{K} \rho_g}\]
        \note{
            Это совсем не сермяжная истина, это эквивалентно тому, что диагональ определена так: $\Delta: \arr{ccc}{K[G]&\map&K[G]\\g &\mapsto& g \otimes g}$.
            Для алгебр Ли будет всё совсем иначе.
        }
        Если ввести базис, то окажется, что $(\pi \otimes \rho)_g = \pi_g \otimes \rho_g$, где $\otimes$ --- кронекеровское произведение матриц.
        А мы знаем, что $\tr(x \otimes y) = \tr(x) \cdot \tr(y)$, то есть если перемножить характеры двух каких-то представлений, то получится тоже характер какого-то представления: $\chi_\pi \cdot \chi_\rho = \chi_{\pi \otimes \rho}$.

        Конечно, $\pi \otimes \rho$ необязательно неприводимо, но если одно из $\pi$ и $\rho$ одномерно, а другое неприводимо, то результат --- тоже неприводимое произведение (какое-то другое).

        Именно так в общем случае строятся представления --- берутся все представления, которые можно построить, дальше их тензорные произведения (например, степени), они снова раскладываются на неприводимые, и так теоретически может найтись всё, но это надо доказывать.
        \item Наружное тензорное произведение (outward tensor product).

        Пусть $\pi: H \map GL(U), \rho: G \map GL(V)$ --- два представления \textbf{разных групп}.

        Сопоставим им представление $\pi \boxtimes \rho: \arr{ccc}{H \times G &\map& GL(U \otimes V)\\(h,g)&\mapsto&\pi_h \otimes \rho_g}$.
        В матрицах это опять же кронекеровское произведение матриц.
        \note{
            В сравнении с предыдущим пунктом получаем $\pi \otimes \rho = \restricted^{G \times G}_{G}(\pi \boxtimes \rho)$.

            Их не надо путать, произведение неприводимых непременно неприводимо только если произведение наружное, а иначе --- как правило приводимо.
        }
        \item $n$-я внешняя степень.

        Пусть $\pi: G \map GL(V)$. Сопоставим ему $\bigwedge^m(\pi): \arr{ccc}{G&\map&GL(\bigwedge^m(V))\\g&\mapsto&\bigwedge^m(\pi_g)}$.
        По линейности определяется \[\bigwedge\!\!{}^m(\pi)(u_1 \wedge \dots \wedge u_m) = \pi_g(u_1) \wedge \cdots \wedge \pi_g(u_m)\]
        то есть $\bigwedge^m(\pi)_g = \bigwedge\!\!{}^m(\pi_g)$.
        Можно посчитать $\chi_{\bigwedge^2(\pi)}(g) = \frac{1}{2}(\chi_\pi(g)^2 - \chi_\pi(g^2))$.
        \item Точно так же определяется $n$-я симметрическая степень.

        Пусть $\pi: G \map GL(V)$. Сопоставим ему $S^m(\pi): \arr{ccc}{G&\map&GL(S^m(V))\\g&\mapsto&S^m(\pi_g)}$.
        По линейности определяется \[S^m(\pi)(u_1 \wedge \dots \wedge u_m) = \pi_g(u_1) \proddots \pi_g(u_m)\]
        то есть $S^m(\pi)_g = S^m(\pi_g)$.

        Полезно помнить формулу для симметрического квадрата $\chi_{\bigwedge^2(\pi)}(g) = \frac{1}{2}(\chi_\pi(g)^2 + \chi_\pi(g^2))$.

        Видно, что $\bigwedge^2(\pi)\oplus S^2(\pi) = \pi \otimes \pi$, и действительно $\chi_{\bigwedge^2(\pi)} + \chi_{S^2(\pi)} = \chi_{\pi \otimes \pi}$.

    }


    \section{Представления прямого произведения групп}
    \label{khtimesg}
    На самом деле говорится, что $K[H \times G] = K[H] \otimes_K K[G]$.
    \note{На модуле $A \otimes B$ умножение достаточно вводить на разложимых тензорах, и обычно его определеяют по формуле $(a_1 \otimes b_1)(a_2 \otimes b_2) = (a_1a_2 \otimes b_1b_2)$. Таким образом, тензорное произведение алгебр --- алгебра.
    Но мы докажем не это.}
    \theorem{
        Любое неприводимое представление группы $H \times G$ над алгебраически замкнутым полем характеристики нуль $K$ имеет вид $\pi \boxtimes \rho$, где $\pi, \rho$ --- неприводимые представления $H$ и $G$ соответственно. Обратно, любое такое $\pi \boxtimes \rho$ неприводимо.
        \provehere{
            Сначала докажем, что $\pi \boxtimes \rho$ неприводимо для неприводимых $\pi,\rho$.

            Была определена билинейная форма $B_G: K^G \times K^G \map K$, $B(\chi,\theta) = \frac{1}{|G|}\sum\limits_{g \in G}\chi(g)\theta(g^{-1})$.
            Была доказана лемма, что характер $\chi$ --- характер неприводимого представления, если $B(\chi,\chi) = 1$.

            Посчитаем $B_{H \times G}(\chi_{\pi \boxtimes \rho},\chi_{\pi \boxtimes \rho})$.
            Так как $\chi_{\pi \boxtimes \rho}(h, g) = \chi_\pi(h)\otimes \chi_\rho(g)$, то
            \multline{B_{H \times G}(\chi_{\pi \boxtimes \rho},\chi_{\pi \boxtimes \rho}) = \frac{1}{|H \times G|}\sum\limits_{h \in H, g \in G}\chi_\pi(h)\chi_\rho(g)\chi_\pi(h^{-1})\chi_\rho(g^{-1}) =\\= \frac{1}{|H|}\sum\limits_{h \in H}\chi_\pi(h)\chi_\pi(h^{-1})\cdot\frac{1}{|G|}\sum\limits_{g \in G}\chi_\rho(g)\chi_\rho(g^{-1}) = B_H(\chi_\pi,\chi_\pi)B_G(\chi_\rho,\chi_\rho) = 1}

            Но так как получено ровно столько представлений, сколько и есть классов сопряжённых элементов, то из соображений количества больше представлений нет.
            Та же выкладка показывает, что получены неэквивалентные представления:
            \multline{B_{H \times G}(\chi_{\pi \boxtimes \rho},\chi_{\pi' \boxtimes \rho'}) = \frac{1}{|H \times G|}\sum\limits_{h \in H, g \in G}\chi_\pi(h)\chi_{\rho'}(g)\chi_{\pi'}(h^{-1})\chi_\rho(g^{-1}) =\\= \frac{1}{|H|}\sum\limits_{h \in H}\chi_\pi(h)\chi_{\pi'}(h^{-1})\cdot\frac{1}{|G|}\sum\limits_{g \in G}\chi_\rho(g)\chi_{\rho'}(g^{-1}) = B_H(\chi_\pi,\chi_{\pi'})B_G(\chi_\rho,\chi_{\rho'}) = \delta_{\pi,\pi'}\cdot\delta_{\rho,\rho'}}
        }
    }
    \note{Теорема верна и при $K$ --- поле разложения, $\chr K \notdivs |G|$.}
    \newlection{24 октября 2016 г.}


    \section{Свойства целочисленности представлений}
    Пусть $\pi: G \map GL(n, \C)$ --- неприводимое представление ($\deg \pi = n$).
    Для любого $g \in G: g^m = 1 \then \pi_g^m = \pi_{g^m} = \pi_1 = \id$, то есть все собственные числа $\pi_g$ --- корни степени $m$ из едиинцы.
    В частности, $\chi_\pi(g) \in \Z\left[\sqrt[m]{1}\right] \le \A$.

    Пусть $C \subset G$ --- класс сопряжённых элементов.
    \lemma{
        $\sum\limits_{g \in C}\frac{\chi_\pi(g)}{\deg(\pi)} \in \A$.
        \provehere{
            $\sum\limits_{g \in C}\pi_g$ является центральным элементом:
            \[\sum\limits_{g \in C}\pi_g \cdot \pi_x = \pi_x \cdot \sum\limits_{g \in C}\pi_g\]
            Тем самым (лемма Шура), $\exists \lambda \in \C: \sum\limits_{g \in C}\pi_g = \lambda \id$.
            Посчитаем след: $\tr\left(\sum\limits_{g \in C}\pi_g\right) = n \lambda$, но на самом деле $\lambda \in \A$, например, так как это корень характеристического многочлена ${\sum\limits_{g \in C}\pi_g}$.
        }
    }

    \corollary{
        Над $\C$ степень любого неприводимого представления делит порядок группы.
        \provehere{
            Пусть $\pi$ --- неприводимое представление. Пусть $\chi = \chi_\pi$. Тогда $B(\chi,\chi) = 1\iff\sum\limits_{g \in G}\chi(g)\chi(G^{-1}) = |G|$.
            Теперь поделим обе части равенства на $n$.
            \[\underbrace{\sum\limits_{C \subset G}\chi(C)}_{\in \A}\underbrace{\sum\limits_{h \in C}\frac{\chi(h)}{n}}_{\in \A} = \frac{|G|}{n}\]
            Отсюда $\frac{|G|}{n} \in \A$, но по лемме Гаусса $\A \cap \Q = \Z$.
        }
    }

    \theorem[Следствие из предыдущей]{
        Над $\C$ степень $n$ любого неприводимого представления $\pi: G \map GL(V)$ делит индекс центра.
        \provehere{
            Рассмотрим $\pi^{\boxtimes m}: \underbrace{G \times \dots \times G}_{m} \map GL(V^{\otimes m})$.
            Оно неприводимо, но точным не является.
            Пусть $H \coloneqq \defset{(h_1, \dots, h_m)}{h_1 \proddots h_m = 1}\le C(G) \times \dots \times C(G)$.

            Можно рассмотреть дефляцию представления $\pi^{\boxtimes m}: G/H \map GL(V ^{\otimes m})$.
            Она всё ещё неприводима --- образ остался прежним.

            Порядок факторгруппы равен $\frac{|G|^m}{|C(G)|^{m-1}} = |G| \cdot |G : C(G)|^{m-1}$, степень представления равна $\deg(\pi)^{m}$.
            Тогда \[(\deg(\pi))^m \bigdivs |G| \cdot |G : C(G)|^{m-1}\]и так как это верно для любого $m \in \N$, то $\deg(\pi)\bigdivs |G : C(G)|$.
        }
    }

    \theorem{
        Пусть $K = \C$, $A \le G$ --- абелева подгруппа. Тогда степень неприводимого представления не больше $|G : A|$, а если $A \normeq G$, то $\deg(\pi)\bigdivs |G : A|$.
    }


    \section{Индуцированные представления}
    Пусть $H \normeq G$.
    Тогда можно построить инфляцию представления $\pi: G/H \map GL(V)$, это будет представление \begin{align*}
                                                                                                    \tilde{\pi}: G &\map GL(V)g \mapsto \pi_{gH}
    \end{align*}
    Обратно, если $\pi: G \map GL(V)$ и $H \le \Ker(\pi)$, то есть дефляция \begin{align*}
                                                                                \tilde{\pi}: G/H &\map GL(V)gH \mapsto \pi_{g}
    \end{align*}

    Теперь пусть $H \le G$ --- просто подгруппа.
    По представлению $\pi: G \map GL(V)$ можно построить ограничение $\restricted^G_H(\pi)$.
    Однако совсем необязательно ограничение неприводимого представления неприводимо.

    Чтобы пройти в обратную сторону, построим по представлению подгруппы представление группы. $\pi: H \map GL(V)$.
    Построим \textit{индуцированное представление} $\induced_H^G(\pi): G \map ?$
    В конструкции индуцированного представления участвует не только само представление $\pi$, но и децствие $G \curvearrowright G/H$.

    \subsection{Компактная индукция (compact induction)}
    Если дано представление $\pi: H \map V$, то $V$ является $K[H]$ модулем.
    Чтобы превратить его в $K[G]$ модуль, можно взять тензорное произведение
    \[K[G] \otimes_{K[H]} V\]
    Тут стоит остановиться и пояснить, что есть тензорное произведение над некоммутативным кольцом.

    Пусть $R$ --- необязательно коммутативное кольцо, $U$ --- правый $R$-модуль, $V$ --- левый $R$-модуль.
    Тогда $U \otimes_R V$ --- абелева группа со сбалансированным биаддитивным отображением $\phi: U \times V \map U \otimes_R V$, удовлетворяющая следующему универсальному свойству:

    Для любой абелевой группы $A$, любого сбалансированного биаддитивного $\psi: U \otimes_R V \map A$: $\exists! \eta : U \otimes_R V \map A$ --- гомоморфизм абелевых групп.
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJVIFxcdGltZXMgViJdLFsxLDEsIkEiXSxbMiwwLCJVIFxcb3RpbWVzX1IgViJdLFswLDEsIlxccHNpIl0sWzAsMiwiXFxwaGkiXSxbMiwxLCJcXHRoZXRhIiwyLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
    \[\begin{tikzcd}[ampersand replacement=\&]
    {U \times V}
          \&\& {U \otimes_R V} \\
          \& A
          \arrow["\psi", from=1-1, to=2-2]
          \arrow["\phi", from=1-1, to=1-3]
          \arrow["\theta"', dashed, from=1-3, to=2-2]
    \end{tikzcd}\]
    \definition[Сбалансированное отображение $\phi$]{$\phi(u\lambda, v) = \phi(u, \lambda v)$.}
    \definition[Биадддитивное отображение $\phi$]{$\phi(u, v_1 + v_2) = \phi(u, v_1) + \phi(u, v_2)$ и $\phi(u_1 + u_2, v) = \phi(u_1, v) + \phi(u_2, v)$.}
    Далее сюда надо перенести конструкцию.

    Если один из модулей был бимодулем, то тензорное произведение останется модулем.

    \definition[Индуцированное представление]{
        $\induced_H^G(V) = K[G] \otimes_{K[H]} V$.
    }
    Заметим, что $K[G] \otimes_{K[H]} V$ --- фактормодуль модуля $K[G] \otimes_K V$.

    Если $v_1, \dots, v_n$ --- базис $V$ над $K$, то над $K$ базисом $K[G] \otimes_K V$ является система $g \otimes v_i$.
    При появлении дополнительных соотношений стало возможным переносить элементы из $H$ по другую сторону $\otimes$: $gh \otimes v = g \otimes hv$.

    Пусть $T = \{x_1, \dots, x_t\}$ --- правая трансверсаль к $H$ в $G$, то есть $\forall g \in G: \exists! i = 1..t, h \in H: g = x_i h$.
    \[G = x_1 H \sqcup \dots \sqcup x_t H\]
    \lemma{
        Базисом $K[G] \otimes_{K[H]} V$ при фиксированной трансверсали $T = (x_1, \dots, x_t)$ и базисе $(v_1, \dots, v_n)$ являются $x_i \otimes v_j$.

        В частности, $\dim_K(\induced^G_H(V)) = |G : H| \dim_K(V)$.
    }
    \newlection{26 октября 2016 г.}
    Построение индуцированного модуля выглядело так: строится $G$-модуль $V = \induced_H^G(U)$, такой, что
    \numbers{
        \item $U \le V$.
        \item $V = x_1 U\oplus \dots \oplus x_t U$.
    }
    Без упоминания тензорного произведения весьма утомительно проверять, что данная конструкция не зависит от выбора представителей.

    \subsection{Полная индукция (complete induction)}
    В то время как компактная индукция является аналогом прямой суммы, полная индукция является аналогом прямого произведения, то есть для бесконечных групп конструкция --- куда больше.
    Для конечных групп же конструкции изоморфны, что вскоре будет показано.

    Рассмотрим множество $H$-инвариантных функций, покамест обозначим его с большой буквы
    \[\text{Ind}_H^G(U) = \defset{f: G \map U}{\forall h \in H, x \in G: f(hx) = \pi_h(f(x))}\]
    Теперь устроим действие $G \curvearrowright \text{Ind}^G_H(U)$ следующим образом:
    \[\forall x, g \in G, f \in \text{Ind}_H^G(U): (gf)(x) = f\left(xg\right)\]
    Так как действия на $x$ слева и справа независимы, то определение корректно.
    Это действительно действие:
    \[g_1(g_2f(x)) = g_2f(xg_1) = f((x g_1)g_2) = f(x (g_1 g_2))\]

    $\text{Ind}_H^G(U)$ можно рассматривать, как $K[G]$-модуль, найдём базис данного пространства функций.

    В отличие от компактной индукции, где элементы $H$ действовали на $G$ справа, здесь всё наоборот, поэтому нам пригодится левая трансверсаль к $H$ в $G$.
    Чтобы всё было согласовано, построим её по правой трансверсали, взяв обратные: $T^{-1} = \{x_1^{-1}, \dots, x_t^{-1}\}$.
    \[G = H x_1^{-1} \sqcup \dots \sqcup H x_t^{-1}\]
    Введём функции \begin{align*}
                       f_{x_i, u}: G &\map U \\g &\mapsto \all{\pi_h(u),&g = hx_i^{-1} \in Hx_i^{-1} \\ 0,& g \notin Hx_i^{-1}}
    \end{align*}
    Если $(u_1, \dots, u_n)$ --- базис $U$, то набор функций $f_{x_i,u_j}$ является базисом $\text{Ind}_H^G(U)$.

    Видим, что базисы $\induced_H^G$ и $\text{Ind}_H^G$ равномощны, и пишутся очень похоже.
    Векторные пространства $\induced_H^G(U)$ и $\text{Ind}_H^G(U)$ изоморфны, но \textbf{для конечных групп} они ещё и являются эквивалентными представлениями.

    \theorem{
        Если $|G| < \infty, H \le G$, $U$ --- $H$-модуль, то $\induced_H^G(U) \cong \text{Ind}_H^G(U)$, как $G$-модули.
        \provehere{
            Изоморфизм можно устроить на базисе так: $x_i \otimes u_j \leftrightarrow f_{x_i,u_j}$.
            $G$ действует на $x_i \otimes u$ так: пусть $gx_i = x_j h$ для $x_j \in T, h \in H$. Тогда
            \[g(x_i \otimes u) = (gx_i) \otimes u = (x_j h) \otimes u = x_j \otimes\pi_h(u)\]
            С другой стороны, если подействовать тем же элементом $g$ на $f_{x_i,u}$, то получится вот что:
            \[gf_{x_i,u}(x) = f_{x_i, u}(x g) = \all{\pi_{b}(u), &xg = b x_i^{-1} \in H x_i^{-1}\\0,&\text{иначе}}\]
            Таким образом, $g f_{x_i, u}$ отправляет не в ноль элементы $x$, такие, что $x \in H x_i^{-1} g^{-1}$.
            Мы уже ранее сказали, что $x_i^{-1}g^{-1} = h^{-1}x_j^{-1}$. Видим, что
            \[gf_{x_i,u}(x) = \all{\pi_{b}(u) = \pi_{bh^{-1}}(\pi_{h}(u)), &x = bh^{-1}x_j^{-1} \in H x_j^{-1}\\0,&\text{иначе}}\]
            Действительно, это совпадает с определением $f_{x_j, \pi_{h}(u)}$, действия на базисах сошлись.
        }
    }
    Матрица индуцированного представления выглядит так
    \[\pi_g = \vect{\pi_{x_1^{-1}gx_1} & \cdots & \pi_{x_1^{-1}gx_t} \\ \vdots & \ddots & \vdots \\ \pi_{x_t^{-1}g x_1} & \cdots & \pi_{x_t^{-1}gx_t}}\]
    где запись означает ненулевое значение $\pi_{x_i^{-1} g x_j}$ только если $x_i^{-1}g x_j \in H$.

    Таким образом, матрица индуцированного представления --- блочно-мономиальная, и $\induced^G_H(U) = x_1 U \oplus \dots \oplus x_t U$.
    Операторы $\pi_g$ сначала переставляют эти слагаемые, а потом на каждом действуют оператором $\pi_h$ для некоторого $h$ (для каждого $U$ --- $h$ --- своё).


    \section{Индуцированные характеры}
    Пусть $\pi: H \map GL(U)$ --- представление, $\chi = \chi_\pi$.
    Мы построили $\induced_H^G(\pi) \eqqcolon \pi^G: G \map GL(V = U^G)$.

    Посчитаем характер $\chi^G: G \map K$.
    Для этого сначала продолжим характер $\chi$ до функции на $G$:
    \begin{align*}
        \chi^0(G): G &\map K\\g &\mapsto \all{\chi(g),&g \in H \\ 0,& g \notin H}
    \end{align*}
    $\chi^0$ --- совсем необязательно центральная функция на $G$.
    \theorem{
        $\chi^G(g) = \sum\limits_{\substack{x_i \in T \\ x_i^{-1}g x_i \in H}}\chi(x_i^{-1}gx_i)$.
        \provehere{
            Характер --- сумма диагональных элементов, и так как матрица $\pi^G$ блочно-мономиальная, то суммировать надо характеры ровно тех $\pi_{x_i^{-1}g x_i}$, где $x_i^{-1}g x_i \in H$.
        }
    }
    \corollary{
        $\chi^G(g) = \sum\limits_{x_i \in T}\chi^0(x_i^{-1}gx_i)$.
    }
    \corollary{
        Чтобы суммировать не по $x_i \in T$, а по $y \in G$, надо просто заменить $y = x_i h$. $\chi$ --- центральная на $H$ функция, поэтому всё сойдётся:
        \[\chi^G(g) = \frac{1}{|H|}\sum\limits_{\substack{y \in G\\y^{-1}gy \in H}}\chi(y^{-1}gy)\]
    }
    \corollary{
        Объединяя предыдущие два, получаем
        \[\chi^G(g) = \frac{1}{|H|}\sum\limits_{y \in G}\chi^0(y^{-1}gy)\]
    }


    \section{Формула слияния (fusion formula)}
    Пусть $H \le G, g \in G$.
    Посмотрим на $g^G \cap H$, это объединение некоторых классов сопряжённости в $H$:
    \[g^G \cap H = h_1^H \sqcup \dots \sqcup h_m^H\]
    Эти элементы $h_1, \dots, h_m$ называются \textit{представителями классов сопряжённых с $g$ в $H$}.

    \theorem{
        Если $\chi$ --- характер $H \le G$, $g \in G, h_1, \dots, h_m$ --- представители классов сопряжённых с $g$ в $H$, то
        \[\chi^G(g) = |C_G(g)| \sum\limits_{i = 1}^{m}\frac{\chi(h_i)}{|C_H(h_i)|}\]
        Поскольку $g \sim_G h_i$, то $C_G(g) \sim C_G(h_i)$ и, значит, формулу можно переписать в виде
        \[\chi^G(g) = \sum\limits_{i = 1}^{m}|C_G(h_i) : C_H(h_i)|\cdot \chi(h_i)\]
        \provehere{
            Введём $Y_i \coloneqq \defset{y \in G}{y^{-1}g y \sim_H h_i}$, причём $Y = Y_1 \sqcup \dots \sqcup Y_m$.
            Запишем найденную ранее формулу и будем её преобразовывать:
            \[\chi^G(g) = \frac{1}{|H|}\sum\limits_{\substack{y \in G\\y^{-1}gy \in H}}\chi(y^{-1}gy) = \frac{1}{|H|}\sum\limits_{y \in Y}\chi(y^{-1}gy) = \frac{1}{|H|}\sum\limits_{i = 1}^{m}\sum\limits_{y \in Y_i}\chi(y^{-1}g y) = \frac{1}{|H|}\sum\limits_{i = 1}^{m}|Y_i|\chi(h_i)\]
            Осталось доказать, что $\frac{|Y_i|}{|H|}= \frac{|C_G(g)|}{|C_H(h_i)|}$.

            Для этого заметим, что $Y_i = C_G(g) y_i H$: $\subset$ очевидно, $\supset$ показывается так: \multline{y^{-1} g y \sim_H h_i \then \exists h \in H: hy^{-1}gyh^{-1} = h_i,\quad\text{ и далее }\\ \all{y_i^{-1}g y_i = h_i \\ h y^{-1}g y h^{-1} = h_i} \then y_i h y^{-1} \in C_G(g) \then y \in C_G(g)y_i h}
            Далее для подсчёта количества элементов в двойном смежном классе можно воспользоваться формулой Фробениуса, учитывая, что $C_G(g) \cap H = C_H(h_i)$.
        }
    }
    В нормальной подгруппе $H \normeq G$ видно, что сумма пустая, то есть характеры, индуцированные с нормальной подгруппы, сконцентрированы на $H$.

    \newlection{26 октября 2023 г.}
    \intfact{
        Индуцирование транзитивно:
        пусть $F \le H \le G$. Тогда $\induced^G_F(\chi) = \induced_H^G(\induced_F^H(\chi))$.
    }


    \section{Закон взаимности Фробениуса}
    Пусть $H \le G$, $\pi: H \map GL(U). \rho: G \map GL(V)$ --- неприводимые представления.

    Рассмотрим $\pi^G \coloneqq \induced^G_H(\pi)$ и $\rho_H - \restricted_H^G(\rho)$.
    Закон взаимности Фробениуса говорит, что $\pi^G$ содержит $\rho$ с той же кратностью, что $\rho_H$ содержит $\pi$.
    \theorem{
        Пусть $\chi \in cf_K(H), \rho \in cf_K(G)$.
        Тогда $B_G(\chi^G, \rho) = B_H(\chi, \rho_H)$. Здесь $\chi^G$ --- индуцирование центральной функции по формулам, полученным ранее (они все дадут одинаковый результат, так как выведены одна из другой), $\rho_H$ --- ограничение $\rho\Big|_H$.
        \provehere{
            \[B_G(\chi^G, \rho) = \frac{1}{|G|}\sum\limits_{g \in G}\chi^G(g)\rho(g^{-1}) = \frac{1}{|G|}\frac{1}{|H|}\sum\limits_{g \in G}\sum\limits_{y \in G}\chi(y^{-1}gy)\rho(g^{-1})\]
            Заменим порядок суммирования: пусть $h = y^{-1}gy$.
            \[\frac{1}{|G|}\frac{1}{|H|}\sum\limits_{g \in G}\sum\limits_{y \in G}\chi(y^{-1}gy)\rho(g^{-1}) = \frac{1}{|G|}\frac{1}{|H|}\sum\limits_{h \in H}\sum\limits_{y \in G}\chi(h)\rho(y h^{-1}y^{-1}) = \frac{1}{|G|}\sum\limits_{y \in G}\underbrace{\sum\limits_{h \in H}\chi(h)\rho(h^{-1})}_{B_H(\chi, \rho_H)}\]
        }
    }
    \corollary{
        Если $A \le G$ --- абелева подгруппа, $\rho: G \map GL(U)$ неприводимо, то $\deg(\rho) \le |G : A|$.
        \provehere{
            Все неприводимые представления $A$ одномерны.
            $\rho\Big|_A$ --- прямая сумма неприводимых представлений $A$.

            Пусть $\pi$ --- какое-то из них. Тогда $\rho$ входит в $\induced^G_A(\pi)$, но $\deg(\induced^G_A(\pi)) = |G : A|$.
        }
    }


    \chapter{Необработанные куски из теории представлений}
    \newlection{19 октября 2023 г.}
    \lemma[Лемма Шура над замкнутым полем]{
        Пусть $R$ --- $F$-алгебра, $F$ --- замкнутое поле. Рассмотрим простой $R$-модуль $M$, пусть $\dim_F{M} < \infty$.

        Рассмотрим $\phi \in \End_R(M)$. Тогда $\phi$ --- умножение на скаляр $\lambda \in F$.
        \provehere{
            Нам известно, что $\End_R(M)$ --- тело, причём $\End_R(M) \subset \End_F(M)$.
            $\End_R(M)$ --- $F$-подпространство;\ так как $\End_R(M)$ конечномерная алгебра с делением над замкнутым полем $F$, то $\End_R(M) \cong F$.
        }
    }
    Пусть $\pi: G \map GL(V)$.
    Тогда \textit{степень представления} $\deg(\pi) = \dim V$.
    \corollary{
        Всякое неприводимое представление абелевой группы над замкнутым полем одномерно (имеет степень 1).
        \provehere{
            $F[G]$ --- коммутативная алгебра. Тогда $\forall g \in G, h \in F[G], v \in V: g \cdot hv = h \cdot gv$, то есть умножение на $g$ --- автоморфизм $F[G]$-модуля $V$.

            Используя лемму Шура, получаем, что $\exists \alpha_g \in F: \forall v \in V: g \cdot v = \alpha_g v$.

            Любое одномерное $F$-подпространство $F[G]$-инвариантно. Так как представление неприводимо, то представление одномерно.
        }
    }


    \section{Операции над представлениями}
    \definition[Характер представления]{
        След матрицы представления.
    }
    \bullets{
        \item % Можно рассмотреть $U \otimes_{F[G]} V$.
        Можно рассмотреть действие $G \curvearrowright U \otimes_F V$.
        $g(u \otimes v) = (gu) \otimes (gv)$.

        Иными словами (так удобно писать, когда $U = V$, чтобы различать представления) \[(\rho \otimes \pi)_g(u \otimes v) = \rho_g(u) \otimes \pi_g(v)\]
        Пусть $u_1, \dots, u_n$ --- базис $U$, $v_1,\dots,v_m$ --- базис $V$.
        Выберем в $U \otimes_F V$ базис $u_i \otimes v_j$.
        Тогда \[(\rho \otimes \pi)_g(u_i \otimes v_j) = \rho_g(u_i) \otimes \pi_g(v_j) = \sum\limits_{k = 1}^{n}u_k([\rho_g]_u)_{k,i} \otimes \sum\limits_{l = 1}^{m}v_l ([\pi_g]_v)_{l,j} = \sum\limits_{m,l}u_m \otimes v_l \cdot (\rho_{m,i}(g)\cdot\pi_{l,j}(g))\]
        След представления $\rho \otimes \pi$ равен произведению характеров: $\sum\limits_{i,i}\rho_{i,i}(g)\pi_{j,j}(g) = \tr(\rho_g)\cdot \tr(\pi_g)$.

        Определитель матрицы $(\pi \otimes \rho)_g = \prod\limits_{i,j}\lambda_i \mu_j = (\det \rho_g)^k \cdot (\det \pi_g)^n$.
    }
    \lemma{
        Предположим, что $M, N$ --- $R$-модули, и $M \overset{\psi}\map N \overset{\phi}\map M$ --- тождественная композиция.
        Тогда $N \cong M \oplus \Ker \phi$ (в случае групп полупрямое произведение).
        \provehere{
            Докажем, что $N = \Image \psi \oplus \Ker \phi$. Так как $\psi$ инъективно, то $\Image \psi \cong M$.
            Рассмотрим $x \in \Image \psi \cap \Ker \phi$. $x = \psi(y)$, значит, $\phi(\psi(y)) = 0$, откуда $x = 0$.

            Если $z \in N$, то $\psi(\phi(z)) \eqqcolon t$ лежит в $\Image(\psi)$, причём $z - t \in \Ker(\phi)$: $\phi(z - t) = \phi(z) - \phi(\psi(\phi(z))) = 0$.
        }
    }
    Данная лемма позволяет выделять подмодуль прямым слагаемым, если найдена ретракция $\phi$.
    \theorem[Машке]{
        Пусть $F$ --- необязательно замкнутое поле, $G$ --- конечная группа, причём $\chr F \notdivs |G|$.
        Тогда любое конечномерное представление $G$ над $F$ вполне приводимо.
        \provehere{
            Пусть $\{0\} \ne N \lneq M$, где $M$ --- конечномерный. $M = N \oplus N'$, где $N'$ --- $F$-подпространство (не $F[G]$ подмодуль).
            Заведём $p: M \map N, p(n + n') = n$, где $n \in N, n' \in N'$.

            $p$ --- ретракция, подправим его так, чтобы оно стало $G$-эквивариантным отображением.
            \[\tilde{p}(v) = \frac{1}{|G|}\sum\limits_{g \in G}gp(g^{-1}v)\]
            $\tilde{p}$ по-прежнему $F$-линейна, рассмотрим для $h \in G$: \[\tilde{p}(hv) = \frac{1}{|G|}\sum\limits_{g \in G}gp(g^{-1}hv) = \frac{1}{|G|}\sum\limits_{h^{-1}g \in G}h\cdot(h^{-1}g)\cdot p(g^{-1}hv) = h\tilde{p}(v)\]
            Таким образом, $\tilde{p}$ $G$-эквивариантно (и является ретракцией: $\forall n \in N: \tilde{p}(n) = g p(g^{-1}n) = gg^{-1}n= n$), и $N$ выделяется прямым слагаемым.}
    }
    \corollary{
        По-прежнему $\chr F \notdivs |G|$.
        Если все неприводимые представления одномерны, то группа абелева.
        \provehere{
            Рассмотрим регулярное представление $F[G]$ как $F[G]$-модуля. $F[G] \cong \bigoplus\limits_{k = 1}^{|G|}V_k$, где $V_k$ неприводимы: $\dim_F(V_k) = 1$.
            В матричном виде $\Image \text{reg} \subset D(|G|, F)$.
        }
    }


    \newlection{24 октября 2023 г.}
    Далее мы везде работаем над алгебраически замкнутым полем характеристики нуль.
    В частности, всякое такое поле содержит алгебраическое замыкание $\Q$ --- алгебраические числа $\A$.

    \intfact{Любое представление над полем характеристики нуль эквивалентно представлению над $\C$.}

    Будем считать, что базовое поле --- $\C$.

    Вспомним про эрмитовскую полуторалинейную форму
    \[B(x, y\lambda) = B(x, y)\lambda \qquad B(x, y) = \overline{B(y, x)} \qquad \then \qquad B(x\lambda, y) = \overline{\lambda}B(x, y)\]
    Будем считать, что форма положительно определена: $\forall x \ne 0: B(x, x) > 0$.
    \definition[Унитарная группа]{
        $U(B) \bydef \defset{a \in GL(n, \C)}{\forall x, y: B(ax, ay) = B(x, y)}$
    }
    \theorem[Унитаризуемость]{
        Для любого представления $\pi: G \map GL(n, \C): \exists$ положительно определённая эрмитова форма $B$: $\Image(\pi) \subset U(B)$.
        \provehere{~(\ref{uni})}
    }
    Дальше здесь идёт почти буквально лемма Шура в матричной форме.

    Устроим билинейную форму на множестве функций $K^G$:
    \[B(\eta, \theta) = \frac{1}{|G|}\sum\limits_{g \in G}\eta(g)\theta(g^{-1})\]
    Чаще всего мы будем вычислять скалярное произведение от характеров.

    Пусть $\pi: G \map GL(n, K)$ --- матричное представление, $\chr(K) \notdivs |G|$ и $K$ алгебраически замкнуто.

    \theorem[Соотношения ортогональности Шура]{
        Пусть $\pi: G \map GL(n, K), \rho: G \map GL(m, K)$ --- два матричных представления.
        \numbers{
            \item Если $\pi \nsim \rho$, то $\forall i,j,k,l: B(\pi_{i,j}, \rho_{k,l}) = 0$.
            \item Если $\pi = \rho$, то $B(\pi_{i,j}, \pi_{k,l}) = \frac{1}{\deg(\pi)}\delta_{i,l}\delta_{j,k}$.
        }
        \provehere{
            Подставим в качестве $\phi$ матричную единицу $e_{i,j}$. Её симметризация $\phi_0 = \frac{1}{|G|}\sum\limits_{g \in G}\rho_g e_{i,j} \pi_g^{-1}$.
            Посчитаем элемент $\phi_0$ в позиции $(k,l)$. Он равен $\frac{1}{|G|}\sum\limits_{g \in G}\rho_{k,i}(g)\cdot\pi_{j,l}(g^{-1})$.

            В случае $\pi \nsim \rho$ $\phi_0$ равно нулю, откуда $B(\pi, \rho) = 0$. Иначе, если $\pi = \rho$, то $\exists \lambda \in K: (\phi_0)_{k,l} = \lambda \delta_{k,l}$.
            Посчитаем $\lambda$: $\tr(\phi_0) = \frac{1}{|G|}\sum\limits_{g \in G}\tr(\pi_g e_{i,j} \pi_g^{-1}) = \frac{1}{|G|}\sum\limits_{g \in G}\tr(e_{i,j}) = \delta_{i,j}$.

            Отсюда $\deg(\pi)\cdot \lambda = 1$.
        }
    }
    \corollary{
        $B$ невырождена на подпространстве функций $K^G$.
        При данной форме пространство --- ортогональная прямая сумма $n$ одномерных подпространств и $\frac{n^2-n}2$ гиперболических плоскостей.
    }
    \corollary{
        Пусть $\pi^{(1)}, \dots, \pi^{(m)}$ --- все неэквивалентные неприводимые представления $G$.
        Тогда набор функций $\defset{\pi^{(i)}_{k,l}}{1 \le i \le m, 1 \le k, l \le \deg(\pi^{(i)})}$ линейно независим.
        \provehere{
            Рассмотрим матрицу $B(\pi^{(i)}_{k,l}, \pi^{(j)}_{k',l'})$, она невырождена.
        }
    }
    Заметим, что $\dim F^G = |G|$.
    В этом пространстве нашлись $n_1^2 + \cdots + n_s^2$ линейно независимых функций (здесь $n_i = \deg(\pi^{(i)})$.

    Из теоремы Веддербарна --- Артина сразу следует, что они ещё и являются системой образующих (для замкнутого поля хорошей характеристики).

    Мы же это докажем используя технику характеров для замкнутого поля характеристики нуль.
    \newlection{26 октября 2023 г.}
    Пусть $\phi \in F^G$.
    Устроим отображение \begin{align*}
                            F^G &\map F[G] \\ \phi &\mapsto \sum\limits_{g \in G}\phi(g) \cdot g
    \end{align*}
    Заметим, что $h^{-1}(\sum\limits_{g \in G}\phi(g)\cdot g)h = \sum\limits_{g \in G}\phi(g) \cdot \underbrace{h^{-1}gh}_{f} = \sum\limits_{f \in G}\phi\left(hfh^{-1}\right)f \overset{?}= \sum\limits_{f \in G}\phi(f)$.

    Если это верно для любого $h$, то $\phi$ --- центральная функция, функция класса.

    Обозначим $C_1, \dots, C_m$ --- классы сопряжённости $G = C_1 \sqcup \dots \sqcup C_m$.

    Пусть $c \in \Cent(K[G])$. $c = \sum\limits_{i = 1}\phi(C_i)\underbrace{\sum\limits_{g \in C_i}g}_{c_i} = \sum\limits_{i = 1}^{m}\phi(C_i)c_i$.

    Пусть $\pi$ неприводимо.
    Продлим по линейности $\pi: F[G] \map \End(V)$.
    Если $c \in \Cent(F[G])$, то $\pi_c \cdot \pi_g = \pi_{c \cdot g} = \pi_{g \cdot c} = \pi_g \cdot \pi_c$.

    Таким образом, $\pi_c \in \End_{F[G]}(V)$.
    Согласно лемме Шура, $\pi_c$ --- гомотетия, $\lambda \id$.

    Чтобы посчитать $\lambda$, предположим, что $c = \sum\limits_{i = 1}^{m}\phi(C_i)c$. $\tr(\pi_c) = \sum\limits_{i = 1}^{m}\phi(C_i)\tr(c_i) = \sum\limits_{i = 1}^{m}\phi(C_i)\chi_{\pi}(C_i) \cdot |C_i|$.

    \newlection{31 октября 2023 г.}
    Если модифицировать $c = \frac{1}{|G|}\sum\limits_{g \in G}\phi(g)g^{-1}$, то получится $\pi_c = \lambda \id$, где $\lambda$ находится при подсчёте следа:
    \[\tr(\pi(c)) = \frac{1}{|G|}\sum\limits_{g \in G}\phi(g)\tr(\pi(g^{-1})) = \frac{1}{|G|}\sum\limits_{g \in G}\phi(g)\chi_\pi(g^{-1}) = B(\phi,\chi_{\pi})\]

    \theorem{
        Характеры неприводимых представлений образуют базис пространства функций классов
        \provehere{
            Пусть $X$ --- подпространство, порождённое неприводимыми характерами, тогда $cf_K(G) = X \oplus X^{\perp_B}$, так как $B$ невырождена на $X$.
            Дальше аналогично проверяем, что если функция класса ортогональна всем характерам, то она равна нулю.
        }
    }


    \section{Таблицы характеров}
    Пусть $\chi_1, \dots, \chi_t$ --- хаарктеры неприводимых представлений, $C_1, \dots, C_s$ --- классы сопряжённых.
    Таблица характеров --- таблица следующего вида, где в ячейке $\chi_i, C_j$ стоит значение $\chi_i(C_j)$.
    \[\begin{array}{c|ccc}
          & C_1 = \{1\} & \cdots & C_s         \\\hline
          \chi_1 = 1 & 1           & \cdots & 1           \\
          \chi_2     & \deg \pi_2  & \cdots & \chi_2(C_s) \\
          \vdots     & \vdots      & \ddots & \vdots      \\
          \chi_s     & \deg \pi_s  & \cdots & \chi_s(C_s) \\
    \end{array}\]
    Пусть $\Z \subset F$.
    \definition[Целые алгебраические числа над $F$]{
        $\A_F \bydef \Int_F(\Z) \bydef \defset{a \in F}{\exists p \in \Z[t]: \lc(p) = 1, \ev_a(p) = 0}$.
    }
    \ok
    Пусть $R \subset A$ --- коммутативные кольца с единицей.
    \definition[$A$ целое над $R$]{
        $\forall a \in A: a$ --- целый над $R$.
    }
    \definition[$A$ --- конечное над $R$]{
        $A$ --- конечно порождено, как модуль над $R$.
    }
    \lemma{
        Пусть $A \subset B \subset R$ --- цепочка конечных расширений. Тогда $A$ конечно над $R$.
    }
    \lemma{
        Пусть $A = R[a_1, \dots, a_n]$, где $a_i$ --- целые над $R$.
        Тогда $A$ конечно над $R$.
        \provehere{
            $a_i^k \in \angles{a_i^0, \dots, a_i^{k-1}}$, если $k$ --- степень $a_i$. Индукция по $n$ с применением предыдущей леммы.
        }
    }
    \theorem{
        Если $R \subset A$ --- конечное расширение, и $a \in A$, то $a$ --- целый над $R$.
        \provehere{
            Пусть $m_a: A \map A$ --- гомоморфизм ($R$-модулей) умножения на $a$. $m_a \in \End_R(A)$.

            Пусть $x_1, \dots, x_n$ порождают $A$ над $R$. $x_i \cdot a\sum\limits_{j = 1}^{n}c_{i,j}x_j$
            Обозначим $c = (c_{i,j})$, тогда $xa = Cx$.

            $\chi_C(C) = 0$ по теореме Гамильтона --- Кэли (это, кстати, полиномиальное равенство, можно использовать, что оно было доказано над алгебраически замкнутым полем).

            $0 = \chi_c(C)x = \chi_c(a\id)x$. Так как $1 \in \Lin(x_1, \dots, x_n)$, то $\chi_c(a) \cdot 1 = 0$, откуда $\chi_c(a) = 0, a \in \A_R$
        }
    }
    \corollary{
        $R \subset A$ --- конечно $\iff A$ порождено как $R$-алгебра конечным числом целых элементов.
    }
    Возвращаясь к таблице характеров, получаем, что $\chi(g) \in \A$.
    \newlection{7 ноября 2023 г.}
    \bullets{
        \item Наружное произведение.
    }
    Пусть $K/F$ --- расширение полей ($F \le K$).
    Пусть $V$ --- векторное пространство над $K$, его можно рассматривать, как векторное пространство над $F$ --- надо забыть про умножение на элементы $K$, не лежащие в $F$.

    Можно сделать наоборот.
    Если $U$ --- векторное пространство над $F$, то можно сделать векторное пространство над $K$:
    о $K \otimes_F U$ можно мыслить, как о векторном пространстве над $K$: действие устроено так:
    \[\alpha(\beta \otimes x) = (\alpha \beta)\otimes x \text{, при }\alpha,\beta \in K, x \in U\]
    $\dim_K(K \otimes_F U) = \dim_F(U)$, конструкция называется \textit{расширением скаляров}.
    \ok
    Пусть $M$ --- правый модуль над $R$, $N$ --- левый модуль над $R$, $R$ --- необязательно коммутативное кольцо.
    Тогда $M \otimes_R N$ --- абелева группа, которую можно представить в виде
    \[M \otimes_R N = M \otimes_\Z N/ \angles{m \otimes \alpha n - m \alpha \otimes n \middle|m \in M, n \in N, \alpha \in R}\]
    Если $M$ является $A-R$-бимодулем, то $M \otimes_R N$ является левым $A$-модулем (структура вводится естественным образом).
    Заметим, что надо всё-таки проверить корректность: например, модуль, по которому происходит факторизация, должен быть $A$-инвариантным.

    Пусть $\phi: R \map A$ --- гомоморфизм колец.
    Ему сопоставляется функтор $\phi^{\#}: A-\text{mod} \map R-\text{mod}$.
    $A$-модуль $M$ превращается в $R$-модуль так: $r \cdot m = \phi(r) \cdot m$.
    Если $\phi$ --- вложение колец, то это соответствует расширению полей выше.

    Также можно сопоставить $\phi_{\#}: \Lmod{R} \map \Lmod{A}$ --- расширение скаляров.
    Получаем левый $A$-модуль $\phi_{\#}(M) = A \otimes_R M$, где $A$ рассматривается, как $A-R$-бимодуль.

    Теперь пусть $\phi: H \map G$ --- гомоморфизм групп.
    Тогда его можно продолжить до гомоморфизма групповых алгебр $\phi: F[H] \map F[G]$.

    Если $U$ --- $F[H]$-модуль, соответствующий представлению $\pi$, то $\phi_{\#}(U)$ --- $F[G]$-модуль.
    Если $H \le G$ и $\phi$ --- вложение, то соответствующее представление --- \textit{индуцированное с представления} $\pi$, обозначается $\induced_H^G(\pi)$.

    Наоборот, если $\rho$ --- представление группы $G$, $V$ --- соответствующий $F[G]$-модуль, то $\phi^{\#}(V)$ --- $F[H]$-модуль.
    Если $H \le G$ и $\phi$ --- вложение, то соответствующее представление --- \textit{сужение представления} $\pi$, обозначается $\restricted_H^G(\pi)$.

    В частности, если $G$ --- абелианизация $H$, то $\phi: H \twoheadrightarrow G$ сюръективно.
    Его можно продолжить до $\phi: F[G] \twoheadrightarrow F[G^{\ab}]$.
    Тогда ограничение представления $\phi^{\#}$ --- инфляция, индуцированное представление $\phi_{\#}$ --- дефляция.
    \newlection{9 ноября 2023 г.}
    В абстрактной ситуации пусть $\phi: R \map A$ -- гомоморфизм необязательно коммутативных колец.
    \begin{align*}
        \phi_{\#}: \Lmod{R} &\map \Lmod{A}\\M &\mapsto A \otimes_R M\text{ --- задали на $M$ структуру $A$-модуля}
    \end{align*}
    \begin{align*}
        \phi^{\#}: \Lmod{A} &\map \Lmod{R}\\M &\mapsto M\text{ --- забывающий функтор}
    \end{align*}

    Пусть $M$ --- $R$-модуль, $N$ --- $A$-модуль.
    \proposal{Имеет место следующее универсальное свойство:

    Для любого гомоморфизма $R$-модулей $\phi$: $\exists!$ гомоморфизм $A$-модулей $\psi: A \otimes_R M \map N$.
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJNIl0sWzIsMCwiQSBcXG90aW1lc19SIE0iXSxbMSwxLCJOIl0sWzAsMiwiXFxwaGkiXSxbMCwxLCJpIl0sWzEsMiwiXFxwc2kiLDJdXQ==
        \[\begin{tikzcd}[ampersand replacement=\&]
              M \&\& {A \otimes_R M} \\
              \& N
              \arrow["\phi", from=1-1, to=2-2]
              \arrow["i", from=1-1, to=1-3]
              \arrow["\psi"', from=1-3, to=2-2]
        \end{tikzcd}\]
        \provehere{
            Элементы $\defset{1 \otimes m}{m \in M}$ порождают $A \otimes M$. Чтобы диаграмма была коммутативной, необходимо равенство $\psi(i(m)) = \psi(1 \otimes m) = \phi(m)$.
            Значит, $\psi$ единственно, если уж существует.

            Зададим на разложимых тензорах $\psi(a \otimes m) = a \cdot \phi(m)$.
            Оно билинейно и распространяется по линейности на $A \otimes_R M$.
        }
    }
    \corollary{
        Имеет место естественный изоморфизм $\Hom_R(M, \phi^{\#}(N)) \cong \Hom_A(\phi_{\#}(M), N)$.

        В теории категорий такие два функтора $\phi^{\#}$ и $\phi_{\#}$ называются сопряжёнными.
    }

    \theorem[Закон взаимности Фробениуса]{
        Предположим, что $H \le G$, $\chr(F) = 0$ (на самом деле достаточно $\chr(F)\notdivs|G|$), $F$ алгебраически замкнуто.
        Пусть даны два представления $\pi: H \map GL(V)$, $\rho: G \map GL(U)$.

        Тогда $\text{Mor}(\induced^G_H(\pi), \rho) \cong \text{Mor}(\pi, \restricted^G_H\rho)$.

        Отсюда следует $B_H(\chi_\pi, \chi_{\restricted_H^G\rho}) = B_G(\chi_{\induced_H^G \pi}, \chi_\rho)$. Обычно пишут $B_H(\chi_\pi, {\restricted_H^G\chi_\rho}) = B_G(\induced_H^G \pi_\chi, \chi_\rho)$
        \provehere[Доказательство закона взаимности Фробениуса]{
            Рассмотрим следующую ситуацию.

            Пусть $\phi: H \hookrightarrow G$ --- вложение.
            Пусть $V$ --- $F[H]$-модуль, $U$ --- $F[G]$-модуль.

            Тогда $\Hom_{F[G]}(\phi_{\#}(V), U) \cong \Hom_{F[H]}(V, \phi^{\#}(U))$.

            Это $F$-линейный изоморфизм (проверить), то есть изоморфизм векторных пространств над $F$.

            Пусть $U, V$ --- простые модули, поле алгебраически замкнуто и характеристики, не делящей порядок группы.
            Пусть $\phi^{\#}(U) = \bigoplus\limits_{i = 1}^{k}V_i$ --- разложение в сумму простых $F[H]$-модулей.
            \[\dim_F\Hom\left(V, \bigoplus\limits_{i = 1}^{k}V_i\right) = \text{количество $V_i \cong V$ (лемма Шура)}\]
            Аналогично пусть $\phi_{\#}(V) = \bigoplus\limits_{i = 1}^{k}U_i$ --- разложение в сумму простых $F[G]$-модулей.
            \[\dim_F\Hom\left(\phi_{\#}(V), U\right) = \text{количество $U_i \cong U$}\]
            Но тогда получается, что количество вхождений $V$ в $\phi^{\#}(U)$ равно количеству вхождений $U$ в $\phi_{\#}(V)$

            Теперь пусть $\pi = \bigoplus \pi_i$, $\rho = \bigoplus \rho_j$ --- разложение в прямую сумму неприводимых.
            $\induced^G_H(\pi) = \bigoplus\induced^G_H(\pi_i)$ так как тензорное произведение дистрибутивно относительно прямого произведения:
            $F[G] \otimes (\bigoplus V_i) = \bigoplus (F[G] \otimes V_i)$.

            Также $\restricted^G_H(\rho) = \bigoplus \restricted\rho_i$, так как $\restricted$ --- просто сужение.

            Из билинейности $B$ и того, что $\chi_\pi = \sum\induced^G_H\chi_{\pi_i}, \chi_\rho = \sum\restricted^G_H\chi_{\rho_j}$ следует равенство скалярных произведений в общем случае.
        }
    }

    \subsection{Закон Фробениуса без теории категорий}
    Пусть $H \le G$, $\pi: H \map GL(V)$ --- представление, найдём матрицу $\induced^G_H(\pi)$.

    Рассмотрим $F[G] \otimes_{F[H]} V$.
    Пусть $(v_1, \dots, v_n)$ --- базис $V$.
    Зафиксируем трансверсаль $T = \{1, g_2, \dots, g_m\}$ --- представители левых смежных классов $G/H$:
    \[G = \bigsqcup\limits_{i = 1}^{m}g_i H\]
    Всякий разложимый тензор является линейной комбинацией векторов $g_i \otimes v_j$:
    \[F[G] \otimes_{F[H]} V \cong (F[H])^{\oplus m} \otimes_{F[H]} V \cong V^{\oplus m}\text{ --- изоморфизм $F[H]$-модулей}\]
    Тогда как $F$-модули они изоморфны и подавно, $\dim_F(FG\otimes_{F[H]}V) = m \cdot \dim V$, откуда $g_i \otimes v_j$ --- базис.

    Пусть $gg_i = g_k h$ для некоторого $g_k \in T, h \in H$.
    \[g \cdot (g_i \otimes v_j) = g_k h \otimes v_j = g_k \otimes hv_j = g_k \otimes \pi_h(v_j) = \sum\limits_{l = 1}^{n}(g_k \otimes v_l)\pi_{l,j}(h)\]
    Отсюда можно выцепить матрицу $\induced^G_H\pi_h$.
    Матрица блочная, блоки соответствуют $g_i \otimes v_j$ для фиксированного $j$.

    \[\induced^G_H\chi_\pi(g) = \sum\limits_{i: g_i^{-1}g g_i \in H}\chi_\pi(g_i^{-1}g g_{i})\]
    Характер --- центральная функция на $H$, а не на $G$, поэтому избавиться от сопряжения легко не получится.
    Пусть $f = g_i h \in g_i H$.
    Тогда $\chi_\pi(f^{-1}g f) = \chi_\pi(h^{-1}g_i^{-1}g g_{i}h) = \chi_\pi(g_i^{-1}gg_i)$.
    \[\induced^G_H\chi_\pi(g) = \sum\limits_{i: g_i^{-1}g g_i \in H}\chi_\pi(g_i^{-1}g g_{i}) = \frac{1}{|H|}\sum\limits_{f: f^{-1}gf \in H}\chi_{\pi}(f^{-1}gf)\]

    \multline{B(\induced\chi_\pi, \rho) = \frac{1}{|G|}\sum\limits_{g \in G}\induced\chi_\pi(g) \cdot \chi_\rho(g^{-1}) = \frac{1}{|G| \cdot |H|}\sum\limits_{g, f \in G: f^{-1}gf \in H}\chi_\pi(f^{-1}gf)\chi_\rho(g^{-1}) = \\ \left\|f^{-1}gf = h, g^{-1} = fhf^{-1}\right\| \\ = \frac{1}{|G|\cdot|H|}\sum\limits_{f \in G, h \in H}\chi_\pi(h)\cdot \chi_\rho(fh^{-1}f^{-1}) = \frac{1}{|H|}\sum\limits_{h \in H}\chi_\pi(h)\chi_\rho(h^{-1})}
    В данном доказательстве мы не пользуемся тем, что характеристика нуль.


    \chapter{Теория категорий}
    \newlection{14 ноября 2023 г.}
    \definition[Категория $\mathscr{C}$]{\down
    \bullets{
        \item Класс объектов $\Obj\mathscr{C}$
        \item Для каждых $A, B \in \Obj\mathscr{C}$ множество морфизмов (стрелок) $\Mor_\mathscr{C}(A, B)$.

        Если $(A, B) \ne (A', B')$ (где $A,B,A',B'\in\Obj\mathscr{C}$), то $\Mor_\mathscr{C}(A, B) \cap \Mor_\mathscr{C}(A', B') = \o$.

        Таким образом, по морфизму $\alpha \in \Mor_\mathscr{C}(A, B)$ однозначно восстанаваливаются $A, B$, их обозначают $A \bydef \source(\alpha), B = \target(\alpha)$
        \item Закон композиции морфизмов: $\forall A, B, C \in \Obj\mathscr{C}$ определено
        \begin{align*}
            \Mor_\mathscr{C}(B, C) \times \Mor_\mathscr{C}(A, B) &\map \Mor_\mathscr{C}(A, C)\\(\alpha,\beta)&\mapsto \alpha \beta
        \end{align*}
        \note{Иногда композицию записывают в обратном порядке: $\Mor_\mathscr{C}(A,B) \times \Mor_\mathscr{C}(B,C) \map \Mor_\mathscr{C}(A, C)$.}
        \item $\forall A \in \Obj\mathscr{C}$ определён тождественный морфизм $\id_A \in \Mor_\mathscr{C}(A, A)$, такой, что
        \[\forall B, C \in \Obj\mathscr{C}: \forall \beta \in \Mor_\mathscr{C}(A, B), \gamma \in \Mor_\mathscr{C}(C, A): \beta \id_A = \beta \text{ и }\id_A \gamma = \gamma\]
        \item Композиция ассоциативна, как только определена:
        \[\forall A, B, C, D \in \Obj\mathscr{C}: \forall \alpha \in \Mor_\mathscr{C}(A, B), \beta \in \Mor_\mathscr{C}(B, C), \gamma \in \Mor_\mathscr{C}(C, D): (\gamma \beta)\alpha = \gamma(\beta\alpha)\]
    }
    }
    Далее будем пользоваться сокращёнными обозначениями:
    \bullets{
        \item Вместо $A \in \Obj\mathscr{C}$ можно писать $A \in \mathscr{C}$.
        \item Вместо $\alpha \in \Mor_\mathscr{C}(A, B)$ можно писать $\alpha \in \Mor(A, B)$ или даже $\alpha: A \map B$, если категория ясна из контекста.
        В общем случае морфизм --- необязательно отображение, но в конкретных категориях это так, поэтому удобно мыслить о морфизмах, как о отображениях.
        \item Также определим класс всех морфизмов данной категории $\Mor\mathscr{C} = \bigsqcup\limits_{A, B \in \mathscr{C}}\Mor(A, B)$.
    }
    \examples[Категории]{
        \item $\Obj\mathscr{C} = \{A\}, \Mor(A, A)$ --- моноид.
        \item Конкретные категории --- неформально говоря, объекты со структурой, где морфизмы сохраняют данную структуру).
        \bullets{
            \item $\mathscr{Set}$. Объектами являются множества, морфизмами --- отображения.
            \item $\mathscr{Set}_*$. Объектами являются множества с отмеченной точкой $(X, x)$, $x \in X$, морфизмами --- отображения, сохраняющие отмеченную точку.
            \item $\mathscr{Group}$ --- категория групп с гомоморфизмами групп.
            \item $\mathscr{Ring}$ --- категория ассоциативных (необязательно коммутативных) колец с единицей с унитальными гомоморфизмами (сохраняющими единицу).
            \item $\mathscr{Rng}$ --- категория ассоциативных (необязательно коммутативных) колец с гомоморфизмами колец.
            \item $\mathscr{CRing}$ --- коммутативные кольца с единицей и унитальными гомоморфизмами.
            \item $\mathscr{CRng}$ --- коммутативные кольца с гомоморфизмами колец.
            \item $\mathscr{Ab}$ --- абелевы группы и аддитивные отображения.
            \item $\Lmod{R}$ --- левые $R$-модули и $R$-линейные отображения.
            \item $\modR{R}$ --- правые $R$-модули и $R$-линейные отображения.
            \item $\mathscr{Vect}_F$ --- конечномерные векторные пространства и $F$-линейные отображения.
            \item $\mathscr{Top}$ --- топологические пространства и непрерывные отображения.
            \item $\mathscr{Top}_*$ --- базированные топологические пространства (с отмеченной точкой) и непрерывные отображения, сохраняющие эту точку.
        }
    }
    \definition[Изоморфизм (изо) $\alpha: A \map B$]{
        Двусторонне обратимый морфизм: $\exists \beta: B \map A: \alpha \beta = \id_B, \beta\alpha = \id_A$.
    }
    \note{
        Как и в теории групп, если $\exists \beta, \beta': B \map A: \alpha\beta = \id_B, \beta'\alpha = \id_A$, то из ассоциативности $\beta = \beta'$.
    }
    \definition[Малая категория $\mathscr{C}$]{
        $\Obj\mathscr{C}$ --- множество.
    }
    \examples[Ещё категории]{
        \item \up \definition[Группоид]{Малая категория, в которой всякий морфизм --- изоморфизм.}
        Например, в топологическом пространстве можно ввести аналог фундаментальной группы --- \textit{фундаментальный группоид}, в котором пути --- стрелки из начала пути в конец пути.
        \item Пусть $\Gamma = (V, E)$ --- ориентированный граф.
        \bullets{
            \item $\mathscr{P}_\Gamma$ --- категория путей в $\Gamma$, для $x, y \in V: \Mor_{\mathscr{P}_\Gamma}(x, y)$ --- пути из $x$ в $y$.
            Композиция путей --- конкатенация.
            \item Категория достижимости $\mathscr{C}_\Gamma$. Для $x, y \in V: |\Mor_{\mathscr{C}_\Gamma}(x, y)| = \all{1,&x \cdots \rightarrow y \\ 0,& y\text{ недостижим из }x}$.
        }
        \item Пусть $(X, \le)$ --- частично упорядоченное множество, poset.
        Определим индексирующую категорию $\mathscr{C}_X$. $\Obj\mathscr{C}_X = X, |\Mor_{\mathscr{C}_X}(x, y)| = \all{1,&x \le  y \\ 0,& \text{иначе}}$
        \item Категория матриц $\mathscr{M}$ (над кольцом $R$ с единицей).
        $\Obj\mathscr{M} = \N$. $\Mor_\mathscr{M}(m, n) = M_{n \times m}(R)$.
        Композиция в данной категории --- умножение матриц:
        \begin{align*}
            \Mor(m, n) \times \Mor(k, m) &\map \Mor(k, n) \\ M_{n \times m}(R) \times M_{m \times k}(R) &\map M_{n \times k}(R)\\x, y &\mapsto xy
        \end{align*}
        Как будет видно позже, эта категория эквивалентна категории конечномерных векторных пространств.
        \item Категория стрелок. Пусть $\mathscr{C}$ --- категория, тогда $\mathscr{Arr}\mathscr{C}$ --- тоже категория.
        $\Obj\mathscr{Arr}\mathscr{C} = \Mor\mathscr{C}$. Пусть $\alpha: A \map B, \beta: C \map D$.
        Тогда $\Mor_{\mathscr{Arr}\mathscr{C}}(\alpha, \beta) = \defset{(\phi, \psi)}{\phi: A \map C, \psi: B \map D, \psi\alpha = \beta\psi}$
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDEsIkMiXSxbMSwxLCJEIl0sWzAsMiwiXFxwaGkiXSxbMSwzLCJcXHBzaSJdLFswLDEsIlxcYWxwaGEiXSxbMiwzLCJcXGJldGEiXV0=
        \[\begin{tikzcd}[ampersand replacement=\&]
              A \& B \\
              C \& D
              \arrow["\phi", from=1-1, to=2-1]
              \arrow["\psi", from=1-2, to=2-2]
              \arrow["\alpha", from=1-1, to=1-2]
              \arrow["\beta", from=2-1, to=2-2]
        \end{tikzcd}\]
        \item Пусть $\Gamma = (V, E)$ --- ориентированный граф, $\mathscr{C}$ --- категория.

        Определим категорию диаграмм в типе $\Gamma$ в категории $\mathscr{C}$ $\mathscr{D}_\mathscr{C}^\Gamma$.

        Предыдущий пример --- данный пример для графа $\Gamma$ следующего вида: $\begin{tikzcd}[ampersand replacement=\&]
                                                                                     \bullet \& \bullet\arrow[from=1-1, to=1-2]
        \end{tikzcd}$

        Формально $\Obj \mathscr{D}_\mathscr{C}^\Gamma = \defset{(f_o, f_m)}{f_o: V \map \Obj\mathscr{C}, f_m: E \map \Mor\mathscr{C}}$, причём стрелки согласованы: $\forall x \in E: f_o(\source(x)) = \source(f_m(x))$ и $f_o(\target(x)) = \target(f_m(x))$.

        $\Mor\mathscr{D}_\mathscr{C}^\Gamma\Big((f_o, f_m), (g_o, g_m)\Big) = \defset{\phi: V \map \Mor\mathscr{C}}{\phi(x) \in \Mor_\mathscr{C}(f_o(x), g_o(x))}$, причём морфизмами являются только те $\phi$, что $\forall (x, y) \in E$ диаграмма ниже коммутативна:
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJmX28oeCkiXSxbMSwwLCJmX28oeSkiXSxbMCwxLCJnX28oeCkiXSxbMSwxLCJnX28oeSkiXSxbMCwyLCJcXHBoaSh4KSJdLFsxLDMsIlxccGhpKHkpIl0sWzAsMSwiZl9tKCh4LCB5KSkiXSxbMiwzLCJnX20oKHgsIHkpKSJdXQ==
        \[\begin{tikzcd}[ampersand replacement=\&,column sep=large,row sep=large]
        {f_o(x)}
              \& {f_o(y)} \\
              {g_o(x)} \& {g_o(y)}
              \arrow["{\phi(x)}", from=1-1, to=2-1]
              \arrow["{\phi(y)}", from=1-2, to=2-2]
              \arrow["{f_m((x, y))}", from=1-1, to=1-2]
              \arrow["{g_m((x, y))}", from=2-1, to=2-2]
        \end{tikzcd}\]

        Например, для графа $\begin{tikzcd}[ampersand replacement=\&]
                                 \bullet \& \bullet \\
                                 \bullet \& \bullet
                                 \arrow[from=1-1, to=1-2]
                                 \arrow[from=1-2, to=2-2]
                                 \arrow[from=1-1, to=2-1]
                                 \arrow[from=2-1, to=2-2]
        \end{tikzcd}$ объекты --- это диаграммы вида $\begin{tikzcd}[ampersand replacement=\&]
                                                          A \& B \\
                                                          C \& D
                                                          \arrow["\alpha", from=1-1, to=1-2]
                                                          \arrow["\delta"', from=2-1, to=2-2]
                                                          \arrow["\gamma"', from=1-1, to=2-1]
                                                          \arrow["\beta", from=1-2, to=2-2]
        \end{tikzcd}$, а морфизмы --- это диаграммы вида
    % https://q.uiver.app/#q=WzAsOCxbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDEsIkMiXSxbMSwxLCJEIl0sWzIsMSwiQSciXSxbMiwyLCJDJyJdLFszLDEsIkInIl0sWzMsMiwiRCciXSxbMCwxLCJcXGFscGhhIl0sWzIsMywiXFxkZWx0YSIsMl0sWzAsMiwiXFxnYW1tYSIsMl0sWzEsMywiXFxiZXRhIl0sWzQsNSwiXFxnYW1tYSciLDJdLFs0LDYsIlxcYWxwaGEnIl0sWzUsNywiXFxkZWx0YSciLDJdLFs2LDcsIlxcYmV0YSciXSxbMCw0LCIiLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMSw2LCIiLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMiw1LCIiLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMyw3LCIiLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
        \[\begin{tikzcd}[ampersand replacement=\&]
              A \& B \\
              C \& D \& {A'} \& {B'} \\
              \&\& {C'} \& {D'}
              \arrow["\alpha", from=1-1, to=1-2]
              \arrow["\delta"', from=2-1, to=2-2]
              \arrow["\gamma"', from=1-1, to=2-1]
              \arrow["\beta", from=1-2, to=2-2]
              \arrow["{\gamma'}"', from=2-3, to=3-3]
              \arrow["{\alpha'}", from=2-3, to=2-4]
              \arrow["{\delta'}"', from=3-3, to=3-4]
              \arrow["{\beta'}", from=2-4, to=3-4]
              \arrow[dashed, from=1-1, to=2-3]
              \arrow[dashed, from=1-2, to=2-4]
              \arrow[dashed, from=2-1, to=3-3]
              \arrow[dashed, from=2-2, to=3-4]
        \end{tikzcd}\]
    }
    \newlection{16 ноября 2023 г.}


    \section{Универсальные объекты}
    Пусть $\mathscr{C}$ --- категория, $I, F \in \mathscr{C}$.
    \definition[$I$ --- инициальный объект]{
        Для любого $A \in \mathscr{C}: \abs{\Mor(I, A)} = 1$.
    }
    \definition[$F$ --- финальный (терминальный) объект]{
        Для любого $A \in \mathscr{C}: \abs{\Mor(A, F)} = 1$.
    }
    \examples{
        \item В множествах инициальный --- пустое, финальный --- одноэлементное.
        \item В $\mathscr{Group}$ оба объекта --- тривиальная группа.
        \definition[Нулевой объект]{Одновременно финальный и инициальный объект.}
        \item В категории полей таких объектов нет (гомоморфизм полей сохраняет характеристику, и вообще всякий гомоморфизм полей инъективен).
        \item В $\mathscr{CRing}$ инициальный объект --- $\Z$, финальный объект --- нулевое кольцо.
        \item В категории $F$-алгебр с отмеченной точкой финальный объект --- $(\{0\}, 0)$, инициальный объект --- $(F[x], x)$.
    }
    Вспомним универсальное свойство локализации:
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJSIl0sWzEsMCwiU157LTF9UiJdLFsxLDEsIkEiXSxbMCwyLCJcXGZvcmFsbCBcXHBzaSIsMl0sWzAsMSwiXFxwaGkiXSxbMSwyLCJcXGV4aXN0cyAhXFx0aGV0YSJdXQ==
    \[\begin{tikzcd}[ampersand replacement=\&]
          R \& {S^{-1}R} \\
          \& A
          \arrow["{\forall \psi}"', from=1-1, to=2-2]
          \arrow["\phi", from=1-1, to=1-2]
          \arrow["{\exists !\theta}", from=1-2, to=2-2]
    \end{tikzcd}\]
    $\forall \phi: R \map A$, такого, что $\forall s \in S: \phi(s) \in A^*: \exists ! \theta: R \map A$, такой, что диграмма комммутативна.

    Этому соответствует ... объект в категории $\mathscr{C}$, такой, что $\Obj\mathscr{C} = \defset{\phi: R \map A}{\phi(S) \subset A^*}$ и $\Mor_\mathscr{C}(\phi, \psi) = \defset{\alpha}{\alpha \psi = \phi}$.
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJSIl0sWzEsMCwiQSJdLFsxLDEsIkIiXSxbMCwyLCJcXHBzaSIsMl0sWzAsMSwiXFxwaGkiXSxbMSwyLCJcXGFscGhhIl1d
    \[\begin{tikzcd}[ampersand replacement=\&]
          R \& A \\
          \& B
          \arrow["\psi"', from=1-1, to=2-2]
          \arrow["\phi", from=1-1, to=1-2]
          \arrow["\alpha", from=1-2, to=2-2]
    \end{tikzcd}\]
    Вообще, всякий объект с универсальным свойством --- инициальный или финальный в некоторой категории, но для этого именно нужна \textbf{уни}версальность --- так, у алгебраического замыкания есть изоморфизм, оно единственно с точнотью до не единственного изоморфизма.

    Будем говорить, что объект \textit{единственен}, если он определён единственным образом с точностью до единственного изоморфизма.
    \proposal{
    Инициальный объект единственен (если существует).
        \provehere{
            Пусть $I, I'$ --- два инициальных объекта. $\Mor(I, I') = \{\alpha\}, \Mor(I', I) = \{\beta\}$, $\alpha\beta \in \Mor(I', I')$, и из инициальности $I': \alpha\beta = \id_{I'}$.

            Аналогично $\beta\alpha = \id_A$.
        }
    }
    \section{Функторы и не только}
    \subsection{Противоположная категория}
    Пусть $\mathscr{C}$ --- категория, тогда $\mathscr{C}^{\text{op}}$ --- \textit{противоположная категория}:
    \gather{\Obj\mathscr{C}^{\text{op}} = \Obj\mathscr{C}\qquad\forall A, B \in \mathscr{C}^{\text{op}}: \Mor_{\mathscr{C}^{\text{op}}}(A, B) = \Mor_{\mathscr{C}}(B, A)\\\alpha \underset{\mathscr{C}}\cdot \beta = \beta \underset{\mathscr{C}^{\text{op}}}\cdot \alpha}
    Неформально говоря, это категория с развёрнутыми стрелками.

    Всякому утверждению соответствует двойственное, и, например, доказав, что инициальный объект единственен, мы автоматически доказали единственность и финального объекта.
    \subsection{Декартово произведение категорий}
    Пусть $\mathscr{B}, \mathscr{C}$ --- категории.

    \definition[Декартово произведение категорий $\mathscr{B}\times\mathscr{C}$]{
    $\Obj(\mathscr{B}\times\mathscr{C}) = \Obj(\mathscr{B})\times\Obj(\mathscr{C})$, $\Mor_{\mathscr{B}\times\mathscr{C}}((B, C), (B', C')) = \Mor_\mathscr{B}(B, B') \times \Mor_\mathscr{C}(C, C')$.
    $(\alpha, \beta)(\alpha', \beta') = (\alpha\alpha', \beta\beta')$.
    }
    \subsection{Мономорфизмы и эпиморфизмы}
    Определим аналоги инъекции и сюръекции.
    Инъекция не склеивает точки, но в категориях у объектов нет точек, поэтому надо пойти другим путём.
    \definition[Мономорфизм (моно)]{Морфизм $\alpha$, такой, что его можно сокращать слева: $\forall \phi, \psi: \alpha\phi = \alpha \psi \then \phi = \psi$.
    Имеется в виду, что данное свойство выполняется для всех $\phi, \psi$, таких, что $\alpha\phi$ и $\alpha\psi$ определены.}
    Двойственно, морфизм называется \textit{эпиморфизмом (эпи)}, если на него можно сокращать справа.

    В конкретных категориях совсем не обязательно мономорфизмы --- инъективны (хотя это довольно часто), эпиморфимзы --- сюръективны (и это совсем неправда).

    Однако всегда инъекции --- моно, сюръекции --- эпи.
    \examples{
        \item В $\mathscr{Set}$ мономорфизмы и инъекции совпадают, также как и эпиморфизмы и сюръекции.
    \item В категории $\mathscr{Group}$ мономорфизмы и эпиморфизмы совпадают:
    % https://q.uiver.app/#q=WzAsMyxbMCwxLCJcXFoiXSxbMCwwLCJcXGFscGhhOiBHIl0sWzEsMCwiSCJdLFsxLDJdLFswLDEsIjEgXFxtYXBzdG8geCIsMCx7Im9mZnNldCI6LTJ9XSxbMCwxLCIxIFxcbWFwc3RvIHkiLDIseyJvZmZzZXQiOjJ9XSxbMCwyLCJcXGFscGhhKHgpID0gXFxhbHBoYSh5KSIsMix7ImN1cnZlIjoyfV1d
        \[\begin{tikzcd}[ampersand replacement=\&]
        {\alpha: G} \& H \\
        \Z
        \arrow[from=1-1, to=1-2]
        \arrow["{1 \mapsto x}", shift left=2, from=2-1, to=1-1]
        \arrow["{1 \mapsto y}"', shift right=2, from=2-1, to=1-1]
        \arrow["{\alpha(x) = \alpha(y)}"', curve={height=12pt}, from=2-1, to=1-2]
        \end{tikzcd}\]
    \note{
        Диаграмма с кратными стрелками называется коммутативной, если композиция любых двух (или более) стрелок совпадает, но кратные стрелки не обязаны быть равны друг другу.
    }
    \item В $\mathscr{CRing}$ вложение $\Z \hookrightarrow \Q$ --- очевидно, не сюръекция, хотя и эпиморфизм: в композиции $\begin{tikzcd}[ampersand replacement=\&]
              \Z \& \Q \& R
              \arrow[hook, from=1-1, to=1-2]
              \arrow[shift left, from=1-2, to=1-3]
              \arrow[shift right, from=1-2, to=1-3]
              \arrow[curve={height=18pt}, from=1-1, to=1-3]
        \end{tikzcd}$ всякий морфизм из $\Z$ или из $\Q$ однозначно определяется образом единицы.

        Любая локализация --- эпиморфизм, и вообще бывают ещё эпиморфизмы, не являющиеся композицией сюръекции и локализации, но построить их непросто.
    \item В $\mathscr{Group}$ эпиморфизмы --- сюръекции.
        \provehere{
            Всякий морфизм в $\mathscr{Group}$ разложим в комопзицию эпиморфизма и мономорфизма.
        Тогда если нашёлся несюръективный эпиморфизм, то найдётся вложение в $H \lneq G$, являющаяся мономорфизмом.

        Рассмотрим амальгамированное произведение $G_1 \underset{H}* G_2$, где $G_1 \cong G_2 \cong G$ и $G_1 \cap G_2 = H$, оно определено в следующем абзаце.

        $G_1 \underset{H}* G_2$ состоит из всевозможных слов $f_1 g_1 f_2 g_2 \dots f_n g_n$, где $f_i \in G_1, g_i \in g_2$.
        Ещё надо добавить соотношения $\all{(fh) (h^{-1}g) \sim fg\\f_1 1_{G_2} f_2 = f_1f_2 \\ g_1 1_{G_1} g_2 = g_1 g_2}$, где $f \in G_1, h \in H, g \in G_2$ и отфакторизовать по их нормальному замыканию.
        Если $H = \{1\}$, то $G_1 \underset{H}* G_2$ --- свободное произведение.

        Далее надо доказать, что если $f \in G_1 \sm H, g \in G_2 \sm H$, то элементы $f, g \in G_1 \underset{H}* G_2$ не равны.
        Если это доказано, то далее видим, что при $H \lneq G$ нарушается определение эпиморфизма:
        % https://q.uiver.app/#q=WzAsMyxbMCwwLCJIIl0sWzEsMCwiRyJdLFsyLDAsIkdfMSBcXHVuZGVyc2V0e0h9KiBHXzIiXSxbMCwxLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFsxLDIsIiIsMCx7Im9mZnNldCI6MX1dLFsxLDIsIiIsMCx7Im9mZnNldCI6LTF9XSxbMCwyLCIiLDIseyJjdXJ2ZSI6M31dXQ==
            \[\begin{tikzcd}[ampersand replacement=\&]
                  H \& G \& {G_1 \underset{H}* G_2}
                  \arrow[hook, from=1-1, to=1-2]
                  \arrow[shift right, from=1-2, to=1-3]
                  \arrow[shift left, from=1-2, to=1-3]
                  \arrow[curve={height=18pt}, from=1-1, to=1-3]
            \end{tikzcd}\]
        }
    \item В категории метрических пространств отображения с плотным образом --- эпиморфизмы.
    В любом хаусдорфовом пространстве (возможно, даже только с первой аксиомой отделимости (да?)) это тоже так.
    }
    \subsection{Функторы}
    \definition[(Ковариантный) функтор между категориями $\mathscr{B}$ и $\mathscr{C}$ $\mathcal{F}: \mathscr{B} \map \mathscr{C}$] {\label{functor}Класс отображений
    \bullets{
    \item $\mathcal{F}: \Obj\mathscr{B} \map \Obj\mathscr{C}$.
    \item $\forall X, Y \in \mathscr{B}$: $\mathcal{F}_{X,Y}: \Mor_\mathscr{B}(X, Y) \map \Mor_{\mathscr{C}}(\mathcal{F}(x), \Fc(y))$.
    }
    причём отображения должны сохранять композицию и единицу (второе условие обязательно, например, категория --- моноид --- может сохранять композицию, но не единицу).}
    \definition[Строгий функтор $\mathcal{F}$]{
    $\forall X, Y \in \mathscr{B}: \Fc_{X,Y}$ инъективно.
    }
    \definition[Полный функтор $\mathcal{F}$]{
    $\forall X, Y \in \mathscr{B}: \Fc_{X,Y}$ сюръективно.
    }
    \note{
        Важно, как функторы ведут себя на морфизмах, изоморфные объекты могут склеиваться, или наоборот, у объекта может возникнуть изоморфная копия, и это не должно менять строгость или полноту функтора.
    }
    \examples{
    \item Забывающие функторы --- забывают часть структуры.
    \bullets{
    \item Любая конкретная категория отображается в $\mathscr{Set}$.
        Например, $\mathscr{Group} \map \mathscr{Set}$ --- строгий функтор.
    \item $\mathscr{Rng} \map \mathscr{Ab}$ --- сопоставляем кольцу его аддитивную группу, строгий функтор.
    \item $\mathscr{Rng} \map \mathscr{Mon}$ --- сопоставляем кольцу его мультипликативный моноид, строгий функтор.
    }
    \item $GL_n: \mathscr{Ring} \map \mathscr{Group}, R \mapsto GL_n(R)$. Это опять задание функтора на объектах, но морфизмах его надо продолжить интуитивным образом.

    Формально, для $\phi: R \map S$ надо задать $(GL_n)_{R, S}(\phi): GL_n(R) \map GL_n(S)$. $\forall a \in GL_n(R): (GL_n)_{R,S}(a)_{i,j} = \phi(a_{i,j})$. Далее надо проверить, что $(GL_n)_{R,S}(\phi)$ (часто его обозначают той же буквой $\phi$) --- гомоморфизм групп.
    }
    \subsection{Контравариантный функтор}
    Контравариантный функтор обращает стрелки. $\mathcal{F}: \mathscr{B} \map \mathscr{C}$ --- это на самом деле функтор $\mathscr{B}^\text{op} \map \mathscr{C}$.
    Несложно проверить, что он совпадает с функтором $\mathscr{B} \map \mathscr{C}^\text{op}$.

    В частности, $\forall X, Y \in \mathscr{B}: \mathcal{F}_{X,Y}: \Mor(Y, X) \map \Mor(\Fc(x), \Fc(y))$.

    Согласно этому определению, контравариантный функтор не является функтором.
    \example{
    Пусть $\mathscr{C}$ --- категория с объектом $X \in \mathscr{C}$.
    Зададим функтор \begin{align*}\Mor(\_, X): \mathscr{C} &\map \mathscr{Set}\\ Y &\mapsto \Mor(Y, X)\\\forall \phi: Y \map Y': \Mor(\phi, X): \Mor(Y', X) &\map \Mor(Y, X),& \alpha \mapsto \alpha \phi\end{align*}
    Функтор $\Mor(\_, X)$ особо опасен (например, он контравариантен), с ним стоит обращаться с чрезвычайной осторожностью.
    }
\end{document}